{"version":3,"file":"can-i-kit.cjs.js","sources":["../src/policies/policy.ts","../src/lib/objects/exists.ts","../src/policies/handlers/policy_exists.ts","../src/lib/objects/splat_import.ts","../src/policies/handlers/splat.ts","../src/lib/objects/klass.ts","../src/policies/handlers/klass.ts","../src/lib/objects/default_import.ts","../src/policies/handlers/default_import.ts","../src/policies/fireable.ts","../src/errors/permission_denied_error.ts","../src/lib/request/map_rest.ts","../src/actions/resolver.ts","../src/authorization/canI.ts","../src/hooks/index.ts","../src/lib/ast/has_called_function.ts","../src/lib/ast/has_slash_comment.ts","../src/parsing/calls_cani.ts","../src/parsing/skip_comment.ts","../src/parsing/valid_server_code.ts","../src/lib/errors/throw_or_warn.ts","../src/errors/handlers/invalid_server.ts","../src/parsing/index.ts","../src/lib/sveltekit/is_server_file.ts","../src/vite/plugin.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["resolveAction","pipe"],"mappings":"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"}