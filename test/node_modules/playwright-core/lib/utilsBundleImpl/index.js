"use strict";var Wv=Object.create;var us=Object.defineProperty;var Gv=Object.getOwnPropertyDescriptor;var zv=Object.getOwnPropertyNames;var Yv=Object.getPrototypeOf,Kv=Object.prototype.hasOwnProperty;var Xv=(i,e,t)=>e in i?us(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var A=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),Zv=(i,e)=>{for(var t in e)us(i,t,{get:e[t],enumerable:!0})},Ff=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of zv(e))!Kv.call(i,n)&&n!==t&&us(i,n,{get:()=>e[n],enumerable:!(r=Gv(e,n))||r.enumerable});return i};var Ie=(i,e,t)=>(t=i!=null?Wv(Yv(i)):{},Ff(e||!i||!i.__esModule?us(t,"default",{value:i,enumerable:!0}):t,i)),Jv=i=>Ff(us({},"__esModule",{value:!0}),i);var _=(i,e,t)=>(Xv(i,typeof e!="symbol"?e+"":e,t),t),xl=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var c=(i,e,t)=>(xl(i,e,"read from private field"),t?t.call(i):e.get(i)),E=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},y=(i,e,t,r)=>(xl(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t);var $o=(i,e,t,r)=>({set _(n){y(i,e,n,t)},get _(){return c(i,e,r)}}),I=(i,e,t)=>(xl(i,e,"access private method"),t);var Uf=A((ak,Df)=>{var Mf={};Df.exports=Mf;var Pf={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(Pf).forEach(function(i){var e=Pf[i],t=Mf[i]=[];t.open="\x1B["+e[0]+"m",t.close="\x1B["+e[1]+"m"})});var qf=A((lk,jf)=>{"use strict";jf.exports=function(i,e){e=e||process.argv;var t=e.indexOf("--"),r=/^-{1,2}/.test(i)?"":"--",n=e.indexOf(r+i);return n!==-1&&(t===-1?!0:n<t)}});var $f=A((ck,Hf)=>{"use strict";var Qv=require("os"),Zt=qf(),_t=process.env,Qr=void 0;Zt("no-color")||Zt("no-colors")||Zt("color=false")?Qr=!1:(Zt("color")||Zt("colors")||Zt("color=true")||Zt("color=always"))&&(Qr=!0);"FORCE_COLOR"in _t&&(Qr=_t.FORCE_COLOR.length===0||parseInt(_t.FORCE_COLOR,10)!==0);function ex(i){return i===0?!1:{level:i,hasBasic:!0,has256:i>=2,has16m:i>=3}}function tx(i){if(Qr===!1)return 0;if(Zt("color=16m")||Zt("color=full")||Zt("color=truecolor"))return 3;if(Zt("color=256"))return 2;if(i&&!i.isTTY&&Qr!==!0)return 0;var e=Qr?1:0;if(process.platform==="win32"){var t=Qv.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in _t)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(n){return n in _t})||_t.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in _t)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(_t.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in _t){var r=parseInt((_t.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(_t.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(_t.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(_t.TERM)||"COLORTERM"in _t?1:(_t.TERM==="dumb",e)}function yl(i){var e=tx(i);return ex(e)}Hf.exports={supportsColor:yl,stdout:yl(process.stdout),stderr:yl(process.stderr)}});var Wf=A((hk,Vf)=>{Vf.exports=function(e,t){var r="";e=e||"Run the trap, drop the bass",e=e.split("");var n={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(s){s=s.toLowerCase();var o=n[s]||[" "],a=Math.floor(Math.random()*o.length);typeof n[s]!="undefined"?r+=n[s][a]:r+=s}),r}});var zf=A((fk,Gf)=>{Gf.exports=function(e,t){e=e||"   he is here   ";var r={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},n=[].concat(r.up,r.down,r.mid);function s(l){var h=Math.floor(Math.random()*l);return h}function o(l){var h=!1;return n.filter(function(f){h=f===l}),h}function a(l,h){var f="",u,p;h=h||{},h.up=typeof h.up!="undefined"?h.up:!0,h.mid=typeof h.mid!="undefined"?h.mid:!0,h.down=typeof h.down!="undefined"?h.down:!0,h.size=typeof h.size!="undefined"?h.size:"maxi",l=l.split("");for(p in l)if(!o(p)){switch(f=f+l[p],u={up:0,down:0,mid:0},h.size){case"mini":u.up=s(8),u.mid=s(2),u.down=s(8);break;case"maxi":u.up=s(16)+3,u.mid=s(4)+1,u.down=s(64)+3;break;default:u.up=s(8)+1,u.mid=s(6)/2,u.down=s(8)+1;break}var m=["up","mid","down"];for(var g in m)for(var d=m[g],v=0;v<=u[d];v++)h[d]&&(f=f+r[d][s(r[d].length)])}return f}return a(e,t)}});var Kf=A((uk,Yf)=>{Yf.exports=function(i){return function(e,t,r){if(e===" ")return e;switch(t%3){case 0:return i.red(e);case 1:return i.white(e);case 2:return i.blue(e)}}}});var Zf=A((pk,Xf)=>{Xf.exports=function(i){return function(e,t,r){return t%2===0?e:i.inverse(e)}}});var Qf=A((dk,Jf)=>{Jf.exports=function(i){var e=["red","yellow","green","blue","magenta"];return function(t,r,n){return t===" "?t:i[e[r++%e.length]](t)}}});var tu=A((mk,eu)=>{eu.exports=function(i){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(t,r,n){return t===" "?t:i[e[Math.round(Math.random()*(e.length-2))]](t)}}});var au=A((vk,ou)=>{var pe={};ou.exports=pe;pe.themes={};var ix=require("util"),_r=pe.styles=Uf(),ru=Object.defineProperties,rx=new RegExp(/[\r\n]+/g);pe.supportsColor=$f().supportsColor;typeof pe.enabled=="undefined"&&(pe.enabled=pe.supportsColor()!==!1);pe.enable=function(){pe.enabled=!0};pe.disable=function(){pe.enabled=!1};pe.stripColors=pe.strip=function(i){return(""+i).replace(/\x1B\[\d+m/g,"")};var gk=pe.stylize=function(e,t){if(!pe.enabled)return e+"";var r=_r[t];return!r&&t in pe?pe[t](e):r.open+e+r.close},nx=/[|\\{}()[\]^$+*?.]/g,sx=function(i){if(typeof i!="string")throw new TypeError("Expected a string");return i.replace(nx,"\\$&")};function nu(i){var e=function t(){return ax.apply(t,arguments)};return e._styles=i,e.__proto__=ox,e}var su=function(){var i={};return _r.grey=_r.gray,Object.keys(_r).forEach(function(e){_r[e].closeRe=new RegExp(sx(_r[e].close),"g"),i[e]={get:function(){return nu(this._styles.concat(e))}}}),i}(),ox=ru(function(){},su);function ax(){var i=Array.prototype.slice.call(arguments),e=i.map(function(o){return o!=null&&o.constructor===String?o:ix.inspect(o)}).join(" ");if(!pe.enabled||!e)return e;for(var t=e.indexOf(`
`)!=-1,r=this._styles,n=r.length;n--;){var s=_r[r[n]];e=s.open+e.replace(s.closeRe,s.open)+s.close,t&&(e=e.replace(rx,function(o){return s.close+o+s.open}))}return e}pe.setTheme=function(i){if(typeof i=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in i)(function(t){pe[t]=function(r){if(typeof i[t]=="object"){var n=r;for(var s in i[t])n=pe[i[t][s]](n);return n}return pe[i[t]](r)}})(e)};function lx(){var i={};return Object.keys(su).forEach(function(e){i[e]={get:function(){return nu([e])}}}),i}var cx=function(e,t){var r=t.split("");return r=r.map(e),r.join("")};pe.trap=Wf();pe.zalgo=zf();pe.maps={};pe.maps.america=Kf()(pe);pe.maps.zebra=Zf()(pe);pe.maps.rainbow=Qf()(pe);pe.maps.random=tu()(pe);for(iu in pe.maps)(function(i){pe[i]=function(e){return cx(pe.maps[i],e)}})(iu);var iu;ru(pe,lx())});var cu=A((xk,lu)=>{var hx=au();lu.exports=hx});var fu=A((yk,hu)=>{var en=1e3,tn=en*60,rn=tn*60,wr=rn*24,fx=wr*7,ux=wr*365.25;hu.exports=function(i,e){e=e||{};var t=typeof i;if(t==="string"&&i.length>0)return px(i);if(t==="number"&&isFinite(i))return e.long?mx(i):dx(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function px(i){if(i=String(i),!(i.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*ux;case"weeks":case"week":case"w":return t*fx;case"days":case"day":case"d":return t*wr;case"hours":case"hour":case"hrs":case"hr":case"h":return t*rn;case"minutes":case"minute":case"mins":case"min":case"m":return t*tn;case"seconds":case"second":case"secs":case"sec":case"s":return t*en;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function dx(i){var e=Math.abs(i);return e>=wr?Math.round(i/wr)+"d":e>=rn?Math.round(i/rn)+"h":e>=tn?Math.round(i/tn)+"m":e>=en?Math.round(i/en)+"s":i+"ms"}function mx(i){var e=Math.abs(i);return e>=wr?Vo(i,e,wr,"day"):e>=rn?Vo(i,e,rn,"hour"):e>=tn?Vo(i,e,tn,"minute"):e>=en?Vo(i,e,en,"second"):i+" ms"}function Vo(i,e,t,r){var n=e>=t*1.5;return Math.round(i/t)+" "+r+(n?"s":"")}});var _l=A((_k,uu)=>{function gx(i){t.debug=t,t.default=t,t.coerce=l,t.disable=s,t.enable=n,t.enabled=o,t.humanize=fu(),t.destroy=h,Object.keys(i).forEach(f=>{t[f]=i[f]}),t.names=[],t.skips=[],t.formatters={};function e(f){let u=0;for(let p=0;p<f.length;p++)u=(u<<5)-u+f.charCodeAt(p),u|=0;return t.colors[Math.abs(u)%t.colors.length]}t.selectColor=e;function t(f){let u,p=null,m,g;function d(...v){if(!d.enabled)return;let x=d,C=Number(new Date),w=C-(u||C);x.diff=w,x.prev=u,x.curr=C,u=C,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let O=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(U,R)=>{if(U==="%%")return"%";O++;let H=t.formatters[R];if(typeof H=="function"){let T=v[O];U=H.call(x,T),v.splice(O,1),O--}return U}),t.formatArgs.call(x,v),(x.log||t.log).apply(x,v)}return d.namespace=f,d.useColors=t.useColors(),d.color=t.selectColor(f),d.extend=r,d.destroy=t.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==t.namespaces&&(m=t.namespaces,g=t.enabled(f)),g),set:v=>{p=v}}),typeof t.init=="function"&&t.init(d),d}function r(f,u){let p=t(this.namespace+(typeof u=="undefined"?":":u)+f);return p.log=this.log,p}function n(f){t.save(f),t.namespaces=f,t.names=[],t.skips=[];let u,p=(typeof f=="string"?f:"").split(/[\s,]+/),m=p.length;for(u=0;u<m;u++)p[u]&&(f=p[u].replace(/\*/g,".*?"),f[0]==="-"?t.skips.push(new RegExp("^"+f.slice(1)+"$")):t.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...t.names.map(a),...t.skips.map(a).map(u=>"-"+u)].join(",");return t.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let u,p;for(u=0,p=t.skips.length;u<p;u++)if(t.skips[u].test(f))return!1;for(u=0,p=t.names.length;u<p;u++)if(t.names[u].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function l(f){return f instanceof Error?f.stack||f.message:f}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}uu.exports=gx});var pu=A((Rt,Wo)=>{Rt.formatArgs=xx;Rt.save=yx;Rt.load=_x;Rt.useColors=vx;Rt.storage=wx();Rt.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Rt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vx(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function xx(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+Wo.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;i.splice(1,0,e,"color: inherit");let t=0,r=0;i[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(t++,n==="%c"&&(r=t))}),i.splice(r,0,e)}Rt.log=console.debug||console.log||(()=>{});function yx(i){try{i?Rt.storage.setItem("debug",i):Rt.storage.removeItem("debug")}catch{}}function _x(){let i;try{i=Rt.storage.getItem("debug")}catch{}return!i&&typeof process!="undefined"&&"env"in process&&(i=process.env.DEBUG),i}function wx(){try{return localStorage}catch{}}Wo.exports=_l()(Rt);var{formatters:bx}=Wo.exports;bx.j=function(i){try{return JSON.stringify(i)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var mu=A((wk,du)=>{"use strict";du.exports=(i,e)=>{e=e||process.argv;let t=i.startsWith("-")?"":i.length===1?"-":"--",r=e.indexOf(t+i),n=e.indexOf("--");return r!==-1&&(n===-1?!0:r<n)}});var vu=A((bk,gu)=>{"use strict";var Sx=require("os"),Jt=mu(),pt=process.env,nn;Jt("no-color")||Jt("no-colors")||Jt("color=false")?nn=!1:(Jt("color")||Jt("colors")||Jt("color=true")||Jt("color=always"))&&(nn=!0);"FORCE_COLOR"in pt&&(nn=pt.FORCE_COLOR.length===0||parseInt(pt.FORCE_COLOR,10)!==0);function Ex(i){return i===0?!1:{level:i,hasBasic:!0,has256:i>=2,has16m:i>=3}}function kx(i){if(nn===!1)return 0;if(Jt("color=16m")||Jt("color=full")||Jt("color=truecolor"))return 3;if(Jt("color=256"))return 2;if(i&&!i.isTTY&&nn!==!0)return 0;let e=nn?1:0;if(process.platform==="win32"){let t=Sx.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in pt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in pt)||pt.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in pt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(pt.TEAMCITY_VERSION)?1:0;if(pt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in pt){let t=parseInt((pt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(pt.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(pt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(pt.TERM)||"COLORTERM"in pt?1:(pt.TERM==="dumb",e)}function wl(i){let e=kx(i);return Ex(e)}gu.exports={supportsColor:wl,stdout:wl(process.stdout),stderr:wl(process.stderr)}});var yu=A((at,zo)=>{var Cx=require("tty"),Go=require("util");at.init=Nx;at.log=Ix;at.formatArgs=Tx;at.save=Rx;at.load=Lx;at.useColors=Ox;at.destroy=Go.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");at.colors=[6,2,3,4,5,1];try{let i=vu();i&&(i.stderr||i).level>=2&&(at.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}at.inspectOpts=Object.keys(process.env).filter(i=>/^debug_/i.test(i)).reduce((i,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),i[t]=r,i},{});function Ox(){return"colors"in at.inspectOpts?!!at.inspectOpts.colors:Cx.isatty(process.stderr.fd)}function Tx(i){let{namespace:e,useColors:t}=this;if(t){let r=this.color,n="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${n};1m${e} \x1B[0m`;i[0]=s+i[0].split(`
`).join(`
`+s),i.push(n+"m+"+zo.exports.humanize(this.diff)+"\x1B[0m")}else i[0]=Ax()+e+" "+i[0]}function Ax(){return at.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Ix(...i){return process.stderr.write(Go.format(...i)+`
`)}function Rx(i){i?process.env.DEBUG=i:delete process.env.DEBUG}function Lx(){return process.env.DEBUG}function Nx(i){i.inspectOpts={};let e=Object.keys(at.inspectOpts);for(let t=0;t<e.length;t++)i.inspectOpts[e[t]]=at.inspectOpts[e[t]]}zo.exports=_l()(at);var{formatters:xu}=zo.exports;xu.o=function(i){return this.inspectOpts.colors=this.useColors,Go.inspect(i,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};xu.O=function(i){return this.inspectOpts.colors=this.useColors,Go.inspect(i,this.inspectOpts)}});var sn=A((Sk,bl)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?bl.exports=pu():bl.exports=yu()});var wu=A(_u=>{"use strict";var Bx=require("url").parse,Fx={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Px=String.prototype.endsWith||function(i){return i.length<=this.length&&this.indexOf(i,this.length-i.length)!==-1};function Mx(i){var e=typeof i=="string"?Bx(i):i||{},t=e.protocol,r=e.host,n=e.port;if(typeof r!="string"||!r||typeof t!="string"||(t=t.split(":",1)[0],r=r.replace(/:\d*$/,""),n=parseInt(n)||Fx[t]||0,!Dx(r,n)))return"";var s=on("npm_config_"+t+"_proxy")||on(t+"_proxy")||on("npm_config_proxy")||on("all_proxy");return s&&s.indexOf("://")===-1&&(s=t+"://"+s),s}function Dx(i,e){var t=(on("npm_config_no_proxy")||on("no_proxy")).toLowerCase();return t?t==="*"?!1:t.split(/[,\s]/).every(function(r){if(!r)return!0;var n=r.match(/^(.+):(\d+)$/),s=n?n[1]:r,o=n?parseInt(n[2]):0;return o&&o!==e?!0:/^[.*]/.test(s)?(s.charAt(0)==="*"&&(s=s.slice(1)),!Px.call(i,s)):i!==s}):!0}function on(i){return process.env[i.toLowerCase()]||process.env[i.toUpperCase()]||""}_u.getProxyForUrl=Mx});var bu=A(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});function Ux(i){return function(e,t){return new Promise((r,n)=>{i.call(this,e,t,(s,o)=>{s?n(s):r(o)})})}}Sl.default=Ux});var Cl=A((kl,Eu)=>{"use strict";var Su=kl&&kl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},jx=require("events"),qx=Su(sn()),Hx=Su(bu()),ps=qx.default("agent-base");function $x(i){return!!i&&typeof i.addRequest=="function"}function El(){let{stack:i}=new Error;return typeof i!="string"?!1:i.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function Yo(i,e){return new Yo.Agent(i,e)}(function(i){class e extends jx.EventEmitter{constructor(r,n){super();let s=n;typeof r=="function"?this.callback=r:r&&(s=r),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:El()?443:80}set defaultPort(r){this.explicitDefaultPort=r}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:El()?"https:":"http:"}set protocol(r){this.explicitProtocol=r}callback(r,n,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(r,n){let s=Object.assign({},n);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=El()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,r._last=!0,r.shouldKeepAlive=!1;let o=!1,a=null,l=s.timeout||this.timeout,h=m=>{r._hadError||(r.emit("error",m),r._hadError=!0)},f=()=>{a=null,o=!0;let m=new Error(`A "socket" was not created for HTTP request before ${l}ms`);m.code="ETIMEOUT",h(m)},u=m=>{o||(a!==null&&(clearTimeout(a),a=null),h(m))},p=m=>{if(o)return;if(a!=null&&(clearTimeout(a),a=null),$x(m)){ps("Callback returned another Agent instance %o",m.constructor.name),m.addRequest(r,s);return}if(m){m.once("free",()=>{this.freeSocket(m,s)}),r.onSocket(m);return}let g=new Error(`no Duplex stream was returned to agent-base for \`${r.method} ${r.path}\``);h(g)};if(typeof this.callback!="function"){h(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(ps("Converting legacy callback function to promise"),this.promisifiedCallback=Hx.default(this.callback)):this.promisifiedCallback=this.callback),typeof l=="number"&&l>0&&(a=setTimeout(f,l)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{ps("Resolving socket for %o request: %o",s.protocol,`${r.method} ${r.path}`),Promise.resolve(this.promisifiedCallback(r,s)).then(p,u)}catch(m){Promise.reject(m).catch(u)}}freeSocket(r,n){ps("Freeing socket %o %o",r.constructor.name,n),r.destroy()}destroy(){ps("Destroying agent %o",this.constructor.name)}}i.Agent=e,i.prototype=i.Agent.prototype})(Yo||(Yo={}));Eu.exports=Yo});var ku=A(ms=>{"use strict";var Vx=ms&&ms.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ms,"__esModule",{value:!0});var Wx=Vx(sn()),ds=Wx.default("https-proxy-agent:parse-proxy-response");function Gx(i){return new Promise((e,t)=>{let r=0,n=[];function s(){let u=i.read();u?f(u):i.once("readable",s)}function o(){i.removeListener("end",l),i.removeListener("error",h),i.removeListener("close",a),i.removeListener("readable",s)}function a(u){ds("onclose had error %o",u)}function l(){ds("onend")}function h(u){o(),ds("onerror %o",u),t(u)}function f(u){n.push(u),r+=u.length;let p=Buffer.concat(n,r);if(p.indexOf(`\r
\r
`)===-1){ds("have not received end of HTTP headers yet..."),s();return}let g=p.toString("ascii",0,p.indexOf(`\r
`)),d=+g.split(" ")[1];ds("got proxy server response: %o",g),e({statusCode:d,buffered:p})}i.on("error",h),i.on("close",a),i.on("end",l),s()})}ms.default=Gx});var Tu=A(br=>{"use strict";var zx=br&&br.__awaiter||function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{h(r.next(f))}catch(u){o(u)}}function l(f){try{h(r.throw(f))}catch(u){o(u)}}function h(f){f.done?s(f.value):n(f.value).then(a,l)}h((r=r.apply(i,e||[])).next())})},an=br&&br.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(br,"__esModule",{value:!0});var Cu=an(require("net")),Ou=an(require("tls")),Yx=an(require("url")),Kx=an(require("assert")),Xx=an(sn()),Zx=Cl(),Jx=an(ku()),gs=Xx.default("https-proxy-agent:agent"),Ol=class extends Zx.Agent{constructor(e){let t;if(typeof e=="string"?t=Yx.default.parse(e):t=e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");gs("creating new HttpsProxyAgent instance: %o",t),super(t);let r=Object.assign({},t);this.secureProxy=t.secureProxy||ty(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return zx(this,void 0,void 0,function*(){let{proxy:r,secureProxy:n}=this,s;n?(gs("Creating `tls.Socket`: %o",r),s=Ou.default.connect(r)):(gs("Creating `net.Socket`: %o",r),s=Cu.default.connect(r));let o=Object.assign({},r.headers),l=`CONNECT ${`${t.host}:${t.port}`} HTTP/1.1\r
`;r.auth&&(o["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:h,port:f,secureEndpoint:u}=t;ey(f,u)||(h+=`:${f}`),o.Host=h,o.Connection="close";for(let v of Object.keys(o))l+=`${v}: ${o[v]}\r
`;let p=Jx.default(s);s.write(`${l}\r
`);let{statusCode:m,buffered:g}=yield p;if(m===200){if(e.once("socket",Qx),t.secureEndpoint){let v=t.servername||t.host;if(!v)throw new Error('Could not determine "servername"');return gs("Upgrading socket connection to TLS"),Ou.default.connect(Object.assign(Object.assign({},iy(t,"host","hostname","path","port")),{socket:s,servername:v}))}return s}s.destroy();let d=new Cu.default.Socket;return d.readable=!0,e.once("socket",v=>{gs("replaying proxy buffer for failed request"),Kx.default(v.listenerCount("data")>0),v.push(g),v.push(null)}),d})}};br.default=Ol;function Qx(i){i.resume()}function ey(i,e){return!!(!e&&i===80||e&&i===443)}function ty(i){return typeof i=="string"?/^https:?$/i.test(i):!1}function iy(i,...e){let t={},r;for(r in i)e.includes(r)||(t[r]=i[r]);return t}});var Iu=A((Il,Au)=>{"use strict";var ry=Il&&Il.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},Tl=ry(Tu());function Al(i){return new Tl.default(i)}(function(i){i.HttpsProxyAgent=Tl.default,i.prototype=Tl.default.prototype})(Al||(Al={}));Au.exports=Al});var Nu=A((Tk,Ko)=>{var Lu=Lu||function(i){return Buffer.from(i).toString("base64")};function ny(i){var e=this,t=Math.round,r=Math.floor,n=new Array(64),s=new Array(64),o=new Array(64),a=new Array(64),l,h,f,u,p=new Array(65535),m=new Array(65535),g=new Array(64),d=new Array(64),v=[],x=0,C=7,w=new Array(64),O=new Array(64),b=new Array(64),U=new Array(256),R=new Array(2048),H,T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ne=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(S){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var K=r((W[J]*S+50)/100);K<1?K=1:K>255&&(K=255),n[T[J]]=K}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var ye=r((se[oe]*S+50)/100);ye<1?ye=1:ye>255&&(ye=255),s[T[oe]]=ye}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,Ce=0;Ce<8;Ce++)for(var N=0;N<8;N++)o[Me]=1/(n[T[Me]]*_e[Ce]*_e[N]*8),a[Me]=1/(s[T[Me]]*_e[Ce]*_e[N]*8),Me++}function j(S,W){for(var J=0,K=0,se=new Array,oe=1;oe<=16;oe++){for(var ye=1;ye<=S[oe];ye++)se[W[K]]=[],se[W[K]][0]=J,se[W[K]][1]=oe,K++,J++;J*=2}return se}function Le(){l=j(B,M),h=j(ne,P),f=j(X,D),u=j($,G)}function ge(){for(var S=1,W=2,J=1;J<=15;J++){for(var K=S;K<W;K++)m[32767+K]=J,p[32767+K]=[],p[32767+K][1]=J,p[32767+K][0]=K;for(var se=-(W-1);se<=-S;se++)m[32767+se]=J,p[32767+se]=[],p[32767+se][1]=J,p[32767+se][0]=W-1+se;S<<=1,W<<=1}}function ce(){for(var S=0;S<256;S++)R[S]=19595*S,R[S+256>>0]=38470*S,R[S+512>>0]=7471*S+32768,R[S+768>>0]=-11059*S,R[S+1024>>0]=-21709*S,R[S+1280>>0]=32768*S+8421375,R[S+1536>>0]=-27439*S,R[S+1792>>0]=-5329*S}function he(S){for(var W=S[0],J=S[1]-1;J>=0;)W&1<<J&&(x|=1<<C),J--,C--,C<0&&(x==255?(k(255),k(0)):k(x),C=7,x=0)}function k(S){v.push(S)}function z(S){k(S>>8&255),k(S&255)}function be(S,W){var J,K,se,oe,ye,_e,Me,Ce,N=0,V,ie=8,Ne=64;for(V=0;V<ie;++V){J=S[N],K=S[N+1],se=S[N+2],oe=S[N+3],ye=S[N+4],_e=S[N+5],Me=S[N+6],Ce=S[N+7];var ae=J+Ce,de=J-Ce,Ee=K+Me,Q=K-Me,we=se+_e,ot=se-_e,Ae=oe+ye,qt=oe-ye,pi=ae+Ae,yr=ae-Ae,Zr=Ee+we,Jr=Ee-we;S[N]=pi+Zr,S[N+4]=pi-Zr;var ss=(Jr+yr)*.707106781;S[N+2]=yr+ss,S[N+6]=yr-ss,pi=qt+ot,Zr=ot+Q,Jr=Q+de;var os=(pi-Jr)*.382683433,Uo=.5411961*pi+os,as=1.306562965*Jr+os,ls=Zr*.707106781,cs=de+ls,hs=de-ls;S[N+5]=hs+Uo,S[N+3]=hs-Uo,S[N+1]=cs+as,S[N+7]=cs-as,N+=8}for(N=0,V=0;V<ie;++V){J=S[N],K=S[N+8],se=S[N+16],oe=S[N+24],ye=S[N+32],_e=S[N+40],Me=S[N+48],Ce=S[N+56];var bf=J+Ce,gl=J-Ce,Sf=K+Me,Ef=K-Me,kf=se+_e,Cf=se-_e,Of=oe+ye,Vv=oe-ye,fs=bf+Of,vl=bf-Of,jo=Sf+kf,qo=Sf-kf;S[N]=fs+jo,S[N+32]=fs-jo;var Tf=(qo+vl)*.707106781;S[N+16]=vl+Tf,S[N+48]=vl-Tf,fs=Vv+Cf,jo=Cf+Ef,qo=Ef+gl;var Af=(fs-qo)*.382683433,If=.5411961*fs+Af,Rf=1.306562965*qo+Af,Lf=jo*.707106781,Nf=gl+Lf,Bf=gl-Lf;S[N+40]=Bf+If,S[N+24]=Bf-If,S[N+8]=Nf+Rf,S[N+56]=Nf-Rf,N++}var Ho;for(V=0;V<Ne;++V)Ho=S[V]*W[V],g[V]=Ho>0?Ho+.5|0:Ho-.5|0;return g}function Se(){z(65504),z(16),k(74),k(70),k(73),k(70),k(0),k(1),k(1),k(0),z(1),z(1),k(0),k(0)}function ve(S){if(S){z(65505),S[0]===69&&S[1]===120&&S[2]===105&&S[3]===102?z(S.length+2):(z(S.length+5+2),k(69),k(120),k(105),k(102),k(0));for(var W=0;W<S.length;W++)k(S[W])}}function xe(S,W){z(65472),z(17),k(8),z(W),z(S),k(3),k(1),k(17),k(0),k(2),k(17),k(1),k(3),k(17),k(1)}function fe(){z(65499),z(132),k(0);for(var S=0;S<64;S++)k(n[S]);k(1);for(var W=0;W<64;W++)k(s[W])}function q(){z(65476),z(418),k(0);for(var S=0;S<16;S++)k(B[S+1]);for(var W=0;W<=11;W++)k(M[W]);k(16);for(var J=0;J<16;J++)k(X[J+1]);for(var K=0;K<=161;K++)k(D[K]);k(1);for(var se=0;se<16;se++)k(ne[se+1]);for(var oe=0;oe<=11;oe++)k(P[oe]);k(17);for(var ye=0;ye<16;ye++)k($[ye+1]);for(var _e=0;_e<=161;_e++)k(G[_e])}function F(S){typeof S=="undefined"||S.constructor!==Array||S.forEach(W=>{if(typeof W=="string"){z(65534);var J=W.length;z(J+2);var K;for(K=0;K<J;K++)k(W.charCodeAt(K))}})}function ke(){z(65498),z(12),k(3),k(1),k(0),k(2),k(17),k(3),k(17),k(0),k(63),k(0)}function te(S,W,J,K,se){for(var oe=se[0],ye=se[240],_e,Me=16,Ce=63,N=64,V=be(S,W),ie=0;ie<N;++ie)d[T[ie]]=V[ie];var Ne=d[0]-J;J=d[0],Ne==0?he(K[0]):(_e=32767+Ne,he(K[m[_e]]),he(p[_e]));for(var ae=63;ae>0&&d[ae]==0;ae--);if(ae==0)return he(oe),J;for(var de=1,Ee;de<=ae;){for(var Q=de;d[de]==0&&de<=ae;++de);var we=de-Q;if(we>=Me){Ee=we>>4;for(var ot=1;ot<=Ee;++ot)he(ye);we=we&15}_e=32767+d[de],he(se[(we<<4)+m[_e]]),he(p[_e]),de++}return ae!=Ce&&he(oe),J}function ue(){for(var S=String.fromCharCode,W=0;W<256;W++)U[W]=S(W)}this.encode=function(S,W){var J=new Date().getTime();W&&jt(W),v=new Array,x=0,C=7,z(65496),Se(),F(S.comments),ve(S.exifBuffer),fe(),xe(S.width,S.height),q(),ke();var K=0,se=0,oe=0;x=0,C=7,this.encode.displayName="_encode_";for(var ye=S.data,_e=S.width,Me=S.height,Ce=_e*4,N=_e*3,V,ie=0,Ne,ae,de,Ee,Q,we,ot,Ae;ie<Me;){for(V=0;V<Ce;){for(Ee=Ce*ie+V,Q=Ee,we=-1,ot=0,Ae=0;Ae<64;Ae++)ot=Ae>>3,we=(Ae&7)*4,Q=Ee+ot*Ce+we,ie+ot>=Me&&(Q-=Ce*(ie+1+ot-Me)),V+we>=Ce&&(Q-=V+we-Ce+4),Ne=ye[Q++],ae=ye[Q++],de=ye[Q++],w[Ae]=(R[Ne]+R[ae+256>>0]+R[de+512>>0]>>16)-128,O[Ae]=(R[Ne+768>>0]+R[ae+1024>>0]+R[de+1280>>0]>>16)-128,b[Ae]=(R[Ne+1280>>0]+R[ae+1536>>0]+R[de+1792>>0]>>16)-128;K=te(w,o,K,l,f),se=te(O,a,se,h,u),oe=te(b,a,oe,h,u),V+=32}ie+=8}if(C>=0){var qt=[];qt[1]=C+1,qt[0]=(1<<C+1)-1,he(qt)}if(z(65497),typeof Ko=="undefined")return new Uint8Array(v);return Buffer.from(v);var pi,yr};function jt(S){if(S<=0&&(S=1),S>100&&(S=100),H!=S){var W=0;S<50?W=Math.floor(5e3/S):W=Math.floor(200-S*2),Z(W),H=S}}function Xt(){var S=new Date().getTime();i||(i=50),ue(),Le(),ge(),ce(),jt(i);var W=new Date().getTime()-S}Xt()}typeof Ko!="undefined"?Ko.exports=Ru:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=Ru);function Ru(i,e){typeof e=="undefined"&&(e=50);var t=new ny(e),r=t.encode(i,e);return{data:r,width:i.width,height:i.height}}});var Fu=A((Ak,Ll)=>{var Rl=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,r=799,n=3406,s=2276,o=1567,a=3784,l=5793,h=2896;function f(){}function u(C,w){for(var O=0,b=[],U,R,H=16;H>0&&!C[H-1];)H--;b.push({children:[],index:0});var T=b[0],B;for(U=0;U<H;U++){for(R=0;R<C[U];R++){for(T=b.pop(),T.children[T.index]=w[O];T.index>0;){if(b.length===0)throw new Error("Could not recreate Huffman Table");T=b.pop()}for(T.index++,b.push(T);b.length<=U;)b.push(B={children:[],index:0}),T.children[T.index]=B.children,T=B;O++}U+1<H&&(b.push(B={children:[],index:0}),T.children[T.index]=B.children,T=B)}return b[0].children}function p(C,w,O,b,U,R,H,T,B,M){var X=O.precision,D=O.samplesPerLine,ne=O.scanLines,P=O.mcusPerLine,$=O.progressive,G=O.maxH,Z=O.maxV,j=w,Le=0,ge=0;function ce(){if(ge>0)return ge--,Le>>ge&1;if(Le=C[w++],Le==255){var N=C[w++];if(N)throw new Error("unexpected marker: "+(Le<<8|N).toString(16))}return ge=7,Le>>>7}function he(N){for(var V=N,ie;(ie=ce())!==null;){if(V=V[ie],typeof V=="number")return V;if(typeof V!="object")throw new Error("invalid huffman sequence")}return null}function k(N){for(var V=0;N>0;){var ie=ce();if(ie===null)return;V=V<<1|ie,N--}return V}function z(N){var V=k(N);return V>=1<<N-1?V:V+(-1<<N)+1}function be(N,V){var ie=he(N.huffmanTableDC),Ne=ie===0?0:z(ie);V[0]=N.pred+=Ne;for(var ae=1;ae<64;){var de=he(N.huffmanTableAC),Ee=de&15,Q=de>>4;if(Ee===0){if(Q<15)break;ae+=16;continue}ae+=Q;var we=e[ae];V[we]=z(Ee),ae++}}function Se(N,V){var ie=he(N.huffmanTableDC),Ne=ie===0?0:z(ie)<<B;V[0]=N.pred+=Ne}function ve(N,V){V[0]|=ce()<<B}var xe=0;function fe(N,V){if(xe>0){xe--;return}for(var ie=R,Ne=H;ie<=Ne;){var ae=he(N.huffmanTableAC),de=ae&15,Ee=ae>>4;if(de===0){if(Ee<15){xe=k(Ee)+(1<<Ee)-1;break}ie+=16;continue}ie+=Ee;var Q=e[ie];V[Q]=z(de)*(1<<B),ie++}}var q=0,F;function ke(N,V){for(var ie=R,Ne=H,ae=0;ie<=Ne;){var de=e[ie],Ee=V[de]<0?-1:1;switch(q){case 0:var Q=he(N.huffmanTableAC),we=Q&15,ae=Q>>4;if(we===0)ae<15?(xe=k(ae)+(1<<ae),q=4):(ae=16,q=1);else{if(we!==1)throw new Error("invalid ACn encoding");F=z(we),q=ae?2:3}continue;case 1:case 2:V[de]?V[de]+=(ce()<<B)*Ee:(ae--,ae===0&&(q=q==2?3:0));break;case 3:V[de]?V[de]+=(ce()<<B)*Ee:(V[de]=F<<B,q=0);break;case 4:V[de]&&(V[de]+=(ce()<<B)*Ee);break}ie++}q===4&&(xe--,xe===0&&(q=0))}function te(N,V,ie,Ne,ae){var de=ie/P|0,Ee=ie%P,Q=de*N.v+Ne,we=Ee*N.h+ae;N.blocks[Q]===void 0&&M.tolerantDecoding||V(N,N.blocks[Q][we])}function ue(N,V,ie){var Ne=ie/N.blocksPerLine|0,ae=ie%N.blocksPerLine;N.blocks[Ne]===void 0&&M.tolerantDecoding||V(N,N.blocks[Ne][ae])}var jt=b.length,Xt,S,W,J,K,se;$?R===0?se=T===0?Se:ve:se=T===0?fe:ke:se=be;var oe=0,ye,_e;jt==1?_e=b[0].blocksPerLine*b[0].blocksPerColumn:_e=P*O.mcusPerColumn,U||(U=_e);for(var Me,Ce;oe<_e;){for(S=0;S<jt;S++)b[S].pred=0;if(xe=0,jt==1)for(Xt=b[0],K=0;K<U;K++)ue(Xt,se,oe),oe++;else for(K=0;K<U;K++){for(S=0;S<jt;S++)for(Xt=b[S],Me=Xt.h,Ce=Xt.v,W=0;W<Ce;W++)for(J=0;J<Me;J++)te(Xt,se,oe,W,J);if(oe++,oe===_e)break}if(oe===_e)do{if(C[w]===255&&C[w+1]!==0)break;w+=1}while(w<C.length-2);if(ge=0,ye=C[w]<<8|C[w+1],ye<65280)throw new Error("marker was not found");if(ye>=65488&&ye<=65495)w+=2;else break}return w-j}function m(C,w){var O=[],b=w.blocksPerLine,U=w.blocksPerColumn,R=b<<3,H=new Int32Array(64),T=new Uint8Array(64);function B(j,Le,ge){var ce=w.quantizationTable,he,k,z,be,Se,ve,xe,fe,q,F=ge,ke;for(ke=0;ke<64;ke++)F[ke]=j[ke]*ce[ke];for(ke=0;ke<8;++ke){var te=8*ke;if(F[1+te]==0&&F[2+te]==0&&F[3+te]==0&&F[4+te]==0&&F[5+te]==0&&F[6+te]==0&&F[7+te]==0){q=l*F[0+te]+512>>10,F[0+te]=q,F[1+te]=q,F[2+te]=q,F[3+te]=q,F[4+te]=q,F[5+te]=q,F[6+te]=q,F[7+te]=q;continue}he=l*F[0+te]+128>>8,k=l*F[4+te]+128>>8,z=F[2+te],be=F[6+te],Se=h*(F[1+te]-F[7+te])+128>>8,fe=h*(F[1+te]+F[7+te])+128>>8,ve=F[3+te]<<4,xe=F[5+te]<<4,q=he-k+1>>1,he=he+k+1>>1,k=q,q=z*a+be*o+128>>8,z=z*o-be*a+128>>8,be=q,q=Se-xe+1>>1,Se=Se+xe+1>>1,xe=q,q=fe+ve+1>>1,ve=fe-ve+1>>1,fe=q,q=he-be+1>>1,he=he+be+1>>1,be=q,q=k-z+1>>1,k=k+z+1>>1,z=q,q=Se*s+fe*n+2048>>12,Se=Se*n-fe*s+2048>>12,fe=q,q=ve*r+xe*t+2048>>12,ve=ve*t-xe*r+2048>>12,xe=q,F[0+te]=he+fe,F[7+te]=he-fe,F[1+te]=k+xe,F[6+te]=k-xe,F[2+te]=z+ve,F[5+te]=z-ve,F[3+te]=be+Se,F[4+te]=be-Se}for(ke=0;ke<8;++ke){var ue=ke;if(F[8+ue]==0&&F[16+ue]==0&&F[24+ue]==0&&F[32+ue]==0&&F[40+ue]==0&&F[48+ue]==0&&F[56+ue]==0){q=l*ge[ke+0]+8192>>14,F[0+ue]=q,F[8+ue]=q,F[16+ue]=q,F[24+ue]=q,F[32+ue]=q,F[40+ue]=q,F[48+ue]=q,F[56+ue]=q;continue}he=l*F[0+ue]+2048>>12,k=l*F[32+ue]+2048>>12,z=F[16+ue],be=F[48+ue],Se=h*(F[8+ue]-F[56+ue])+2048>>12,fe=h*(F[8+ue]+F[56+ue])+2048>>12,ve=F[24+ue],xe=F[40+ue],q=he-k+1>>1,he=he+k+1>>1,k=q,q=z*a+be*o+2048>>12,z=z*o-be*a+2048>>12,be=q,q=Se-xe+1>>1,Se=Se+xe+1>>1,xe=q,q=fe+ve+1>>1,ve=fe-ve+1>>1,fe=q,q=he-be+1>>1,he=he+be+1>>1,be=q,q=k-z+1>>1,k=k+z+1>>1,z=q,q=Se*s+fe*n+2048>>12,Se=Se*n-fe*s+2048>>12,fe=q,q=ve*r+xe*t+2048>>12,ve=ve*t-xe*r+2048>>12,xe=q,F[0+ue]=he+fe,F[56+ue]=he-fe,F[8+ue]=k+xe,F[48+ue]=k-xe,F[16+ue]=z+ve,F[40+ue]=z-ve,F[24+ue]=be+Se,F[32+ue]=be-Se}for(ke=0;ke<64;++ke){var jt=128+(F[ke]+8>>4);Le[ke]=jt<0?0:jt>255?255:jt}}x(R*U*8);for(var M,X,D=0;D<U;D++){var ne=D<<3;for(M=0;M<8;M++)O.push(new Uint8Array(R));for(var P=0;P<b;P++){B(w.blocks[D][P],T,H);var $=0,G=P<<3;for(X=0;X<8;X++){var Z=O[ne+X];for(M=0;M<8;M++)Z[G+M]=T[$++]}}}return O}function g(C){return C<0?0:C>255?255:C}f.prototype={load:function(w){var O=new XMLHttpRequest;O.open("GET",w,!0),O.responseType="arraybuffer",O.onload=function(){var b=new Uint8Array(O.response||O.mozResponseArrayBuffer);this.parse(b),this.onload&&this.onload()}.bind(this),O.send(null)},parse:function(w){var O=this.opts.maxResolutionInMP*1e3*1e3,b=0,U=w.length;function R(){var Q=w[b]<<8|w[b+1];return b+=2,Q}function H(){var Q=R(),we=w.subarray(b,b+Q-2);return b+=we.length,we}function T(Q){var we=1,ot=1,Ae,qt;for(qt in Q.components)Q.components.hasOwnProperty(qt)&&(Ae=Q.components[qt],we<Ae.h&&(we=Ae.h),ot<Ae.v&&(ot=Ae.v));var pi=Math.ceil(Q.samplesPerLine/8/we),yr=Math.ceil(Q.scanLines/8/ot);for(qt in Q.components)if(Q.components.hasOwnProperty(qt)){Ae=Q.components[qt];var Zr=Math.ceil(Math.ceil(Q.samplesPerLine/8)*Ae.h/we),Jr=Math.ceil(Math.ceil(Q.scanLines/8)*Ae.v/ot),ss=pi*Ae.h,os=yr*Ae.v,Uo=os*ss,as=[];x(Uo*256);for(var ls=0;ls<os;ls++){for(var cs=[],hs=0;hs<ss;hs++)cs.push(new Int32Array(64));as.push(cs)}Ae.blocksPerLine=Zr,Ae.blocksPerColumn=Jr,Ae.blocks=as}Q.maxH=we,Q.maxV=ot,Q.mcusPerLine=pi,Q.mcusPerColumn=yr}var B=null,M=null,X=null,D,ne,P=[],$=[],G=[],Z=[],j=R(),Le=-1;if(this.comments=[],j!=65496)throw new Error("SOI not found");for(j=R();j!=65497;){var ge,ce,he;switch(j){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var k=H();if(j===65534){var z=String.fromCharCode.apply(null,k);this.comments.push(z)}j===65504&&k[0]===74&&k[1]===70&&k[2]===73&&k[3]===70&&k[4]===0&&(B={version:{major:k[5],minor:k[6]},densityUnits:k[7],xDensity:k[8]<<8|k[9],yDensity:k[10]<<8|k[11],thumbWidth:k[12],thumbHeight:k[13],thumbData:k.subarray(14,14+3*k[12]*k[13])}),j===65505&&k[0]===69&&k[1]===120&&k[2]===105&&k[3]===102&&k[4]===0&&(this.exifBuffer=k.subarray(5,k.length)),j===65518&&k[0]===65&&k[1]===100&&k[2]===111&&k[3]===98&&k[4]===101&&k[5]===0&&(M={version:k[6],flags0:k[7]<<8|k[8],flags1:k[9]<<8|k[10],transformCode:k[11]});break;case 65499:for(var be=R(),Se=be+b-2;b<Se;){var ve=w[b++];x(256);var xe=new Int32Array(64);if(ve>>4)if(ve>>4===1)for(ce=0;ce<64;ce++){var fe=e[ce];xe[fe]=R()}else throw new Error("DQT: invalid table spec");else for(ce=0;ce<64;ce++){var fe=e[ce];xe[fe]=w[b++]}P[ve&15]=xe}break;case 65472:case 65473:case 65474:R(),D={},D.extended=j===65473,D.progressive=j===65474,D.precision=w[b++],D.scanLines=R(),D.samplesPerLine=R(),D.components={},D.componentsOrder=[];var q=D.scanLines*D.samplesPerLine;if(q>O){var F=Math.ceil((q-O)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${F}MP`)}var ke=w[b++],te,ue=0,jt=0;for(ge=0;ge<ke;ge++){te=w[b];var Xt=w[b+1]>>4,S=w[b+1]&15,W=w[b+2];if(Xt<=0||S<=0)throw new Error("Invalid sampling factor, expected values above 0");D.componentsOrder.push(te),D.components[te]={h:Xt,v:S,quantizationIdx:W},b+=3}T(D),$.push(D);break;case 65476:var J=R();for(ge=2;ge<J;){var K=w[b++],se=new Uint8Array(16),oe=0;for(ce=0;ce<16;ce++,b++)oe+=se[ce]=w[b];x(16+oe);var ye=new Uint8Array(oe);for(ce=0;ce<oe;ce++,b++)ye[ce]=w[b];ge+=17+oe,(K>>4?G:Z)[K&15]=u(se,ye)}break;case 65501:R(),ne=R();break;case 65500:R(),R();break;case 65498:var _e=R(),Me=w[b++],Ce=[],N;for(ge=0;ge<Me;ge++){N=D.components[w[b++]];var V=w[b++];N.huffmanTableDC=Z[V>>4],N.huffmanTableAC=G[V&15],Ce.push(N)}var ie=w[b++],Ne=w[b++],ae=w[b++],de=p(w,b,D,Ce,ne,ie,Ne,ae>>4,ae&15,this.opts);b+=de;break;case 65535:w[b]!==255&&b--;break;default:if(w[b-3]==255&&w[b-2]>=192&&w[b-2]<=254){b-=3;break}else if(j===224||j==225){if(Le!==-1)throw new Error(`first unknown JPEG marker at offset ${Le.toString(16)}, second unknown JPEG marker ${j.toString(16)} at offset ${(b-1).toString(16)}`);Le=b-1;let Q=R();if(w[b+Q-2]===255){b+=Q-2;break}}throw new Error("unknown JPEG marker "+j.toString(16))}j=R()}if($.length!=1)throw new Error("only single frame JPEGs supported");for(var ge=0;ge<$.length;ge++){var Ee=$[ge].components;for(var ce in Ee)Ee[ce].quantizationTable=P[Ee[ce].quantizationIdx],delete Ee[ce].quantizationIdx}this.width=D.samplesPerLine,this.height=D.scanLines,this.jfif=B,this.adobe=M,this.components=[];for(var ge=0;ge<D.componentsOrder.length;ge++){var N=D.components[D.componentsOrder[ge]];this.components.push({lines:m(D,N),scaleX:N.h/D.maxH,scaleY:N.v/D.maxV})}},getData:function(w,O){var b=this.width/w,U=this.height/O,R,H,T,B,M,X,D,ne,P,$,G=0,Z,j,Le,ge,ce,he,k,z,be,Se,ve,xe=w*O*this.components.length;x(xe);var fe=new Uint8Array(xe);switch(this.components.length){case 1:for(R=this.components[0],$=0;$<O;$++)for(M=R.lines[0|$*R.scaleY*U],P=0;P<w;P++)Z=M[0|P*R.scaleX*b],fe[G++]=Z;break;case 2:for(R=this.components[0],H=this.components[1],$=0;$<O;$++)for(M=R.lines[0|$*R.scaleY*U],X=H.lines[0|$*H.scaleY*U],P=0;P<w;P++)Z=M[0|P*R.scaleX*b],fe[G++]=Z,Z=X[0|P*H.scaleX*b],fe[G++]=Z;break;case 3:for(ve=!0,this.adobe&&this.adobe.transformCode?ve=!0:typeof this.opts.colorTransform!="undefined"&&(ve=!!this.opts.colorTransform),R=this.components[0],H=this.components[1],T=this.components[2],$=0;$<O;$++)for(M=R.lines[0|$*R.scaleY*U],X=H.lines[0|$*H.scaleY*U],D=T.lines[0|$*T.scaleY*U],P=0;P<w;P++)ve?(Z=M[0|P*R.scaleX*b],j=X[0|P*H.scaleX*b],Le=D[0|P*T.scaleX*b],z=g(Z+1.402*(Le-128)),be=g(Z-.3441363*(j-128)-.71413636*(Le-128)),Se=g(Z+1.772*(j-128))):(z=M[0|P*R.scaleX*b],be=X[0|P*H.scaleX*b],Se=D[0|P*T.scaleX*b]),fe[G++]=z,fe[G++]=be,fe[G++]=Se;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ve=!1,this.adobe&&this.adobe.transformCode?ve=!0:typeof this.opts.colorTransform!="undefined"&&(ve=!!this.opts.colorTransform),R=this.components[0],H=this.components[1],T=this.components[2],B=this.components[3],$=0;$<O;$++)for(M=R.lines[0|$*R.scaleY*U],X=H.lines[0|$*H.scaleY*U],D=T.lines[0|$*T.scaleY*U],ne=B.lines[0|$*B.scaleY*U],P=0;P<w;P++)ve?(Z=M[0|P*R.scaleX*b],j=X[0|P*H.scaleX*b],Le=D[0|P*T.scaleX*b],ge=ne[0|P*B.scaleX*b],ce=255-g(Z+1.402*(Le-128)),he=255-g(Z-.3441363*(j-128)-.71413636*(Le-128)),k=255-g(Z+1.772*(j-128))):(ce=M[0|P*R.scaleX*b],he=X[0|P*H.scaleX*b],k=D[0|P*T.scaleX*b],ge=ne[0|P*B.scaleX*b]),fe[G++]=255-ce,fe[G++]=255-he,fe[G++]=255-k,fe[G++]=255-ge;break;default:throw new Error("Unsupported color mode")}return fe},copyToImageData:function(w,O){var b=w.width,U=w.height,R=w.data,H=this.getData(b,U),T=0,B=0,M,X,D,ne,P,$,G,Z,j;switch(this.components.length){case 1:for(X=0;X<U;X++)for(M=0;M<b;M++)D=H[T++],R[B++]=D,R[B++]=D,R[B++]=D,O&&(R[B++]=255);break;case 3:for(X=0;X<U;X++)for(M=0;M<b;M++)G=H[T++],Z=H[T++],j=H[T++],R[B++]=G,R[B++]=Z,R[B++]=j,O&&(R[B++]=255);break;case 4:for(X=0;X<U;X++)for(M=0;M<b;M++)P=H[T++],$=H[T++],D=H[T++],ne=H[T++],G=255-g(P*(1-ne/255)+ne),Z=255-g($*(1-ne/255)+ne),j=255-g(D*(1-ne/255)+ne),R[B++]=G,R[B++]=Z,R[B++]=j,O&&(R[B++]=255);break;default:throw new Error("Unsupported color mode")}}};var d=0,v=0;function x(C=0){var w=d+C;if(w>v){var O=Math.ceil((w-v)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${O}MB`)}d=w}return f.resetMaxMemoryUsage=function(C){d=0,v=C},f.getBytesAllocated=function(){return d},f.requestMemoryAllocation=x,f}();typeof Ll!="undefined"?Ll.exports=Bu:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=Bu);function Bu(i,e={}){var t={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},r={...t,...e},n=new Uint8Array(i),s=new Rl;s.opts=r,Rl.resetMaxMemoryUsage(r.maxMemoryUsageInMB*1024*1024),s.parse(n);var o=r.formatAsRGBA?4:3,a=s.width*s.height*o;try{Rl.requestMemoryAllocation(a);var l={width:s.width,height:s.height,exifBuffer:s.exifBuffer,data:r.useTArray?new Uint8Array(a):Buffer.alloc(a)};s.comments.length>0&&(l.comments=s.comments)}catch(h){throw h instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+a):h instanceof ReferenceError&&h.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):h}return s.copyToImageData(l,r.formatAsRGBA),l}});var Mu=A((Ik,Pu)=>{var sy=Nu(),oy=Fu();Pu.exports={encode:sy,decode:oy}});var Uu=A((Rk,Du)=>{"use strict";function Xo(){this._types=Object.create(null),this._extensions=Object.create(null);for(let i=0;i<arguments.length;i++)this.define(arguments[i]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Xo.prototype.define=function(i,e){for(let t in i){let r=i[t].map(function(n){return n.toLowerCase()});t=t.toLowerCase();for(let n=0;n<r.length;n++){let s=r[n];if(s[0]!=="*"){if(!e&&s in this._types)throw new Error('Attempt to change mapping for "'+s+'" extension from "'+this._types[s]+'" to "'+t+'". Pass `force=true` to allow this, otherwise remove "'+s+'" from the list of extensions for "'+t+'".');this._types[s]=t}}if(e||!this._extensions[t]){let n=r[0];this._extensions[t]=n[0]!=="*"?n:n.substr(1)}}};Xo.prototype.getType=function(i){i=String(i);let e=i.replace(/^.*[/\\]/,"").toLowerCase(),t=e.replace(/^.*\./,"").toLowerCase(),r=e.length<i.length;return(t.length<e.length-1||!r)&&this._types[t]||null};Xo.prototype.getExtension=function(i){return i=/^\s*([^;\s]*)/.test(i)&&RegExp.$1,i&&this._extensions[i.toLowerCase()]||null};Du.exports=Xo});var qu=A((Lk,ju)=>{ju.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var $u=A((Nk,Hu)=>{Hu.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var Wu=A((Bk,Vu)=>{"use strict";var ay=Uu();Vu.exports=new ay(qu(),$u())});var zu=A((Fk,Gu)=>{Gu.exports=function(i,e){for(var t=[],r=0;r<i.length;r++){var n=e(i[r],r);ly(n)?t.push.apply(t,n):t.push(n)}return t};var ly=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"}});var Nl=A((Pk,Zu)=>{"use strict";Zu.exports=Ku;function Ku(i,e,t){i instanceof RegExp&&(i=Yu(i,t)),e instanceof RegExp&&(e=Yu(e,t));var r=Xu(i,e,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+i.length,r[1]),post:t.slice(r[1]+e.length)}}function Yu(i,e){var t=e.match(i);return t?t[0]:null}Ku.range=Xu;function Xu(i,e,t){var r,n,s,o,a,l=t.indexOf(i),h=t.indexOf(e,l+1),f=l;if(l>=0&&h>0){if(i===e)return[l,h];for(r=[],s=t.length;f>=0&&!a;)f==l?(r.push(f),l=t.indexOf(i,f+1)):r.length==1?a=[r.pop(),h]:(n=r.pop(),n<s&&(s=n,o=h),h=t.indexOf(e,f+1)),f=l<h&&l>=0?l:h;r.length&&(a=[s,o])}return a}});var sp=A((Mk,np)=>{var cy=zu(),Ju=Nl();np.exports=uy;var Qu="\0SLASH"+Math.random()+"\0",ep="\0OPEN"+Math.random()+"\0",Fl="\0CLOSE"+Math.random()+"\0",tp="\0COMMA"+Math.random()+"\0",ip="\0PERIOD"+Math.random()+"\0";function Bl(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function hy(i){return i.split("\\\\").join(Qu).split("\\{").join(ep).split("\\}").join(Fl).split("\\,").join(tp).split("\\.").join(ip)}function fy(i){return i.split(Qu).join("\\").split(ep).join("{").split(Fl).join("}").split(tp).join(",").split(ip).join(".")}function rp(i){if(!i)return[""];var e=[],t=Ju("{","}",i);if(!t)return i.split(",");var r=t.pre,n=t.body,s=t.post,o=r.split(",");o[o.length-1]+="{"+n+"}";var a=rp(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function uy(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),ln(hy(i),!0).map(fy)):[]}function py(i){return"{"+i+"}"}function dy(i){return/^-?0\d/.test(i)}function my(i,e){return i<=e}function gy(i,e){return i>=e}function ln(i,e){var t=[],r=Ju("{","}",i);if(!r||/\$$/.test(r.pre))return[i];var n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),o=n||s,a=r.body.indexOf(",")>=0;if(!o&&!a)return r.post.match(/,.*\}/)?(i=r.pre+"{"+r.body+Fl+r.post,ln(i)):[i];var l;if(o)l=r.body.split(/\.\./);else if(l=rp(r.body),l.length===1&&(l=ln(l[0],!1).map(py),l.length===1)){var f=r.post.length?ln(r.post,!1):[""];return f.map(function(M){return r.pre+l[0]+M})}var h=r.pre,f=r.post.length?ln(r.post,!1):[""],u;if(o){var p=Bl(l[0]),m=Bl(l[1]),g=Math.max(l[0].length,l[1].length),d=l.length==3?Math.abs(Bl(l[2])):1,v=my,x=m<p;x&&(d*=-1,v=gy);var C=l.some(dy);u=[];for(var w=p;v(w,m);w+=d){var O;if(s)O=String.fromCharCode(w),O==="\\"&&(O="");else if(O=String(w),C){var b=g-O.length;if(b>0){var U=new Array(b+1).join("0");w<0?O="-"+U+O.slice(1):O=U+O}}u.push(O)}}else u=cy(l,function(B){return ln(B,!1)});for(var R=0;R<u.length;R++)for(var H=0;H<f.length;H++){var T=h+u[R]+f[H];(!e||o||T)&&t.push(T)}return t}});var fp=A((Dk,hp)=>{hp.exports=Lt;Lt.Minimatch=lt;var vs=function(){try{return require("path")}catch{}}()||{sep:"/"};Lt.sep=vs.sep;var Dl=Lt.GLOBSTAR=lt.GLOBSTAR={},vy=sp(),op={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Pl="[^/]",Ml=Pl+"*?",xy="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",yy="(?:(?!(?:\\/|^)\\.).)*?",ap=_y("().*{}+?[]^$\\!");function _y(i){return i.split("").reduce(function(e,t){return e[t]=!0,e},{})}var lp=/\/+/;Lt.filter=wy;function wy(i,e){return e=e||{},function(t,r,n){return Lt(t,i,e)}}function Yi(i,e){e=e||{};var t={};return Object.keys(i).forEach(function(r){t[r]=i[r]}),Object.keys(e).forEach(function(r){t[r]=e[r]}),t}Lt.defaults=function(i){if(!i||typeof i!="object"||!Object.keys(i).length)return Lt;var e=Lt,t=function(n,s,o){return e(n,s,Yi(i,o))};return t.Minimatch=function(n,s){return new e.Minimatch(n,Yi(i,s))},t.Minimatch.defaults=function(n){return e.defaults(Yi(i,n)).Minimatch},t.filter=function(n,s){return e.filter(n,Yi(i,s))},t.defaults=function(n){return e.defaults(Yi(i,n))},t.makeRe=function(n,s){return e.makeRe(n,Yi(i,s))},t.braceExpand=function(n,s){return e.braceExpand(n,Yi(i,s))},t.match=function(r,n,s){return e.match(r,n,Yi(i,s))},t};lt.defaults=function(i){return Lt.defaults(i).Minimatch};function Lt(i,e,t){return Jo(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:new lt(e,t).match(i)}function lt(i,e){if(!(this instanceof lt))return new lt(i,e);Jo(i),e||(e={}),i=i.trim(),!e.allowWindowsEscape&&vs.sep!=="/"&&(i=i.split(vs.sep).join("/")),this.options=e,this.set=[],this.pattern=i,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}lt.prototype.debug=function(){};lt.prototype.make=by;function by(){var i=this.pattern,e=this.options;if(!e.nocomment&&i.charAt(0)==="#"){this.comment=!0;return}if(!i){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,t),t=this.globParts=t.map(function(r){return r.split(lp)}),this.debug(this.pattern,t),t=t.map(function(r,n,s){return r.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}lt.prototype.parseNegate=Sy;function Sy(){var i=this.pattern,e=!1,t=this.options,r=0;if(!t.nonegate){for(var n=0,s=i.length;n<s&&i.charAt(n)==="!";n++)e=!e,r++;r&&(this.pattern=i.substr(r)),this.negate=e}}Lt.braceExpand=function(i,e){return cp(i,e)};lt.prototype.braceExpand=cp;function cp(i,e){return e||(this instanceof lt?e=this.options:e={}),i=typeof i=="undefined"?this.pattern:i,Jo(i),e.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:vy(i)}var Ey=1024*64,Jo=function(i){if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>Ey)throw new TypeError("pattern is too long")};lt.prototype.parse=ky;var Zo={};function ky(i,e){Jo(i);var t=this.options;if(i==="**")if(t.noglobstar)i="*";else return Dl;if(i==="")return"";var r="",n=!!t.nocase,s=!1,o=[],a=[],l,h=!1,f=-1,u=-1,p=i.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function g(){if(l){switch(l){case"*":r+=Ml,n=!0;break;case"?":r+=Pl,n=!0;break;default:r+="\\"+l;break}m.debug("clearStateChar %j %j",l,r),l=!1}}for(var d=0,v=i.length,x;d<v&&(x=i.charAt(d));d++){if(this.debug("%s	%s %s %j",i,d,r,x),s&&ap[x]){r+="\\"+x,s=!1;continue}switch(x){case"/":return!1;case"\\":g(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",i,d,r,x),h){this.debug("  in class"),x==="!"&&d===u+1&&(x="^"),r+=x;continue}m.debug("call clearStateChar %j",l),g(),l=x,t.noext&&g();continue;case"(":if(h){r+="(";continue}if(!l){r+="\\(";continue}o.push({type:l,start:d-1,reStart:r.length,open:op[l].open,close:op[l].close}),r+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,r),l=!1;continue;case")":if(h||!o.length){r+="\\)";continue}g(),n=!0;var C=o.pop();r+=C.close,C.type==="!"&&a.push(C),C.reEnd=r.length;continue;case"|":if(h||!o.length||s){r+="\\|",s=!1;continue}g(),r+="|";continue;case"[":if(g(),h){r+="\\"+x;continue}h=!0,u=d,f=r.length,r+=x;continue;case"]":if(d===u+1||!h){r+="\\"+x,s=!1;continue}var w=i.substring(u+1,d);try{RegExp("["+w+"]")}catch{var O=this.parse(w,Zo);r=r.substr(0,f)+"\\["+O[0]+"\\]",n=n||O[1],h=!1;continue}n=!0,h=!1,r+=x;continue;default:g(),s?s=!1:ap[x]&&!(x==="^"&&h)&&(r+="\\"),r+=x}}for(h&&(w=i.substr(u+1),O=this.parse(w,Zo),r=r.substr(0,f)+"\\["+O[0],n=n||O[1]),C=o.pop();C;C=o.pop()){var b=r.slice(C.reStart+C.open.length);this.debug("setting tail",r,C),b=b.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Le,ge,ce){return ce||(ce="\\"),ge+ge+ce+"|"}),this.debug(`tail=%j
   %s`,b,b,C,r);var U=C.type==="*"?Ml:C.type==="?"?Pl:"\\"+C.type;n=!0,r=r.slice(0,C.reStart)+U+"\\("+b}g(),s&&(r+="\\\\");var R=!1;switch(r.charAt(0)){case"[":case".":case"(":R=!0}for(var H=a.length-1;H>-1;H--){var T=a[H],B=r.slice(0,T.reStart),M=r.slice(T.reStart,T.reEnd-8),X=r.slice(T.reEnd-8,T.reEnd),D=r.slice(T.reEnd);X+=D;var ne=B.split("(").length-1,P=D;for(d=0;d<ne;d++)P=P.replace(/\)[+*?]?/,"");D=P;var $="";D===""&&e!==Zo&&($="$");var G=B+M+D+$+X;r=G}if(r!==""&&n&&(r="(?=.)"+r),R&&(r=p+r),e===Zo)return[r,n];if(!n)return Oy(i);var Z=t.nocase?"i":"";try{var j=new RegExp("^"+r+"$",Z)}catch{return new RegExp("$.")}return j._glob=i,j._src=r,j}Lt.makeRe=function(i,e){return new lt(i,e||{}).makeRe()};lt.prototype.makeRe=Cy;function Cy(){if(this.regexp||this.regexp===!1)return this.regexp;var i=this.set;if(!i.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?Ml:e.dot?xy:yy,r=e.nocase?"i":"",n=i.map(function(s){return s.map(function(o){return o===Dl?t:typeof o=="string"?Ty(o):o._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,r)}catch{this.regexp=!1}return this.regexp}Lt.match=function(i,e,t){t=t||{};var r=new lt(e,t);return i=i.filter(function(n){return r.match(n)}),r.options.nonull&&!i.length&&i.push(e),i};lt.prototype.match=function(e,t){if(typeof t=="undefined"&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;vs.sep!=="/"&&(e=e.split(vs.sep).join("/")),e=e.split(lp),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<n.length;o++){var a=n[o],l=e;r.matchBase&&a.length===1&&(l=[s]);var h=this.matchOne(l,a,t);if(h)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate};lt.prototype.matchOne=function(i,e,t){var r=this.options;this.debug("matchOne",{this:this,file:i,pattern:e}),this.debug("matchOne",i.length,e.length);for(var n=0,s=0,o=i.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var l=e[s],h=i[n];if(this.debug(e,l,h),l===!1)return!1;if(l===Dl){this.debug("GLOBSTAR",[e,l,h]);var f=n,u=s+1;if(u===a){for(this.debug("** at the end");n<o;n++)if(i[n]==="."||i[n]===".."||!r.dot&&i[n].charAt(0)===".")return!1;return!0}for(;f<o;){var p=i[f];if(this.debug(`
globstar while`,i,f,e,u,p),this.matchOne(i.slice(f),e.slice(u),t))return this.debug("globstar found match!",f,o,p),!0;if(p==="."||p===".."||!r.dot&&p.charAt(0)==="."){this.debug("dot detected!",i,f,e,u);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(t&&(this.debug(`
>>> no match, partial?`,i,f,e,u),f===o))}var m;if(typeof l=="string"?(m=h===l,this.debug("string match",l,h,m)):(m=h.match(l),this.debug("pattern match",l,h,m)),!m)return!1}if(n===o&&s===a)return!0;if(n===o)return t;if(s===a)return n===o-1&&i[n]==="";throw new Error("wtf?")};function Oy(i){return i.replace(/\\(.)/g,"$1")}function Ty(i){return i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var jl=A((Uk,pp)=>{"use strict";var up=require("fs"),Ul;function Ay(){try{return up.statSync("/.dockerenv"),!0}catch{return!1}}function Iy(){try{return up.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}pp.exports=()=>(Ul===void 0&&(Ul=Ay()||Iy()),Ul)});var gp=A((jk,ql)=>{"use strict";var Ry=require("os"),Ly=require("fs"),dp=jl(),mp=()=>{if(process.platform!=="linux")return!1;if(Ry.release().toLowerCase().includes("microsoft"))return!dp();try{return Ly.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!dp():!1}catch{return!1}};process.env.__IS_WSL_TEST__?ql.exports=mp:ql.exports=mp()});var xp=A((qk,vp)=>{"use strict";vp.exports=(i,e,t)=>{let r=n=>Object.defineProperty(i,e,{value:n,enumerable:!0,writable:!0});return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get(){let n=t();return r(n),n},set(n){r(n)}}),i}});var kp=A((Hk,Ep)=>{var Ny=require("path"),By=require("child_process"),{promises:Hl,constants:Sp}=require("fs"),Qo=gp(),Fy=jl(),$l=xp(),yp=Ny.join(__dirname,"xdg-open"),{platform:cn,arch:_p}=process,Py=(()=>{let i="/mnt/",e;return async function(){if(e)return e;let t="/etc/wsl.conf",r=!1;try{await Hl.access(t,Sp.F_OK),r=!0}catch{}if(!r)return i;let n=await Hl.readFile(t,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(n);return s?(e=s.groups.mountPoint.trim(),e=e.endsWith("/")?e:`${e}/`,e):i}})(),wp=async(i,e)=>{let t;for(let r of i)try{return await e(r)}catch(n){t=n}throw t},ea=async i=>{if(i={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...i},Array.isArray(i.app))return wp(i.app,a=>ea({...i,app:a}));let{name:e,arguments:t=[]}=i.app||{};if(t=[...t],Array.isArray(e))return wp(e,a=>ea({...i,app:{name:a,arguments:t}}));let r,n=[],s={};if(cn==="darwin")r="open",i.wait&&n.push("--wait-apps"),i.background&&n.push("--background"),i.newInstance&&n.push("--new"),e&&n.push("-a",e);else if(cn==="win32"||Qo&&!Fy()){let a=await Py();r=Qo?`${a}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,n.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),Qo||(s.windowsVerbatimArguments=!0);let l=["Start"];i.wait&&l.push("-Wait"),e?(l.push(`"\`"${e}\`""`,"-ArgumentList"),i.target&&t.unshift(i.target)):i.target&&l.push(`"${i.target}"`),t.length>0&&(t=t.map(h=>`"\`"${h}\`""`),l.push(t.join(","))),i.target=Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(e)r=e;else{let a=!__dirname||__dirname==="/",l=!1;try{await Hl.access(yp,Sp.X_OK),l=!0}catch{}r=process.versions.electron||cn==="android"||a||!l?"xdg-open":yp}t.length>0&&n.push(...t),i.wait||(s.stdio="ignore",s.detached=!0)}i.target&&n.push(i.target),cn==="darwin"&&t.length>0&&n.push("--args",...t);let o=By.spawn(r,n,s);return i.wait?new Promise((a,l)=>{o.once("error",l),o.once("close",h=>{if(i.allowNonzeroExitCode&&h>0){l(new Error(`Exited with code ${h}`));return}a(o)})}):(o.unref(),o)},Vl=(i,e)=>{if(typeof i!="string")throw new TypeError("Expected a `target`");return ea({...e,target:i})},My=(i,e)=>{if(typeof i!="string")throw new TypeError("Expected a `name`");let{arguments:t=[]}=e||{};if(t!=null&&!Array.isArray(t))throw new TypeError("Expected `appArguments` as Array type");return ea({...e,app:{name:i,arguments:t}})};function bp(i){if(typeof i=="string"||Array.isArray(i))return i;let{[_p]:e}=i;if(!e)throw new Error(`${_p} is not supported`);return e}function Wl({[cn]:i},{wsl:e}){if(e&&Qo)return bp(e);if(!i)throw new Error(`${cn} is not supported`);return bp(i)}var ta={};$l(ta,"chrome",()=>Wl({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));$l(ta,"firefox",()=>Wl({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));$l(ta,"edge",()=>Wl({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Vl.apps=ta;Vl.openApp=My;Ep.exports=Vl});var Gl=A(($k,Op)=>{"use strict";var Dy=require("util"),Cp=require("stream"),Qt=Op.exports=function(){Cp.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};Dy.inherits(Qt,Cp);Qt.prototype.read=function(i,e){this._reads.push({length:Math.abs(i),allowLess:i<0,func:e}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};Qt.prototype.write=function(i,e){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let t;return Buffer.isBuffer(i)?t=i:t=Buffer.from(i,e||this._encoding),this._buffers.push(t),this._buffered+=t.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};Qt.prototype.end=function(i,e){i&&this.write(i,e),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};Qt.prototype.destroySoon=Qt.prototype.end;Qt.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};Qt.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};Qt.prototype._processReadAllowingLess=function(i){this._reads.shift();let e=this._buffers[0];e.length>i.length?(this._buffered-=i.length,this._buffers[0]=e.slice(i.length),i.func.call(this,e.slice(0,i.length))):(this._buffered-=e.length,this._buffers.shift(),i.func.call(this,e))};Qt.prototype._processRead=function(i){this._reads.shift();let e=0,t=0,r=Buffer.alloc(i.length);for(;e<i.length;){let n=this._buffers[t++],s=Math.min(n.length,i.length-e);n.copy(r,e,0,s),e+=s,s!==n.length&&(this._buffers[--t]=n.slice(s))}t>0&&this._buffers.splice(0,t),this._buffered-=i.length,i.func.call(this,r)};Qt.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let i=this._reads[0];if(i.allowLess)this._processReadAllowingLess(i);else if(this._buffered>=i.length)this._processRead(i);else break}this._buffers&&!this.writable&&this._end()}catch(i){this.emit("error",i)}}});var Yl=A(zl=>{"use strict";var Ki=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];zl.getImagePasses=function(i,e){let t=[],r=i%8,n=e%8,s=(i-r)/8,o=(e-n)/8;for(let a=0;a<Ki.length;a++){let l=Ki[a],h=s*l.x.length,f=o*l.y.length;for(let u=0;u<l.x.length&&l.x[u]<r;u++)h++;for(let u=0;u<l.y.length&&l.y[u]<n;u++)f++;h>0&&f>0&&t.push({width:h,height:f,index:a})}return t};zl.getInterlaceIterator=function(i){return function(e,t,r){let n=e%Ki[r].x.length,s=(e-n)/Ki[r].x.length*8+Ki[r].x[n],o=t%Ki[r].y.length,a=(t-o)/Ki[r].y.length*8+Ki[r].y[o];return s*4+a*i*4}}});var Kl=A((Wk,Tp)=>{"use strict";Tp.exports=function(e,t,r){let n=e+t-r,s=Math.abs(n-e),o=Math.abs(n-t),a=Math.abs(n-r);return s<=o&&s<=a?e:o<=a?t:r}});var Xl=A((Gk,Ip)=>{"use strict";var Uy=Yl(),jy=Kl();function Ap(i,e,t){let r=i*e;return t!==8&&(r=Math.ceil(r/(8/t))),r}var hn=Ip.exports=function(i,e){let t=i.width,r=i.height,n=i.interlace,s=i.bpp,o=i.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],n){let a=Uy.getImagePasses(t,r);for(let l=0;l<a.length;l++)this._images.push({byteWidth:Ap(a[l].width,s,o),height:a[l].height,lineIndex:0})}else this._images.push({byteWidth:Ap(t,s,o),height:r,lineIndex:0});o===8?this._xComparison=s:o===16?this._xComparison=s*2:this._xComparison=1};hn.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};hn.prototype._unFilterType1=function(i,e,t){let r=this._xComparison,n=r-1;for(let s=0;s<t;s++){let o=i[1+s],a=s>n?e[s-r]:0;e[s]=o+a}};hn.prototype._unFilterType2=function(i,e,t){let r=this._lastLine;for(let n=0;n<t;n++){let s=i[1+n],o=r?r[n]:0;e[n]=s+o}};hn.prototype._unFilterType3=function(i,e,t){let r=this._xComparison,n=r-1,s=this._lastLine;for(let o=0;o<t;o++){let a=i[1+o],l=s?s[o]:0,h=o>n?e[o-r]:0,f=Math.floor((h+l)/2);e[o]=a+f}};hn.prototype._unFilterType4=function(i,e,t){let r=this._xComparison,n=r-1,s=this._lastLine;for(let o=0;o<t;o++){let a=i[1+o],l=s?s[o]:0,h=o>n?e[o-r]:0,f=o>n&&s?s[o-r]:0,u=jy(h,l,f);e[o]=a+u}};hn.prototype._reverseFilterLine=function(i){let e=i[0],t,r=this._images[this._imageIndex],n=r.byteWidth;if(e===0)t=i.slice(1,n+1);else switch(t=Buffer.alloc(n),e){case 1:this._unFilterType1(i,t,n);break;case 2:this._unFilterType2(i,t,n);break;case 3:this._unFilterType3(i,t,n);break;case 4:this._unFilterType4(i,t,n);break;default:throw new Error("Unrecognised filter type - "+e)}this.write(t),r.lineIndex++,r.lineIndex>=r.height?(this._lastLine=null,this._imageIndex++,r=this._images[this._imageIndex]):this._lastLine=t,r?this.read(r.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var Np=A((zk,Lp)=>{"use strict";var qy=require("util"),Rp=Gl(),Hy=Xl(),$y=Lp.exports=function(i){Rp.call(this);let e=[],t=this;this._filter=new Hy(i,{read:this.read.bind(this),write:function(r){e.push(r)},complete:function(){t.emit("complete",Buffer.concat(e))}}),this._filter.start()};qy.inherits($y,Rp)});var fn=A((Yk,Bp)=>{"use strict";Bp.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var Ql=A((Kk,Fp)=>{"use strict";var Zl=[];(function(){for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Zl[i]=e}})();var Jl=Fp.exports=function(){this._crc=-1};Jl.prototype.write=function(i){for(let e=0;e<i.length;e++)this._crc=Zl[(this._crc^i[e])&255]^this._crc>>>8;return!0};Jl.prototype.crc32=function(){return this._crc^-1};Jl.crc32=function(i){let e=-1;for(let t=0;t<i.length;t++)e=Zl[(e^i[t])&255]^e>>>8;return e^-1}});var ec=A((Xk,Pp)=>{"use strict";var Ve=fn(),Vy=Ql(),Xe=Pp.exports=function(i,e){this._options=i,i.checkCRC=i.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[Ve.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[Ve.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[Ve.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[Ve.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[Ve.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[Ve.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};Xe.prototype.start=function(){this.read(Ve.PNG_SIGNATURE.length,this._parseSignature.bind(this))};Xe.prototype._parseSignature=function(i){let e=Ve.PNG_SIGNATURE;for(let t=0;t<e.length;t++)if(i[t]!==e[t]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};Xe.prototype._parseChunkBegin=function(i){let e=i.readUInt32BE(0),t=i.readUInt32BE(4),r="";for(let s=4;s<8;s++)r+=String.fromCharCode(i[s]);let n=!!(i[4]&32);if(!this._hasIHDR&&t!==Ve.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new Vy,this._crc.write(Buffer.from(r)),this._chunks[t])return this._chunks[t](e);if(!n){this.error(new Error("Unsupported critical chunk type "+r));return}this.read(e+4,this._skipChunk.bind(this))};Xe.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};Xe.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};Xe.prototype._parseChunkEnd=function(i){let e=i.readInt32BE(0),t=this._crc.crc32();if(this._options.checkCRC&&t!==e){this.error(new Error("Crc error - "+e+" - "+t));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};Xe.prototype._handleIHDR=function(i){this.read(i,this._parseIHDR.bind(this))};Xe.prototype._parseIHDR=function(i){this._crc.write(i);let e=i.readUInt32BE(0),t=i.readUInt32BE(4),r=i[8],n=i[9],s=i[10],o=i[11],a=i[12];if(r!==8&&r!==4&&r!==2&&r!==1&&r!==16){this.error(new Error("Unsupported bit depth "+r));return}if(!(n in Ve.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(s!==0){this.error(new Error("Unsupported compression method"));return}if(o!==0){this.error(new Error("Unsupported filter method"));return}if(a!==0&&a!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=n;let l=Ve.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:t,depth:r,interlace:!!a,palette:!!(n&Ve.COLORTYPE_PALETTE),color:!!(n&Ve.COLORTYPE_COLOR),alpha:!!(n&Ve.COLORTYPE_ALPHA),bpp:l,colorType:n}),this._handleChunkEnd()};Xe.prototype._handlePLTE=function(i){this.read(i,this._parsePLTE.bind(this))};Xe.prototype._parsePLTE=function(i){this._crc.write(i);let e=Math.floor(i.length/3);for(let t=0;t<e;t++)this._palette.push([i[t*3],i[t*3+1],i[t*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};Xe.prototype._handleTRNS=function(i){this.simpleTransparency(),this.read(i,this._parseTRNS.bind(this))};Xe.prototype._parseTRNS=function(i){if(this._crc.write(i),this._colorType===Ve.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(i.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let e=0;e<i.length;e++)this._palette[e][3]=i[e];this.palette(this._palette)}this._colorType===Ve.COLORTYPE_GRAYSCALE&&this.transColor([i.readUInt16BE(0)]),this._colorType===Ve.COLORTYPE_COLOR&&this.transColor([i.readUInt16BE(0),i.readUInt16BE(2),i.readUInt16BE(4)]),this._handleChunkEnd()};Xe.prototype._handleGAMA=function(i){this.read(i,this._parseGAMA.bind(this))};Xe.prototype._parseGAMA=function(i){this._crc.write(i),this.gamma(i.readUInt32BE(0)/Ve.GAMMA_DIVISION),this._handleChunkEnd()};Xe.prototype._handleIDAT=function(i){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-i,this._parseIDAT.bind(this,i))};Xe.prototype._parseIDAT=function(i,e){if(this._crc.write(e),this._colorType===Ve.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(e);let t=i-e.length;t>0?this._handleIDAT(t):this._handleChunkEnd()};Xe.prototype._handleIEND=function(i){this.read(i,this._parseIEND.bind(this))};Xe.prototype._parseIEND=function(i){this._crc.write(i),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var tc=A(Dp=>{"use strict";var Mp=Yl(),Wy=[function(){},function(i,e,t,r){if(r===e.length)throw new Error("Ran out of data");let n=e[r];i[t]=n,i[t+1]=n,i[t+2]=n,i[t+3]=255},function(i,e,t,r){if(r+1>=e.length)throw new Error("Ran out of data");let n=e[r];i[t]=n,i[t+1]=n,i[t+2]=n,i[t+3]=e[r+1]},function(i,e,t,r){if(r+2>=e.length)throw new Error("Ran out of data");i[t]=e[r],i[t+1]=e[r+1],i[t+2]=e[r+2],i[t+3]=255},function(i,e,t,r){if(r+3>=e.length)throw new Error("Ran out of data");i[t]=e[r],i[t+1]=e[r+1],i[t+2]=e[r+2],i[t+3]=e[r+3]}],Gy=[function(){},function(i,e,t,r){let n=e[0];i[t]=n,i[t+1]=n,i[t+2]=n,i[t+3]=r},function(i,e,t){let r=e[0];i[t]=r,i[t+1]=r,i[t+2]=r,i[t+3]=e[1]},function(i,e,t,r){i[t]=e[0],i[t+1]=e[1],i[t+2]=e[2],i[t+3]=r},function(i,e,t){i[t]=e[0],i[t+1]=e[1],i[t+2]=e[2],i[t+3]=e[3]}];function zy(i,e){let t=[],r=0;function n(){if(r===i.length)throw new Error("Ran out of data");let s=i[r];r++;let o,a,l,h,f,u,p,m;switch(e){default:throw new Error("unrecognised depth");case 16:p=i[r],r++,t.push((s<<8)+p);break;case 4:p=s&15,m=s>>4,t.push(m,p);break;case 2:f=s&3,u=s>>2&3,p=s>>4&3,m=s>>6&3,t.push(m,p,u,f);break;case 1:o=s&1,a=s>>1&1,l=s>>2&1,h=s>>3&1,f=s>>4&1,u=s>>5&1,p=s>>6&1,m=s>>7&1,t.push(m,p,u,f,h,l,a,o);break}}return{get:function(s){for(;t.length<s;)n();let o=t.slice(0,s);return t=t.slice(s),o},resetAfterLine:function(){t.length=0},end:function(){if(r!==i.length)throw new Error("extra data found")}}}function Yy(i,e,t,r,n,s){let o=i.width,a=i.height,l=i.index;for(let h=0;h<a;h++)for(let f=0;f<o;f++){let u=t(f,h,l);Wy[r](e,n,u,s),s+=r}return s}function Ky(i,e,t,r,n,s){let o=i.width,a=i.height,l=i.index;for(let h=0;h<a;h++){for(let f=0;f<o;f++){let u=n.get(r),p=t(f,h,l);Gy[r](e,u,p,s)}n.resetAfterLine()}}Dp.dataToBitMap=function(i,e){let t=e.width,r=e.height,n=e.depth,s=e.bpp,o=e.interlace,a;n!==8&&(a=zy(i,n));let l;n<=8?l=Buffer.alloc(t*r*4):l=new Uint16Array(t*r*4);let h=Math.pow(2,n)-1,f=0,u,p;if(o)u=Mp.getImagePasses(t,r),p=Mp.getInterlaceIterator(t,r);else{let m=0;p=function(){let g=m;return m+=4,g},u=[{width:t,height:r}]}for(let m=0;m<u.length;m++)n===8?f=Yy(u[m],l,p,s,i,f):Ky(u[m],l,p,s,a,h);if(n===8){if(f!==i.length)throw new Error("extra data found")}else a.end();return l}});var ic=A((Jk,Up)=>{"use strict";function Xy(i,e,t,r,n){let s=0;for(let o=0;o<r;o++)for(let a=0;a<t;a++){let l=n[i[s]];if(!l)throw new Error("index "+i[s]+" not in palette");for(let h=0;h<4;h++)e[s+h]=l[h];s+=4}}function Zy(i,e,t,r,n){let s=0;for(let o=0;o<r;o++)for(let a=0;a<t;a++){let l=!1;if(n.length===1?n[0]===i[s]&&(l=!0):n[0]===i[s]&&n[1]===i[s+1]&&n[2]===i[s+2]&&(l=!0),l)for(let h=0;h<4;h++)e[s+h]=0;s+=4}}function Jy(i,e,t,r,n){let s=255,o=Math.pow(2,n)-1,a=0;for(let l=0;l<r;l++)for(let h=0;h<t;h++){for(let f=0;f<4;f++)e[a+f]=Math.floor(i[a+f]*s/o+.5);a+=4}}Up.exports=function(i,e,t=!1){let r=e.depth,n=e.width,s=e.height,o=e.colorType,a=e.transColor,l=e.palette,h=i;return o===3?Xy(i,h,n,s,l):(a&&Zy(i,h,n,s,a),r!==8&&!t&&(r===16&&(h=Buffer.alloc(n*s*4)),Jy(i,h,n,s,r))),h}});var Hp=A((Qk,qp)=>{"use strict";var Qy=require("util"),rc=require("zlib"),jp=Gl(),e_=Np(),t_=ec(),i_=tc(),r_=ic(),di=qp.exports=function(i){jp.call(this),this._parser=new t_(i,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=i,this.writable=!0,this._parser.start()};Qy.inherits(di,jp);di.prototype._handleError=function(i){this.emit("error",i),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};di.prototype._inflateData=function(i){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=rc.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let t=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,r=Math.max(t,rc.Z_MIN_CHUNK);this._inflate=rc.createInflate({chunkSize:r});let n=t,s=this.emit.bind(this,"error");this._inflate.on("error",function(a){n&&s(a)}),this._filter.on("complete",this._complete.bind(this));let o=this._filter.write.bind(this._filter);this._inflate.on("data",function(a){n&&(a.length>n&&(a=a.slice(0,n)),n-=a.length,o(a))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(i)};di.prototype._handleMetaData=function(i){this._metaData=i,this._bitmapInfo=Object.create(i),this._filter=new e_(this._bitmapInfo)};di.prototype._handleTransColor=function(i){this._bitmapInfo.transColor=i};di.prototype._handlePalette=function(i){this._bitmapInfo.palette=i};di.prototype._simpleTransparency=function(){this._metaData.alpha=!0};di.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};di.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};di.prototype._complete=function(i){if(this.errord)return;let e;try{let t=i_.dataToBitMap(i,this._bitmapInfo);e=r_(t,this._bitmapInfo,this._options.skipRescale),t=null}catch(t){this._handleError(t);return}this.emit("parsed",e)}});var Vp=A((eC,$p)=>{"use strict";var Ht=fn();$p.exports=function(i,e,t,r){let n=[Ht.COLORTYPE_COLOR_ALPHA,Ht.COLORTYPE_ALPHA].indexOf(r.colorType)!==-1;if(r.colorType===r.inputColorType){let g=function(){let d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]!==256}();if(r.bitDepth===8||r.bitDepth===16&&g)return i}let s=r.bitDepth!==16?i:new Uint16Array(i.buffer),o=255,a=Ht.COLORTYPE_TO_BPP_MAP[r.inputColorType];a===4&&!r.inputHasAlpha&&(a=3);let l=Ht.COLORTYPE_TO_BPP_MAP[r.colorType];r.bitDepth===16&&(o=65535,l*=2);let h=Buffer.alloc(e*t*l),f=0,u=0,p=r.bgColor||{};p.red===void 0&&(p.red=o),p.green===void 0&&(p.green=o),p.blue===void 0&&(p.blue=o);function m(){let g,d,v,x=o;switch(r.inputColorType){case Ht.COLORTYPE_COLOR_ALPHA:x=s[f+3],g=s[f],d=s[f+1],v=s[f+2];break;case Ht.COLORTYPE_COLOR:g=s[f],d=s[f+1],v=s[f+2];break;case Ht.COLORTYPE_ALPHA:x=s[f+1],g=s[f],d=g,v=g;break;case Ht.COLORTYPE_GRAYSCALE:g=s[f],d=g,v=g;break;default:throw new Error("input color type:"+r.inputColorType+" is not supported at present")}return r.inputHasAlpha&&(n||(x/=o,g=Math.min(Math.max(Math.round((1-x)*p.red+x*g),0),o),d=Math.min(Math.max(Math.round((1-x)*p.green+x*d),0),o),v=Math.min(Math.max(Math.round((1-x)*p.blue+x*v),0),o))),{red:g,green:d,blue:v,alpha:x}}for(let g=0;g<t;g++)for(let d=0;d<e;d++){let v=m(s,f);switch(r.colorType){case Ht.COLORTYPE_COLOR_ALPHA:case Ht.COLORTYPE_COLOR:r.bitDepth===8?(h[u]=v.red,h[u+1]=v.green,h[u+2]=v.blue,n&&(h[u+3]=v.alpha)):(h.writeUInt16BE(v.red,u),h.writeUInt16BE(v.green,u+2),h.writeUInt16BE(v.blue,u+4),n&&h.writeUInt16BE(v.alpha,u+6));break;case Ht.COLORTYPE_ALPHA:case Ht.COLORTYPE_GRAYSCALE:{let x=(v.red+v.green+v.blue)/3;r.bitDepth===8?(h[u]=x,n&&(h[u+1]=v.alpha)):(h.writeUInt16BE(x,u),n&&h.writeUInt16BE(v.alpha,u+2));break}default:throw new Error("unrecognised color Type "+r.colorType)}f+=a,u+=l}return h}});var zp=A((tC,Gp)=>{"use strict";var Wp=Kl();function n_(i,e,t,r,n){for(let s=0;s<t;s++)r[n+s]=i[e+s]}function s_(i,e,t){let r=0,n=e+t;for(let s=e;s<n;s++)r+=Math.abs(i[s]);return r}function o_(i,e,t,r,n,s){for(let o=0;o<t;o++){let a=o>=s?i[e+o-s]:0,l=i[e+o]-a;r[n+o]=l}}function a_(i,e,t,r){let n=0;for(let s=0;s<t;s++){let o=s>=r?i[e+s-r]:0,a=i[e+s]-o;n+=Math.abs(a)}return n}function l_(i,e,t,r,n){for(let s=0;s<t;s++){let o=e>0?i[e+s-t]:0,a=i[e+s]-o;r[n+s]=a}}function c_(i,e,t){let r=0,n=e+t;for(let s=e;s<n;s++){let o=e>0?i[s-t]:0,a=i[s]-o;r+=Math.abs(a)}return r}function h_(i,e,t,r,n,s){for(let o=0;o<t;o++){let a=o>=s?i[e+o-s]:0,l=e>0?i[e+o-t]:0,h=i[e+o]-(a+l>>1);r[n+o]=h}}function f_(i,e,t,r){let n=0;for(let s=0;s<t;s++){let o=s>=r?i[e+s-r]:0,a=e>0?i[e+s-t]:0,l=i[e+s]-(o+a>>1);n+=Math.abs(l)}return n}function u_(i,e,t,r,n,s){for(let o=0;o<t;o++){let a=o>=s?i[e+o-s]:0,l=e>0?i[e+o-t]:0,h=e>0&&o>=s?i[e+o-(t+s)]:0,f=i[e+o]-Wp(a,l,h);r[n+o]=f}}function p_(i,e,t,r){let n=0;for(let s=0;s<t;s++){let o=s>=r?i[e+s-r]:0,a=e>0?i[e+s-t]:0,l=e>0&&s>=r?i[e+s-(t+r)]:0,h=i[e+s]-Wp(o,a,l);n+=Math.abs(h)}return n}var d_={0:n_,1:o_,2:l_,3:h_,4:u_},m_={0:s_,1:a_,2:c_,3:f_,4:p_};Gp.exports=function(i,e,t,r,n){let s;if(!("filterType"in r)||r.filterType===-1)s=[0,1,2,3,4];else if(typeof r.filterType=="number")s=[r.filterType];else throw new Error("unrecognised filter types");r.bitDepth===16&&(n*=2);let o=e*n,a=0,l=0,h=Buffer.alloc((o+1)*t),f=s[0];for(let u=0;u<t;u++){if(s.length>1){let p=1/0;for(let m=0;m<s.length;m++){let g=m_[s[m]](i,l,o,n);g<p&&(f=s[m],p=g)}}h[a]=f,a++,d_[f](i,l,o,h,a,n),a+=o,l+=o}return h}});var nc=A((iC,Yp)=>{"use strict";var dt=fn(),g_=Ql(),v_=Vp(),x_=zp(),y_=require("zlib"),Xi=Yp.exports=function(i){if(this._options=i,i.deflateChunkSize=i.deflateChunkSize||32*1024,i.deflateLevel=i.deflateLevel!=null?i.deflateLevel:9,i.deflateStrategy=i.deflateStrategy!=null?i.deflateStrategy:3,i.inputHasAlpha=i.inputHasAlpha!=null?i.inputHasAlpha:!0,i.deflateFactory=i.deflateFactory||y_.createDeflate,i.bitDepth=i.bitDepth||8,i.colorType=typeof i.colorType=="number"?i.colorType:dt.COLORTYPE_COLOR_ALPHA,i.inputColorType=typeof i.inputColorType=="number"?i.inputColorType:dt.COLORTYPE_COLOR_ALPHA,[dt.COLORTYPE_GRAYSCALE,dt.COLORTYPE_COLOR,dt.COLORTYPE_COLOR_ALPHA,dt.COLORTYPE_ALPHA].indexOf(i.colorType)===-1)throw new Error("option color type:"+i.colorType+" is not supported at present");if([dt.COLORTYPE_GRAYSCALE,dt.COLORTYPE_COLOR,dt.COLORTYPE_COLOR_ALPHA,dt.COLORTYPE_ALPHA].indexOf(i.inputColorType)===-1)throw new Error("option input color type:"+i.inputColorType+" is not supported at present");if(i.bitDepth!==8&&i.bitDepth!==16)throw new Error("option bit depth:"+i.bitDepth+" is not supported at present")};Xi.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};Xi.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};Xi.prototype.filterData=function(i,e,t){let r=v_(i,e,t,this._options),n=dt.COLORTYPE_TO_BPP_MAP[this._options.colorType];return x_(r,e,t,this._options,n)};Xi.prototype._packChunk=function(i,e){let t=e?e.length:0,r=Buffer.alloc(t+12);return r.writeUInt32BE(t,0),r.writeUInt32BE(i,4),e&&e.copy(r,8),r.writeInt32BE(g_.crc32(r.slice(4,r.length-4)),r.length-4),r};Xi.prototype.packGAMA=function(i){let e=Buffer.alloc(4);return e.writeUInt32BE(Math.floor(i*dt.GAMMA_DIVISION),0),this._packChunk(dt.TYPE_gAMA,e)};Xi.prototype.packIHDR=function(i,e){let t=Buffer.alloc(13);return t.writeUInt32BE(i,0),t.writeUInt32BE(e,4),t[8]=this._options.bitDepth,t[9]=this._options.colorType,t[10]=0,t[11]=0,t[12]=0,this._packChunk(dt.TYPE_IHDR,t)};Xi.prototype.packIDAT=function(i){return this._packChunk(dt.TYPE_IDAT,i)};Xi.prototype.packIEND=function(){return this._packChunk(dt.TYPE_IEND,null)}});var Jp=A((rC,Zp)=>{"use strict";var __=require("util"),Kp=require("stream"),w_=fn(),b_=nc(),Xp=Zp.exports=function(i){Kp.call(this);let e=i||{};this._packer=new b_(e),this._deflate=this._packer.createDeflate(),this.readable=!0};__.inherits(Xp,Kp);Xp.prototype.pack=function(i,e,t,r){this.emit("data",Buffer.from(w_.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,t)),r&&this.emit("data",this._packer.packGAMA(r));let n=this._packer.filterData(i,e,t);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(s){this.emit("data",this._packer.packIDAT(s))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(n)}});var nd=A((xs,rd)=>{"use strict";var Qp=require("assert").ok,un=require("zlib"),S_=require("util"),ed=require("buffer").kMaxLength;function Sr(i){if(!(this instanceof Sr))return new Sr(i);i&&i.chunkSize<un.Z_MIN_CHUNK&&(i.chunkSize=un.Z_MIN_CHUNK),un.Inflate.call(this,i),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,i&&i.maxLength!=null&&(this._maxLength=i.maxLength)}function E_(i){return new Sr(i)}function td(i,e){e&&process.nextTick(e),i._handle&&(i._handle.close(),i._handle=null)}Sr.prototype._processChunk=function(i,e,t){if(typeof t=="function")return un.Inflate._processChunk.call(this,i,e,t);let r=this,n=i&&i.length,s=this._chunkSize-this._offset,o=this._maxLength,a=0,l=[],h=0,f;this.on("error",function(g){f=g});function u(g,d){if(r._hadError)return;let v=s-d;if(Qp(v>=0,"have should not go down"),v>0){let x=r._buffer.slice(r._offset,r._offset+v);if(r._offset+=v,x.length>o&&(x=x.slice(0,o)),l.push(x),h+=x.length,o-=x.length,o===0)return!1}return(d===0||r._offset>=r._chunkSize)&&(s=r._chunkSize,r._offset=0,r._buffer=Buffer.allocUnsafe(r._chunkSize)),d===0?(a+=n-g,n=g,!0):!1}Qp(this._handle,"zlib binding closed");let p;do p=this._handle.writeSync(e,i,a,n,this._buffer,this._offset,s),p=p||this._writeState;while(!this._hadError&&u(p[0],p[1]));if(this._hadError)throw f;if(h>=ed)throw td(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+ed.toString(16)+" bytes");let m=Buffer.concat(l,h);return td(this),m};S_.inherits(Sr,un.Inflate);function k_(i,e){if(typeof e=="string"&&(e=Buffer.from(e)),!(e instanceof Buffer))throw new TypeError("Not a string or buffer");let t=i._finishFlushFlag;return t==null&&(t=un.Z_FINISH),i._processChunk(e,t)}function id(i,e){return k_(new Sr(e),i)}rd.exports=xs=id;xs.Inflate=Sr;xs.createInflate=E_;xs.inflateSync=id});var sc=A((nC,od)=>{"use strict";var sd=od.exports=function(i){this._buffer=i,this._reads=[]};sd.prototype.read=function(i,e){this._reads.push({length:Math.abs(i),allowLess:i<0,func:e})};sd.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let i=this._reads[0];if(this._buffer.length&&(this._buffer.length>=i.length||i.allowLess)){this._reads.shift();let e=this._buffer;this._buffer=e.slice(i.length),i.func.call(this,e.slice(0,i.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}});var ld=A(ad=>{"use strict";var C_=sc(),O_=Xl();ad.process=function(i,e){let t=[],r=new C_(i);return new O_(e,{read:r.read.bind(r),write:function(s){t.push(s)},complete:function(){}}).start(),r.process(),Buffer.concat(t)}});var ud=A((oC,fd)=>{"use strict";var cd=!0,hd=require("zlib"),T_=nd();hd.deflateSync||(cd=!1);var A_=sc(),I_=ld(),R_=ec(),L_=tc(),N_=ic();fd.exports=function(i,e){if(!cd)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let t;function r(O){t=O}let n;function s(O){n=O}function o(O){n.transColor=O}function a(O){n.palette=O}function l(){n.alpha=!0}let h;function f(O){h=O}let u=[];function p(O){u.push(O)}let m=new A_(i);if(new R_(e,{read:m.read.bind(m),error:r,metadata:s,gamma:f,palette:a,transColor:o,inflateData:p,simpleTransparency:l}).start(),m.process(),t)throw t;let d=Buffer.concat(u);u.length=0;let v;if(n.interlace)v=hd.inflateSync(d);else{let b=((n.width*n.bpp*n.depth+7>>3)+1)*n.height;v=T_(d,{chunkSize:b,maxLength:b})}if(d=null,!v||!v.length)throw new Error("bad png - invalid inflate data response");let x=I_.process(v,n);d=null;let C=L_.dataToBitMap(x,n);x=null;let w=N_(C,n,e.skipRescale);return n.data=w,n.gamma=h||0,n}});var gd=A((aC,md)=>{"use strict";var pd=!0,dd=require("zlib");dd.deflateSync||(pd=!1);var B_=fn(),F_=nc();md.exports=function(i,e){if(!pd)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let t=e||{},r=new F_(t),n=[];n.push(Buffer.from(B_.PNG_SIGNATURE)),n.push(r.packIHDR(i.width,i.height)),i.gamma&&n.push(r.packGAMA(i.gamma));let s=r.filterData(i.data,i.width,i.height),o=dd.deflateSync(s,r.getDeflateOptions());if(s=null,!o||!o.length)throw new Error("bad png - invalid compressed data response");return n.push(r.packIDAT(o)),n.push(r.packIEND()),Buffer.concat(n)}});var vd=A(oc=>{"use strict";var P_=ud(),M_=gd();oc.read=function(i,e){return P_(i,e||{})};oc.write=function(i,e){return M_(i,e)}});var _d=A(yd=>{"use strict";var D_=require("util"),xd=require("stream"),U_=Hp(),j_=Jp(),q_=vd(),wt=yd.PNG=function(i){xd.call(this),i=i||{},this.width=i.width|0,this.height=i.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,i.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new U_(i),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new j_(i),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};D_.inherits(wt,xd);wt.sync=q_;wt.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};wt.prototype.parse=function(i,e){if(e){let t,r;t=function(n){this.removeListener("error",r),this.data=n,e(null,this)}.bind(this),r=function(n){this.removeListener("parsed",t),e(n,null)}.bind(this),this.once("parsed",t),this.once("error",r)}return this.end(i),this};wt.prototype.write=function(i){return this._parser.write(i),!0};wt.prototype.end=function(i){this._parser.end(i)};wt.prototype._metadata=function(i){this.width=i.width,this.height=i.height,this.emit("metadata",i)};wt.prototype._gamma=function(i){this.gamma=i};wt.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};wt.bitblt=function(i,e,t,r,n,s,o,a){if(t|=0,r|=0,n|=0,s|=0,o|=0,a|=0,t>i.width||r>i.height||t+n>i.width||r+s>i.height)throw new Error("bitblt reading outside image");if(o>e.width||a>e.height||o+n>e.width||a+s>e.height)throw new Error("bitblt writing outside image");for(let l=0;l<s;l++)i.data.copy(e.data,(a+l)*e.width+o<<2,(r+l)*i.width+t<<2,(r+l)*i.width+t+n<<2)};wt.prototype.bitblt=function(i,e,t,r,n,s,o){return wt.bitblt(this,i,e,t,r,n,s,o),this};wt.adjustGamma=function(i){if(i.gamma){for(let e=0;e<i.height;e++)for(let t=0;t<i.width;t++){let r=i.width*e+t<<2;for(let n=0;n<3;n++){let s=i.data[r+n]/255;s=Math.pow(s,1/2.2/i.gamma),i.data[r+n]=Math.round(s*255)}}i.gamma=0}};wt.prototype.adjustGamma=function(){wt.adjustGamma(this)}});var ys=A(lc=>{var ia=class extends Error{constructor(e,t,r){super(r),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}},ac=class extends ia{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};lc.CommanderError=ia;lc.InvalidArgumentError=ac});var ra=A(hc=>{var{InvalidArgumentError:H_}=ys(),cc=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e,this.parseArg=(t,r)=>{if(!e.includes(t))throw new H_(`Allowed choices are ${e.join(", ")}.`);return this.variadic?this._concatValue(t,r):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function $_(i){let e=i.name()+(i.variadic===!0?"...":"");return i.required?"<"+e+">":"["+e+"]"}hc.Argument=cc;hc.humanReadableArgName=$_});var uc=A(wd=>{var{humanReadableArgName:V_}=ra(),fc=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1}visibleCommands(e){let t=e.commands.filter(r=>!r._hidden);if(e._hasImplicitHelpCommand()){let[,r,n]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),s=e.createCommand(r).helpOption(!1);s.description(e._helpCommandDescription),n&&s.arguments(n),t.push(s)}return this.sortSubcommands&&t.sort((r,n)=>r.name().localeCompare(n.name())),t}visibleOptions(e){let t=e.options.filter(s=>!s.hidden),r=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),n=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(r||n){let s;r?n?s=e.createOption(e._helpFlags,e._helpDescription):s=e.createOption(e._helpShortFlag,e._helpDescription):s=e.createOption(e._helpLongFlag,e._helpDescription),t.push(s)}if(this.sortOptions){let s=o=>o.short?o.short.replace(/^-/,""):o.long.replace(/^--/,"");t.sort((o,a)=>s(o).localeCompare(s(a)))}return t}visibleArguments(e){return e._argsDescription&&e._args.forEach(t=>{t.description=t.description||e._argsDescription[t.name()]||""}),e._args.find(t=>t.description)?e._args:[]}subcommandTerm(e){let t=e._args.map(r=>V_(r)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce((r,n)=>Math.max(r,t.subcommandTerm(n).length),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce((r,n)=>Math.max(r,t.optionTerm(n).length),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce((r,n)=>Math.max(r,t.argumentTerm(n).length),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let r="";for(let n=e.parent;n;n=n.parent)r=n.name()+" "+r;return r+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.description()}optionDescription(e){let t=[];return e.argChoices&&!e.negate&&t.push(`choices: ${e.argChoices.map(r=>JSON.stringify(r)).join(", ")}`),e.defaultValue!==void 0&&!e.negate&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.envVar!==void 0&&t.push(`env: ${e.envVar}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}argumentDescription(e){let t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(r=>JSON.stringify(r)).join(", ")}`),e.defaultValue!==void 0&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){let r=`(${t.join(", ")})`;return e.description?`${e.description} ${r}`:r}return e.description}formatHelp(e,t){let r=t.padWidth(e,t),n=t.helpWidth||80,s=2,o=2;function a(g,d){if(d){let v=`${g.padEnd(r+o)}${d}`;return t.wrap(v,n-s,r+o)}return g}function l(g){return g.join(`
`).replace(/^/gm," ".repeat(s))}let h=[`Usage: ${t.commandUsage(e)}`,""],f=t.commandDescription(e);f.length>0&&(h=h.concat([f,""]));let u=t.visibleArguments(e).map(g=>a(t.argumentTerm(g),t.argumentDescription(g)));u.length>0&&(h=h.concat(["Arguments:",l(u),""]));let p=t.visibleOptions(e).map(g=>a(t.optionTerm(g),t.optionDescription(g)));p.length>0&&(h=h.concat(["Options:",l(p),""]));let m=t.visibleCommands(e).map(g=>a(t.subcommandTerm(g),t.subcommandDescription(g)));return m.length>0&&(h=h.concat(["Commands:",l(m),""])),h.join(`
`)}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,r,n=40){if(e.match(/[\n]\s+/))return e;let s=t-r;if(s<n)return e;let o=e.substr(0,r),a=e.substr(r),l=" ".repeat(r),h=new RegExp(".{1,"+(s-1)+"}([\\s\u200B]|$)|[^\\s\u200B]+?([\\s\u200B]|$)","g"),f=a.match(h)||[];return o+f.map((u,p)=>(u.slice(-1)===`
`&&(u=u.slice(0,u.length-1)),(p>0?l:"")+u.trimRight())).join(`
`)}};wd.Help=fc});var mc=A(dc=>{var{InvalidArgumentError:W_}=ys(),pc=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let r=bd(e);this.short=r.shortFlag,this.long=r.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}choices(e){return this.argChoices=e,this.parseArg=(t,r)=>{if(!e.includes(t))throw new W_(`Allowed choices are ${e.join(", ")}.`);return this.variadic?this._concatValue(t,r):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return G_(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}};function G_(i){return i.split("-").reduce((e,t)=>e+t[0].toUpperCase()+t.slice(1))}function bd(i){let e,t,r=i.split(/[ |,]+/);return r.length>1&&!/^[[<]/.test(r[1])&&(e=r.shift()),t=r.shift(),!e&&/^-[^-]$/.test(t)&&(e=t,t=void 0),{shortFlag:e,longFlag:t}}dc.Option=pc;dc.splitOptionFlags=bd});var Ed=A(Sd=>{function z_(i,e){if(Math.abs(i.length-e.length)>3)return Math.max(i.length,e.length);let t=[];for(let r=0;r<=i.length;r++)t[r]=[r];for(let r=0;r<=e.length;r++)t[0][r]=r;for(let r=1;r<=e.length;r++)for(let n=1;n<=i.length;n++){let s=1;i[n-1]===e[r-1]?s=0:s=1,t[n][r]=Math.min(t[n-1][r]+1,t[n][r-1]+1,t[n-1][r-1]+s),n>1&&r>1&&i[n-1]===e[r-2]&&i[n-2]===e[r-1]&&(t[n][r]=Math.min(t[n][r],t[n-2][r-2]+1))}return t[i.length][e.length]}function Y_(i,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let t=i.startsWith("--");t&&(i=i.slice(2),e=e.map(o=>o.slice(2)));let r=[],n=3,s=.4;return e.forEach(o=>{if(o.length<=1)return;let a=z_(i,o),l=Math.max(i.length,o.length);(l-a)/l>s&&(a<n?(n=a,r=[o]):a===n&&r.push(o))}),r.sort((o,a)=>o.localeCompare(a)),t&&(r=r.map(o=>`--${o}`)),r.length>1?`
(Did you mean one of ${r.join(", ")}?)`:r.length===1?`
(Did you mean ${r[0]}?)`:""}Sd.suggestSimilar=Y_});var Ad=A(Td=>{var K_=require("events").EventEmitter,gc=require("child_process"),Er=require("path"),vc=require("fs"),{Argument:X_,humanReadableArgName:Z_}=ra(),{CommanderError:xc}=ys(),{Help:J_}=uc(),{Option:Q_,splitOptionFlags:ew}=mc(),{suggestSimilar:kd}=Ed(),_c=class i extends K_{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!1,this._outputConfiguration={writeOut:t=>process.stdout.write(t),writeErr:t=>process.stderr.write(t),getOutHelpWidth:()=>process.stdout.isTTY?process.stdout.columns:void 0,getErrHelpWidth:()=>process.stderr.isTTY?process.stderr.columns:void 0,outputError:(t,r)=>r(t)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}command(e,t,r){let n=t,s=r;typeof n=="object"&&n!==null&&(s=n,n=null),s=s||{};let[,o,a]=e.match(/([^ ]+) *(.*)/),l=this.createCommand(o);return n&&(l.description(n),l._executableHandler=!0),s.isDefault&&(this._defaultCommandName=l._name),l._hidden=!!(s.noHelp||s.hidden),l._executableFile=s.executableFile||null,a&&l.arguments(a),this.commands.push(l),l.parent=this,l.copyInheritedSettings(this),n?this:l}createCommand(e){return new i(e)}createHelp(){return Object.assign(new J_,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error("Command passed to .addCommand() must have a name");function r(n){n.forEach(s=>{if(s._executableHandler&&!s._executableFile)throw new Error(`Must specify executableFile for deeply nested executable: ${s.name()}`);r(s.commands)})}return r(e.commands),t=t||{},t.isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,t){return new X_(e,t)}argument(e,t,r,n){let s=this.createArgument(e,t);return typeof r=="function"?s.default(n).argParser(r):s.default(r),this.addArgument(s),this}arguments(e){return e.split(/ +/).forEach(t=>{this.argument(t)}),this}addArgument(e){let t=this._args.slice(-1)[0];if(t&&t.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this._args.push(e),this}addHelpCommand(e,t){return e===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=t||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,t){let r=["preAction","postAction"];if(!r.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${r.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync")throw t},this}_exit(e,t,r){this._exitCallback&&this._exitCallback(new xc(e,t,r)),process.exit(e)}action(e){let t=r=>{let n=this._args.length,s=r.slice(0,n);return this._storeOptionsAsProperties?s[n]=this:s[n]=this.opts(),s.push(this),e.apply(this,s)};return this._actionHandler=t,this}createOption(e,t){return new Q_(e,t)}addOption(e){let t=e.name(),r=e.attributeName(),n=e.defaultValue;if(e.negate||e.optional||e.required||typeof n=="boolean"){if(e.negate){let o=e.long.replace(/^--no-/,"--");n=this._findOption(o)?this.getOptionValue(r):!0}n!==void 0&&this.setOptionValueWithSource(r,n,"default")}this.options.push(e);let s=(o,a,l)=>{let h=this.getOptionValue(r);if(o!==null&&e.parseArg)try{o=e.parseArg(o,h===void 0?n:h)}catch(f){if(f.code==="commander.invalidArgument"){let u=`${a} ${f.message}`;this._displayError(f.exitCode,f.code,u)}throw f}else o!==null&&e.variadic&&(o=e._concatValue(o,h));typeof h=="boolean"||typeof h=="undefined"?o==null?this.setOptionValueWithSource(r,e.negate?!1:n||!0,l):this.setOptionValueWithSource(r,o,l):o!==null&&this.setOptionValueWithSource(r,e.negate?!1:o,l)};return this.on("option:"+t,o=>{let a=`error: option '${e.flags}' argument '${o}' is invalid.`;s(o,a,"cli")}),e.envVar&&this.on("optionEnv:"+t,o=>{let a=`error: option '${e.flags}' value '${o}' from env '${e.envVar}' is invalid.`;s(o,a,"env")}),this}_optionEx(e,t,r,n,s){let o=this.createOption(t,r);if(o.makeOptionMandatory(!!e.mandatory),typeof n=="function")o.default(s).argParser(n);else if(n instanceof RegExp){let a=n;n=(l,h)=>{let f=a.exec(l);return f?f[0]:h},o.default(s).argParser(n)}else o.default(n);return this.addOption(o)}option(e,t,r,n){return this._optionEx({},e,t,r,n)}requiredOption(e,t,r,n){return this._optionEx({mandatory:!0},e,t,r,n)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this._storeOptionsAsProperties=!!e,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this}setOptionValueWithSource(e,t,r){return this.setOptionValue(e,t),this._optionValueSources[e]=r,this}getOptionValueSource(e){return this._optionValueSources[e]}_prepareUserArgs(e,t){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");t=t||{},e===void 0&&(e=process.argv,process.versions&&process.versions.electron&&(t.from="electron")),this.rawArgs=e.slice();let r;switch(t.from){case void 0:case"node":this._scriptPath=e[1],r=e.slice(2);break;case"electron":process.defaultApp?(this._scriptPath=e[1],r=e.slice(2)):r=e.slice(1);break;case"user":r=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._scriptPath&&require.main&&(this._scriptPath=require.main.filename),this._name=this._name||this._scriptPath&&Er.basename(this._scriptPath,Er.extname(this._scriptPath)),r}parse(e,t){let r=this._prepareUserArgs(e,t);return this._parseCommand([],r),this}async parseAsync(e,t){let r=this._prepareUserArgs(e,t);return await this._parseCommand([],r),this}_executeSubCommand(e,t){t=t.slice();let r=!1,n=[".js",".ts",".tsx",".mjs",".cjs"];this._checkForMissingMandatoryOptions();let s=this._scriptPath;!s&&require.main&&(s=require.main.filename);let o;try{let p=vc.realpathSync(s);o=Er.dirname(p)}catch{o="."}let a=Er.basename(s,Er.extname(s))+"-"+e._name;e._executableFile&&(a=e._executableFile);let l=Er.join(o,a);vc.existsSync(l)?a=l:n.forEach(p=>{vc.existsSync(`${l}${p}`)&&(a=`${l}${p}`)}),r=n.includes(Er.extname(a));let h;process.platform!=="win32"?r?(t.unshift(a),t=Od(process.execArgv).concat(t),h=gc.spawn(process.argv[0],t,{stdio:"inherit"})):h=gc.spawn(a,t,{stdio:"inherit"}):(t.unshift(a),t=Od(process.execArgv).concat(t),h=gc.spawn(process.execPath,t,{stdio:"inherit"})),["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(p=>{process.on(p,()=>{h.killed===!1&&h.exitCode===null&&h.kill(p)})});let u=this._exitCallback;u?h.on("close",()=>{u(new xc(process.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):h.on("close",process.exit.bind(process)),h.on("error",p=>{if(p.code==="ENOENT"){let m=`'${a}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name`;throw new Error(m)}else if(p.code==="EACCES")throw new Error(`'${a}' not executable`);if(!u)process.exit(1);else{let m=new xc(1,"commander.executeSubCommandAsync","(error)");m.nestedError=p,u(m)}}),this.runningCommand=h}_dispatchSubcommand(e,t,r){let n=this._findCommand(e);if(n||this.help({error:!0}),n._executableHandler)this._executeSubCommand(n,t.concat(r));else return n._parseCommand(t,r)}_checkNumberOfArguments(){this._args.forEach((e,t)=>{e.required&&this.args[t]==null&&this.missingArgument(e.name())}),!(this._args.length>0&&this._args[this._args.length-1].variadic)&&this.args.length>this._args.length&&this._excessArguments(this.args)}_processArguments(){let e=(r,n,s)=>{let o=n;if(n!==null&&r.parseArg)try{o=r.parseArg(n,s)}catch(a){if(a.code==="commander.invalidArgument"){let l=`error: command-argument value '${n}' is invalid for argument '${r.name()}'. ${a.message}`;this._displayError(a.exitCode,a.code,l)}throw a}return o};this._checkNumberOfArguments();let t=[];this._args.forEach((r,n)=>{let s=r.defaultValue;r.variadic?n<this.args.length?(s=this.args.slice(n),r.parseArg&&(s=s.reduce((o,a)=>e(r,a,o),r.defaultValue))):s===void 0&&(s=[]):n<this.args.length&&(s=this.args[n],r.parseArg&&(s=e(r,s,r.defaultValue))),t[n]=s}),this.processedArgs=t}_chainOrCall(e,t){return e&&e.then&&typeof e.then=="function"?e.then(()=>t()):t()}_chainOrCallHooks(e,t){let r=e,n=[];return yc(this).reverse().filter(s=>s._lifeCycleHooks[t]!==void 0).forEach(s=>{s._lifeCycleHooks[t].forEach(o=>{n.push({hookedCommand:s,callback:o})})}),t==="postAction"&&n.reverse(),n.forEach(s=>{r=this._chainOrCall(r,()=>s.callback(s.hookedCommand,this))}),r}_parseCommand(e,t){let r=this.parseOptions(t);if(this._parseOptionsEnv(),e=e.concat(r.operands),t=r.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return e.length===1&&this.help(),this._dispatchSubcommand(e[1],[],[this._helpLongFlag]);if(this._defaultCommandName)return Cd(this,t),this._dispatchSubcommand(this._defaultCommandName,e,t);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),Cd(this,r.unknown),this._checkForMissingMandatoryOptions();let n=()=>{r.unknown.length>0&&this.unknownOption(r.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){n(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&this.parent.emit(s,e,t),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent&&this.parent.listenerCount(s))n(),this._processArguments(),this.parent.emit(s,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(t=>t._name===e||t._aliases.includes(e))}_findOption(e){return this.options.find(t=>t.is(e))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent)e.options.forEach(t=>{t.mandatory&&e.getOptionValue(t.attributeName())===void 0&&e.missingMandatoryOptionValue(t)})}parseOptions(e){let t=[],r=[],n=t,s=e.slice();function o(l){return l.length>1&&l[0]==="-"}let a=null;for(;s.length;){let l=s.shift();if(l==="--"){n===r&&n.push(l),n.push(...s);break}if(a&&!o(l)){this.emit(`option:${a.name()}`,l);continue}if(a=null,o(l)){let h=this._findOption(l);if(h){if(h.required){let f=s.shift();f===void 0&&this.optionMissingArgument(h),this.emit(`option:${h.name()}`,f)}else if(h.optional){let f=null;s.length>0&&!o(s[0])&&(f=s.shift()),this.emit(`option:${h.name()}`,f)}else this.emit(`option:${h.name()}`);a=h.variadic?h:null;continue}}if(l.length>2&&l[0]==="-"&&l[1]!=="-"){let h=this._findOption(`-${l[1]}`);if(h){h.required||h.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${h.name()}`,l.slice(2)):(this.emit(`option:${h.name()}`),s.unshift(`-${l.slice(2)}`));continue}}if(/^--[^=]+=/.test(l)){let h=l.indexOf("="),f=this._findOption(l.slice(0,h));if(f&&(f.required||f.optional)){this.emit(`option:${f.name()}`,l.slice(h+1));continue}}if(o(l)&&(n=r),(this._enablePositionalOptions||this._passThroughOptions)&&t.length===0&&r.length===0){if(this._findCommand(l)){t.push(l),s.length>0&&r.push(...s);break}else if(l===this._helpCommandName&&this._hasImplicitHelpCommand()){t.push(l),s.length>0&&t.push(...s);break}else if(this._defaultCommandName){r.push(l),s.length>0&&r.push(...s);break}}if(this._passThroughOptions){n.push(l),s.length>0&&n.push(...s);break}n.push(l)}return{operands:t,unknown:r}}opts(){if(this._storeOptionsAsProperties){let e={},t=this.options.length;for(let r=0;r<t;r++){let n=this.options[r].attributeName();e[n]=n===this._versionOptionName?this._version:this[n]}return e}return this._optionValues}_displayError(e,t,r){this._outputConfiguration.outputError(`${r}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0})),this._exit(e,t,r)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in process.env){let t=e.attributeName();(this.getOptionValue(t)===void 0||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,process.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}missingArgument(e){let t=`error: missing required argument '${e}'`;this._displayError(1,"commander.missingArgument",t)}optionMissingArgument(e){let t=`error: option '${e.flags}' argument missing`;this._displayError(1,"commander.optionMissingArgument",t)}missingMandatoryOptionValue(e){let t=`error: required option '${e.flags}' not specified`;this._displayError(1,"commander.missingMandatoryOptionValue",t)}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let n=[],s=this;do{let o=s.createHelp().visibleOptions(s).filter(a=>a.long).map(a=>a.long);n=n.concat(o),s=s.parent}while(s&&!s._enablePositionalOptions);t=kd(e,n)}let r=`error: unknown option '${e}'${t}`;this._displayError(1,"commander.unknownOption",r)}_excessArguments(e){if(this._allowExcessArguments)return;let t=this._args.length,r=t===1?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${r} but got ${e.length}.`;this._displayError(1,"commander.excessArguments",s)}unknownCommand(){let e=this.args[0],t="";if(this._showSuggestionAfterError){let n=[];this.createHelp().visibleCommands(this).forEach(s=>{n.push(s.name()),s.alias()&&n.push(s.alias())}),t=kd(e,n)}let r=`error: unknown command '${e}'${t}`;this._displayError(1,"commander.unknownCommand",r)}version(e,t,r){if(e===void 0)return this._version;this._version=e,t=t||"-V, --version",r=r||"output the version number";let n=this.createOption(t,r);return this._versionOptionName=n.attributeName(),this.options.push(n),this.on("option:"+n.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,t){return e===void 0&&t===void 0?this._description:(this._description=e,t&&(this._argsDescription=t),this)}alias(e){if(e===void 0)return this._aliases[0];let t=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");return t._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(t=>this.alias(t)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let t=this._args.map(r=>Z_(r));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?t:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}helpInformation(e){let t=this.createHelp();return t.helpWidth===void 0&&(t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),t.formatHelp(this,t)}_getHelpContext(e){e=e||{};let t={error:!!e.error},r;return t.error?r=n=>this._outputConfiguration.writeErr(n):r=n=>this._outputConfiguration.writeOut(n),t.write=e.write||r,t.command=this,t}outputHelp(e){let t;typeof e=="function"&&(t=e,e=void 0);let r=this._getHelpContext(e);yc(this).reverse().forEach(s=>s.emit("beforeAllHelp",r)),this.emit("beforeHelp",r);let n=this.helpInformation(r);if(t&&(n=t(n),typeof n!="string"&&!Buffer.isBuffer(n)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(n),this.emit(this._helpLongFlag),this.emit("afterHelp",r),yc(this).forEach(s=>s.emit("afterAllHelp",r))}helpOption(e,t){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=t||this._helpDescription;let r=ew(this._helpFlags);return this._helpShortFlag=r.shortFlag,this._helpLongFlag=r.longFlag,this}help(e){this.outputHelp(e);let t=process.exitCode||0;t===0&&e&&typeof e!="function"&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){let r=["beforeAll","before","after","afterAll"];if(!r.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${r.join("', '")}'`);let n=`${e}Help`;return this.on(n,s=>{let o;typeof t=="function"?o=t({error:s.error,command:s.command}):o=t,o&&s.write(`${o}
`)}),this}};function Cd(i,e){i._hasHelpOption&&e.find(r=>r===i._helpLongFlag||r===i._helpShortFlag)&&(i.outputHelp(),i._exit(0,"commander.helpDisplayed","(outputHelp)"))}function Od(i){return i.map(e=>{if(!e.startsWith("--inspect"))return e;let t,r="127.0.0.1",n="9229",s;return(s=e.match(/^(--inspect(-brk)?)$/))!==null?t=s[1]:(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(t=s[1],/^\d+$/.test(s[3])?n=s[3]:r=s[3]):(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(t=s[1],r=s[3],n=s[4]),t&&n!=="0"?`${t}=${r}:${parseInt(n)+1}`:e})}function yc(i){let e=[];for(let t=i;t;t=t.parent)e.push(t);return e}Td.Command=_c});var Nd=A((ei,Ld)=>{var{Argument:tw}=ra(),{Command:Id}=Ad(),{CommanderError:iw,InvalidArgumentError:Rd}=ys(),{Help:rw}=uc(),{Option:nw}=mc();ei=Ld.exports=new Id;ei.program=ei;ei.Argument=tw;ei.Command=Id;ei.CommanderError=iw;ei.Help=rw;ei.InvalidArgumentError=Rd;ei.InvalidOptionArgumentError=Rd;ei.Option=nw});var Pd=A((Bd,Fd)=>{Bd=Fd.exports=pn;function pn(i,e){if(this.stream=e.stream||process.stderr,typeof e=="number"){var t=e;e={},e.total=t}else{if(e=e||{},typeof i!="string")throw new Error("format required");if(typeof e.total!="number")throw new Error("total required")}this.fmt=i,this.curr=e.curr||0,this.total=e.total,this.width=e.width||this.total,this.clear=e.clear,this.chars={complete:e.complete||"=",incomplete:e.incomplete||"-",head:e.head||e.complete||"="},this.renderThrottle=e.renderThrottle!==0?e.renderThrottle||16:0,this.lastRender=-1/0,this.callback=e.callback||function(){},this.tokens={},this.lastDraw=""}pn.prototype.tick=function(i,e){if(i!==0&&(i=i||1),typeof i=="object"&&(e=i,i=1),e&&(this.tokens=e),this.curr==0&&(this.start=new Date),this.curr+=i,this.render(),this.curr>=this.total){this.render(void 0,!0),this.complete=!0,this.terminate(),this.callback(this);return}};pn.prototype.render=function(i,e){if(e=e!==void 0?e:!1,i&&(this.tokens=i),!!this.stream.isTTY){var t=Date.now(),r=t-this.lastRender;if(!(!e&&r<this.renderThrottle)){this.lastRender=t;var n=this.curr/this.total;n=Math.min(Math.max(n,0),1);var s=Math.floor(n*100),o,a,l,h=new Date-this.start,f=s==100?0:h*(this.total/this.curr-1),u=this.curr/(h/1e3),p=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(h)?"0.0":(h/1e3).toFixed(1)).replace(":eta",isNaN(f)||!isFinite(f)?"0.0":(f/1e3).toFixed(1)).replace(":percent",s.toFixed(0)+"%").replace(":rate",Math.round(u)),m=Math.max(0,this.stream.columns-p.replace(":bar","").length);m&&process.platform==="win32"&&(m=m-1);var g=Math.min(this.width,m);if(l=Math.round(g*n),a=Array(Math.max(0,l+1)).join(this.chars.complete),o=Array(Math.max(0,g-l+1)).join(this.chars.incomplete),l>0&&(a=a.slice(0,-1)+this.chars.head),p=p.replace(":bar",a+o),this.tokens)for(var d in this.tokens)p=p.replace(":"+d,this.tokens[d]);this.lastDraw!==p&&(this.stream.cursorTo(0),this.stream.write(p),this.stream.clearLine(1),this.lastDraw=p)}}};pn.prototype.update=function(i,e){var t=Math.floor(i*this.total),r=t-this.curr;this.tick(r,e)};pn.prototype.interrupt=function(i){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(i),this.stream.write(`
`),this.stream.write(this.lastDraw)};pn.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write(`
`)}});var Dd=A((gC,Md)=>{Md.exports=Pd()});var Zd=A((bC,Xd)=>{var Vd=Nl();Xd.exports=lw;var Wd="\0SLASH"+Math.random()+"\0",Gd="\0OPEN"+Math.random()+"\0",bc="\0CLOSE"+Math.random()+"\0",zd="\0COMMA"+Math.random()+"\0",Yd="\0PERIOD"+Math.random()+"\0";function wc(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function ow(i){return i.split("\\\\").join(Wd).split("\\{").join(Gd).split("\\}").join(bc).split("\\,").join(zd).split("\\.").join(Yd)}function aw(i){return i.split(Wd).join("\\").split(Gd).join("{").split(bc).join("}").split(zd).join(",").split(Yd).join(".")}function Kd(i){if(!i)return[""];var e=[],t=Vd("{","}",i);if(!t)return i.split(",");var r=t.pre,n=t.body,s=t.post,o=r.split(",");o[o.length-1]+="{"+n+"}";var a=Kd(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function lw(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),bs(ow(i),!0).map(aw)):[]}function cw(i){return"{"+i+"}"}function hw(i){return/^-?0\d/.test(i)}function fw(i,e){return i<=e}function uw(i,e){return i>=e}function bs(i,e){var t=[],r=Vd("{","}",i);if(!r)return[i];var n=r.pre,s=r.post.length?bs(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=n+"{"+r.body+"}"+s[o];t.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),f=l||h,u=r.body.indexOf(",")>=0;if(!f&&!u)return r.post.match(/,.*\}/)?(i=r.pre+"{"+r.body+bc+r.post,bs(i)):[i];var p;if(f)p=r.body.split(/\.\./);else if(p=Kd(r.body),p.length===1&&(p=bs(p[0],!1).map(cw),p.length===1))return s.map(function(B){return r.pre+p[0]+B});var m;if(f){var g=wc(p[0]),d=wc(p[1]),v=Math.max(p[0].length,p[1].length),x=p.length==3?Math.abs(wc(p[2])):1,C=fw,w=d<g;w&&(x*=-1,C=uw);var O=p.some(hw);m=[];for(var b=g;C(b,d);b+=x){var U;if(h)U=String.fromCharCode(b),U==="\\"&&(U="");else if(U=String(b),O){var R=v-U.length;if(R>0){var H=new Array(R+1).join("0");b<0?U="-"+H+U.slice(1):U=H+U}}m.push(U)}}else{m=[];for(var T=0;T<p.length;T++)m.push.apply(m,bs(p[T],!1))}for(var T=0;T<m.length;T++)for(var o=0;o<s.length;o++){var a=n+m[T]+s[o];(!e||f||a)&&t.push(a)}}return t}});var kg=A(Eg=>{var Y=Eg,{Buffer:Xa}=require("buffer"),RS=require("os");Y.toBuffer=function(i,e,t){t=~~t;let r;if(this.isV4Format(i))r=e||Xa.alloc(t+4),i.split(/\./g).map(n=>{r[t++]=parseInt(n,10)&255});else if(this.isV6Format(i)){let n=i.split(":",8),s;for(s=0;s<n.length;s++){let o=this.isV4Format(n[s]),a;o&&(a=this.toBuffer(n[s]),n[s]=a.slice(0,2).toString("hex")),a&&++s<8&&n.splice(s,0,a.slice(2,4).toString("hex"))}if(n[0]==="")for(;n.length<8;)n.unshift("0");else if(n[n.length-1]==="")for(;n.length<8;)n.push("0");else if(n.length<8){for(s=0;s<n.length&&n[s]!=="";s++);let o=[s,1];for(s=9-n.length;s>0;s--)o.push("0");n.splice(...o)}for(r=e||Xa.alloc(t+16),s=0;s<n.length;s++){let o=parseInt(n[s],16);r[t++]=o>>8&255,r[t++]=o&255}}if(!r)throw Error(`Invalid ip address: ${i}`);return r};Y.toString=function(i,e,t){e=~~e,t=t||i.length-e;let r=[];if(t===4){for(let n=0;n<t;n++)r.push(i[e+n]);r=r.join(".")}else if(t===16){for(let n=0;n<t;n+=2)r.push(i.readUInt16BE(e+n).toString(16));r=r.join(":"),r=r.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),r=r.replace(/:{3,4}/,"::")}return r};var LS=/^(\d{1,3}\.){3,3}\d{1,3}$/,NS=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;Y.isV4Format=function(i){return LS.test(i)};Y.isV6Format=function(i){return NS.test(i)};function To(i){return i===4?"ipv4":i===6?"ipv6":i?i.toLowerCase():"ipv4"}Y.fromPrefixLen=function(i,e){i>32?e="ipv6":e=To(e);let t=4;e==="ipv6"&&(t=16);let r=Xa.alloc(t);for(let n=0,s=r.length;n<s;++n){let o=8;i<8&&(o=i),i-=o,r[n]=~(255>>o)&255}return Y.toString(r)};Y.mask=function(i,e){i=Y.toBuffer(i),e=Y.toBuffer(e);let t=Xa.alloc(Math.max(i.length,e.length)),r;if(i.length===e.length)for(r=0;r<i.length;r++)t[r]=i[r]&e[r];else if(e.length===4)for(r=0;r<e.length;r++)t[r]=i[i.length-4+r]&e[r];else{for(r=0;r<t.length-6;r++)t[r]=0;for(t[10]=255,t[11]=255,r=0;r<i.length;r++)t[r+12]=i[r]&e[r+12];r+=12}for(;r<t.length;r++)t[r]=0;return Y.toString(t)};Y.cidr=function(i){let e=i.split("/"),t=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${t}`);let r=Y.fromPrefixLen(parseInt(e[1],10));return Y.mask(t,r)};Y.subnet=function(i,e){let t=Y.toLong(Y.mask(i,e)),r=Y.toBuffer(e),n=0;for(let o=0;o<r.length;o++)if(r[o]===255)n+=8;else{let a=r[o]&255;for(;a;)a=a<<1&255,n++}let s=2**(32-n);return{networkAddress:Y.fromLong(t),firstAddress:s<=2?Y.fromLong(t):Y.fromLong(t+1),lastAddress:s<=2?Y.fromLong(t+s-1):Y.fromLong(t+s-2),broadcastAddress:Y.fromLong(t+s-1),subnetMask:e,subnetMaskLength:n,numHosts:s<=2?s:s-2,length:s,contains(o){return t===Y.toLong(Y.mask(o,e))}}};Y.cidrSubnet=function(i){let e=i.split("/"),t=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${t}`);let r=Y.fromPrefixLen(parseInt(e[1],10));return Y.subnet(t,r)};Y.not=function(i){let e=Y.toBuffer(i);for(let t=0;t<e.length;t++)e[t]=255^e[t];return Y.toString(e)};Y.or=function(i,e){if(i=Y.toBuffer(i),e=Y.toBuffer(e),i.length===e.length){for(let s=0;s<i.length;++s)i[s]|=e[s];return Y.toString(i)}let t=i,r=e;e.length>i.length&&(t=e,r=i);let n=t.length-r.length;for(let s=n;s<t.length;++s)t[s]|=r[s-n];return Y.toString(t)};Y.isEqual=function(i,e){if(i=Y.toBuffer(i),e=Y.toBuffer(e),i.length===e.length){for(let r=0;r<i.length;r++)if(i[r]!==e[r])return!1;return!0}if(e.length===4){let r=e;e=i,i=r}for(let r=0;r<10;r++)if(e[r]!==0)return!1;let t=e.readUInt16BE(10);if(t!==0&&t!==65535)return!1;for(let r=0;r<4;r++)if(i[r]!==e[r+12])return!1;return!0};Y.isPrivate=function(i){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(i)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(i)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(i)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(i)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(i)||/^f[cd][0-9a-f]{2}:/i.test(i)||/^fe80:/i.test(i)||/^::1$/.test(i)||/^::$/.test(i)};Y.isPublic=function(i){return!Y.isPrivate(i)};Y.isLoopback=function(i){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(i)||/^fe80::1$/.test(i)||/^::1$/.test(i)||/^::$/.test(i)};Y.loopback=function(i){if(i=To(i),i!=="ipv4"&&i!=="ipv6")throw new Error("family must be ipv4 or ipv6");return i==="ipv4"?"127.0.0.1":"fe80::1"};Y.address=function(i,e){let t=RS.networkInterfaces();if(e=To(e),i&&i!=="private"&&i!=="public"){let n=t[i].filter(s=>To(s.family)===e);return n.length===0?void 0:n[0].address}let r=Object.keys(t).map(n=>{let s=t[n].filter(o=>(o.family=To(o.family),o.family!==e||Y.isLoopback(o.address)?!1:i?i==="public"?Y.isPrivate(o.address):Y.isPublic(o.address):!0));return s.length?s[0].address:void 0}).filter(Boolean);return r.length?r[0]:Y.loopback(e)};Y.toLong=function(i){let e=0;return i.split(".").forEach(t=>{e<<=8,e+=parseInt(t)}),e>>>0};Y.fromLong=function(i){return`${i>>>24}.${i>>16&255}.${i>>8&255}.${i&255}`}});var Ag=A(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var Cg=require("buffer"),Hr={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};Vi.ERRORS=Hr;function BS(i){if(!Cg.Buffer.isEncoding(i))throw new Error(Hr.INVALID_ENCODING)}Vi.checkEncoding=BS;function Og(i){return typeof i=="number"&&isFinite(i)&&DS(i)}Vi.isFiniteInteger=Og;function Tg(i,e){if(typeof i=="number"){if(!Og(i)||i<0)throw new Error(e?Hr.INVALID_OFFSET:Hr.INVALID_LENGTH)}else throw new Error(e?Hr.INVALID_OFFSET_NON_NUMBER:Hr.INVALID_LENGTH_NON_NUMBER)}function FS(i){Tg(i,!1)}Vi.checkLengthValue=FS;function PS(i){Tg(i,!0)}Vi.checkOffsetValue=PS;function MS(i,e){if(i<0||i>e.length)throw new Error(Hr.INVALID_TARGET_OFFSET)}Vi.checkTargetOffset=MS;function DS(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}function US(i){if(typeof BigInt=="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof Cg.Buffer.prototype[i]=="undefined")throw new Error(`Platform does not support Buffer.prototype.${i}.`)}Vi.bigIntAndBufferInt64Check=US});var Rg=A(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});var le=Ag(),Ig=4096,jS="utf8",bh=class i{constructor(e){if(this.length=0,this._encoding=jS,this._writeOffset=0,this._readOffset=0,i.isSmartBufferOptions(e))if(e.encoding&&(le.checkEncoding(e.encoding),this._encoding=e.encoding),e.size)if(le.isFiniteInteger(e.size)&&e.size>0)this._buff=Buffer.allocUnsafe(e.size);else throw new Error(le.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(e.buff)if(Buffer.isBuffer(e.buff))this._buff=e.buff,this.length=e.buff.length;else throw new Error(le.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(Ig);else{if(typeof e!="undefined")throw new Error(le.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(Ig)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){let t=e;return t&&(t.encoding!==void 0||t.size!==void 0||t.buff!==void 0)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return le.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return le.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,t){return le.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}insertBigInt64BE(e,t){return le.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}writeBigInt64LE(e,t){return le.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}insertBigInt64LE(e,t){return le.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return le.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return le.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,t){return le.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}insertBigUInt64BE(e,t){return le.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}writeBigUInt64LE(e,t){return le.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}insertBigUInt64LE(e,t){return le.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}readString(e,t){let r;typeof e=="number"?(le.checkLengthValue(e),r=Math.min(e,this.length-this._readOffset)):(t=e,r=this.length-this._readOffset),typeof t!="undefined"&&le.checkEncoding(t);let n=this._buff.slice(this._readOffset,this._readOffset+r).toString(t||this._encoding);return this._readOffset+=r,n}insertString(e,t,r){return le.checkOffsetValue(t),this._handleString(e,!0,t,r)}writeString(e,t,r){return this._handleString(e,!1,t,r)}readStringNT(e){typeof e!="undefined"&&le.checkEncoding(e);let t=this.length;for(let n=this._readOffset;n<this.length;n++)if(this._buff[n]===0){t=n;break}let r=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,r.toString(e||this._encoding)}insertStringNT(e,t,r){return le.checkOffsetValue(t),this.insertString(e,t,r),this.insertUInt8(0,t+e.length),this}writeStringNT(e,t,r){return this.writeString(e,t,r),this.writeUInt8(0,typeof t=="number"?t+e.length:this.writeOffset),this}readBuffer(e){typeof e!="undefined"&&le.checkLengthValue(e);let t=typeof e=="number"?e:this.length,r=Math.min(this.length,this._readOffset+t),n=this._buff.slice(this._readOffset,r);return this._readOffset=r,n}insertBuffer(e,t){return le.checkOffsetValue(t),this._handleBuffer(e,!0,t)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let r=this._readOffset;r<this.length;r++)if(this._buff[r]===0){e=r;break}let t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,t){return le.checkOffsetValue(t),this.insertBuffer(e,t),this.insertUInt8(0,t+e.length),this}writeBufferNT(e,t){return typeof t!="undefined"&&le.checkOffsetValue(t),this.writeBuffer(e,t),this.writeUInt8(0,typeof t=="number"?t+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){le.checkOffsetValue(e),le.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){le.checkOffsetValue(e),le.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){le.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let t=typeof e=="string"?e:this._encoding;return le.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(e,t,r,n){let s=this._writeOffset,o=this._encoding;typeof r=="number"?s=r:typeof r=="string"&&(le.checkEncoding(r),o=r),typeof n=="string"&&(le.checkEncoding(n),o=n);let a=Buffer.byteLength(e,o);return t?this.ensureInsertable(a,s):this._ensureWriteable(a,s),this._buff.write(e,s,a,o),t?this._writeOffset+=a:typeof r=="number"?this._writeOffset=Math.max(this._writeOffset,s+a):this._writeOffset+=a,this}_handleBuffer(e,t,r){let n=typeof r=="number"?r:this._writeOffset;return t?this.ensureInsertable(e.length,n):this._ensureWriteable(e.length,n),e.copy(this._buff,n),t?this._writeOffset+=e.length:typeof r=="number"?this._writeOffset=Math.max(this._writeOffset,n+e.length):this._writeOffset+=e.length,this}ensureReadable(e,t){let r=this._readOffset;if(typeof t!="undefined"&&(le.checkOffsetValue(t),r=t),r<0||r+e>this.length)throw new Error(le.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,t){le.checkOffsetValue(t),this._ensureCapacity(this.length+e),t<this.length&&this._buff.copy(this._buff,t+e,t,this._buff.length),t+e>this.length?this.length=t+e:this.length+=e}_ensureWriteable(e,t){let r=typeof t=="number"?t:this._writeOffset;this._ensureCapacity(r+e),r+e>this.length&&(this.length=r+e)}_ensureCapacity(e){let t=this._buff.length;if(e>t){let r=this._buff,n=t*3/2+1;n<e&&(n=e),this._buff=Buffer.allocUnsafe(n),r.copy(this._buff,0,0,t)}}_readNumberValue(e,t,r){this.ensureReadable(t,r);let n=e.call(this._buff,typeof r=="number"?r:this._readOffset);return typeof r=="undefined"&&(this._readOffset+=t),n}_insertNumberValue(e,t,r,n){return le.checkOffsetValue(n),this.ensureInsertable(t,n),e.call(this._buff,r,n),this._writeOffset+=t,this}_writeNumberValue(e,t,r,n){if(typeof n=="number"){if(n<0)throw new Error(le.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);le.checkOffsetValue(n)}let s=typeof n=="number"?n:this._writeOffset;return this._ensureWriteable(t,s),e.call(this._buff,r,s),typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,s+t):this._writeOffset+=t,this}};Sh.SmartBuffer=bh});var Ih=A(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.SOCKS5_NO_ACCEPTABLE_AUTH=Te.SOCKS5_CUSTOM_AUTH_END=Te.SOCKS5_CUSTOM_AUTH_START=Te.SOCKS_INCOMING_PACKET_SIZES=Te.SocksClientState=Te.Socks5Response=Te.Socks5HostType=Te.Socks5Auth=Te.Socks4Response=Te.SocksCommand=Te.ERRORS=Te.DEFAULT_TIMEOUT=void 0;var qS=3e4;Te.DEFAULT_TIMEOUT=qS;var HS={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};Te.ERRORS=HS;var $S={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:i=>i+7,Socks4Response:8};Te.SOCKS_INCOMING_PACKET_SIZES=$S;var Eh;(function(i){i[i.connect=1]="connect",i[i.bind=2]="bind",i[i.associate=3]="associate"})(Eh||(Eh={}));Te.SocksCommand=Eh;var kh;(function(i){i[i.Granted=90]="Granted",i[i.Failed=91]="Failed",i[i.Rejected=92]="Rejected",i[i.RejectedIdent=93]="RejectedIdent"})(kh||(kh={}));Te.Socks4Response=kh;var Ch;(function(i){i[i.NoAuth=0]="NoAuth",i[i.GSSApi=1]="GSSApi",i[i.UserPass=2]="UserPass"})(Ch||(Ch={}));Te.Socks5Auth=Ch;var VS=128;Te.SOCKS5_CUSTOM_AUTH_START=VS;var WS=254;Te.SOCKS5_CUSTOM_AUTH_END=WS;var GS=255;Te.SOCKS5_NO_ACCEPTABLE_AUTH=GS;var Oh;(function(i){i[i.Granted=0]="Granted",i[i.Failure=1]="Failure",i[i.NotAllowed=2]="NotAllowed",i[i.NetworkUnreachable=3]="NetworkUnreachable",i[i.HostUnreachable=4]="HostUnreachable",i[i.ConnectionRefused=5]="ConnectionRefused",i[i.TTLExpired=6]="TTLExpired",i[i.CommandNotSupported=7]="CommandNotSupported",i[i.AddressNotSupported=8]="AddressNotSupported"})(Oh||(Oh={}));Te.Socks5Response=Oh;var Th;(function(i){i[i.IPv4=1]="IPv4",i[i.Hostname=3]="Hostname",i[i.IPv6=4]="IPv6"})(Th||(Th={}));Te.Socks5HostType=Th;var Ah;(function(i){i[i.Created=0]="Created",i[i.Connecting=1]="Connecting",i[i.Connected=2]="Connected",i[i.SentInitialHandshake=3]="SentInitialHandshake",i[i.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",i[i.SentAuthentication=5]="SentAuthentication",i[i.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",i[i.SentFinalHandshake=7]="SentFinalHandshake",i[i.ReceivedFinalResponse=8]="ReceivedFinalResponse",i[i.BoundWaitingForConnection=9]="BoundWaitingForConnection",i[i.Established=10]="Established",i[i.Disconnected=11]="Disconnected",i[i.Error=99]="Error"})(Ah||(Ah={}));Te.SocksClientState=Ah});var Lh=A(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.shuffleArray=zn.SocksClientError=void 0;var Rh=class extends Error{constructor(e,t){super(e),this.options=t}};zn.SocksClientError=Rh;function zS(i){for(let e=i.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[i[e],i[t]]=[i[t],i[e]]}}zn.shuffleArray=zS});var Pg=A(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.validateSocksClientChainOptions=Yn.validateSocksClientOptions=void 0;var Ct=Lh(),nt=Ih(),YS=require("stream");function KS(i,e=["connect","bind","associate"]){if(!nt.SocksCommand[i.command])throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksCommand,i);if(e.indexOf(i.command)===-1)throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksCommandForOperation,i);if(!Ng(i.destination))throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsDestination,i);if(!Bg(i.proxy))throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsProxy,i);if(Lg(i.proxy,i),i.timeout&&!Fg(i.timeout))throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsTimeout,i);if(i.existing_socket&&!(i.existing_socket instanceof YS.Duplex))throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsExistingSocket,i)}Yn.validateSocksClientOptions=KS;function XS(i){if(i.command!=="connect")throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksCommandChain,i);if(!Ng(i.destination))throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsDestination,i);if(!(i.proxies&&Array.isArray(i.proxies)&&i.proxies.length>=2))throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsProxiesLength,i);if(i.proxies.forEach(e=>{if(!Bg(e))throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsProxy,i);Lg(e,i)}),i.timeout&&!Fg(i.timeout))throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsTimeout,i)}Yn.validateSocksClientChainOptions=XS;function Lg(i,e){if(i.custom_auth_method!==void 0){if(i.custom_auth_method<nt.SOCKS5_CUSTOM_AUTH_START||i.custom_auth_method>nt.SOCKS5_CUSTOM_AUTH_END)throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsCustomAuthRange,e);if(i.custom_auth_request_handler===void 0||typeof i.custom_auth_request_handler!="function")throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(i.custom_auth_response_size===void 0)throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(i.custom_auth_response_handler===void 0||typeof i.custom_auth_response_handler!="function")throw new Ct.SocksClientError(nt.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e)}}function Ng(i){return i&&typeof i.host=="string"&&typeof i.port=="number"&&i.port>=0&&i.port<=65535}function Bg(i){return i&&(typeof i.host=="string"||typeof i.ipaddress=="string")&&typeof i.port=="number"&&i.port>=0&&i.port<=65535&&(i.type===4||i.type===5)}function Fg(i){return typeof i=="number"&&i>0}});var Mg=A(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.ReceiveBuffer=void 0;var Nh=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){let t=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),t.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let t=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(t),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,t}};Za.ReceiveBuffer=Nh});var Dg=A(pr=>{"use strict";var Kn=pr&&pr.__awaiter||function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{h(r.next(f))}catch(u){o(u)}}function l(f){try{h(r.throw(f))}catch(u){o(u)}}function h(f){f.done?s(f.value):n(f.value).then(a,l)}h((r=r.apply(i,e||[])).next())})};Object.defineProperty(pr,"__esModule",{value:!0});pr.SocksClientError=pr.SocksClient=void 0;var ZS=require("events"),Xn=require("net"),Ut=kg(),It=Rg(),L=Ih(),Bh=Pg(),JS=Mg(),Fh=Lh();Object.defineProperty(pr,"SocksClientError",{enumerable:!0,get:function(){return Fh.SocksClientError}});var Ph=class i extends ZS.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,Bh.validateSocksClientOptions)(e),this.setState(L.SocksClientState.Created)}static createConnection(e,t){return new Promise((r,n)=>{try{(0,Bh.validateSocksClientOptions)(e,["connect"])}catch(o){return typeof t=="function"?(t(o),r(o)):n(o)}let s=new i(e);s.connect(e.existing_socket),s.once("established",o=>{s.removeAllListeners(),typeof t=="function"&&t(null,o),r(o)}),s.once("error",o=>{s.removeAllListeners(),typeof t=="function"?(t(o),r(o)):n(o)})})}static createConnectionChain(e,t){return new Promise((r,n)=>Kn(this,void 0,void 0,function*(){try{(0,Bh.validateSocksClientChainOptions)(e)}catch(o){return typeof t=="function"?(t(o),r(o)):n(o)}let s;e.randomizeChain&&(0,Fh.shuffleArray)(e.proxies);try{for(let o=0;o<e.proxies.length;o++){let a=e.proxies[o],l=o===e.proxies.length-1?e.destination:{host:e.proxies[o+1].host||e.proxies[o+1].ipaddress,port:e.proxies[o+1].port},h=yield i.createConnection({command:"connect",proxy:a,destination:l});s||(s=h.socket)}typeof t=="function"?(t(null,{socket:s}),r({socket:s})):r({socket:s})}catch(o){typeof t=="function"?(t(o),r(o)):n(o)}}))}static createUDPFrame(e){let t=new It.SmartBuffer;return t.writeUInt16BE(0),t.writeUInt8(e.frameNumber||0),Xn.isIPv4(e.remoteHost.host)?(t.writeUInt8(L.Socks5HostType.IPv4),t.writeUInt32BE(Ut.toLong(e.remoteHost.host))):Xn.isIPv6(e.remoteHost.host)?(t.writeUInt8(L.Socks5HostType.IPv6),t.writeBuffer(Ut.toBuffer(e.remoteHost.host))):(t.writeUInt8(L.Socks5HostType.Hostname),t.writeUInt8(Buffer.byteLength(e.remoteHost.host)),t.writeString(e.remoteHost.host)),t.writeUInt16BE(e.remoteHost.port),t.writeBuffer(e.data),t.toBuffer()}static parseUDPFrame(e){let t=It.SmartBuffer.fromBuffer(e);t.readOffset=2;let r=t.readUInt8(),n=t.readUInt8(),s;n===L.Socks5HostType.IPv4?s=Ut.fromLong(t.readUInt32BE()):n===L.Socks5HostType.IPv6?s=Ut.toString(t.readBuffer(16)):s=t.readString(t.readUInt8());let o=t.readUInt16BE();return{frameNumber:r,remoteHost:{host:s,port:o},data:t.readBuffer()}}setState(e){this.state!==L.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=r=>this.onDataReceivedHandler(r),this.onClose=()=>this.onCloseHandler(),this.onError=r=>this.onErrorHandler(r),this.onConnect=()=>this.onConnectHandler();let t=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||L.DEFAULT_TIMEOUT);t.unref&&typeof t.unref=="function"&&t.unref(),e?this.socket=e:this.socket=new Xn.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(L.SocksClientState.Connecting),this.receiveBuffer=new JS.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",r=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let n=this.receiveBuffer.get(this.receiveBuffer.length);r.socket.emit("data",n)}r.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==L.SocksClientState.Established&&this.state!==L.SocksClientState.BoundWaitingForConnection&&this.closeSocket(L.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(L.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(L.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==L.SocksClientState.Established&&this.state!==L.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===L.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===L.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===L.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===L.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(L.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(L.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==L.SocksClientState.Error&&(this.setState(L.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new Fh.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){let e=this.options.proxy.userId||"",t=new It.SmartBuffer;t.writeUInt8(4),t.writeUInt8(L.SocksCommand[this.options.command]),t.writeUInt16BE(this.options.destination.port),Xn.isIPv4(this.options.destination.host)?(t.writeBuffer(Ut.toBuffer(this.options.destination.host)),t.writeStringNT(e)):(t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(1),t.writeStringNT(e),t.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=L.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(t.toBuffer())}handleSocks4FinalHandshakeResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==L.Socks4Response.Granted)this.closeSocket(`${L.ERRORS.Socks4ProxyRejectedConnection} - (${L.Socks4Response[e[1]]})`);else if(L.SocksCommand[this.options.command]===L.SocksCommand.bind){let t=It.SmartBuffer.fromBuffer(e);t.readOffset=2;let r={port:t.readUInt16BE(),host:Ut.fromLong(t.readUInt32BE())};r.host==="0.0.0.0"&&(r.host=this.options.proxy.ipaddress),this.setState(L.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:r,socket:this.socket})}else this.setState(L.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==L.Socks4Response.Granted)this.closeSocket(`${L.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${L.Socks4Response[e[1]]})`);else{let t=It.SmartBuffer.fromBuffer(e);t.readOffset=2;let r={port:t.readUInt16BE(),host:Ut.fromLong(t.readUInt32BE())};this.setState(L.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})}}sendSocks5InitialHandshake(){let e=new It.SmartBuffer,t=[L.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&t.push(L.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&t.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(t.length);for(let r of t)e.writeUInt8(r);this.nextRequiredPacketBufferSize=L.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(L.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let e=this.receiveBuffer.get(2);e[0]!==5?this.closeSocket(L.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===L.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(L.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===L.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=L.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===L.Socks5Auth.UserPass?(this.socks5ChosenAuthType=L.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(L.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let e=this.options.proxy.userId||"",t=this.options.proxy.password||"",r=new It.SmartBuffer;r.writeUInt8(1),r.writeUInt8(Buffer.byteLength(e)),r.writeString(e),r.writeUInt8(Buffer.byteLength(t)),r.writeString(t),this.nextRequiredPacketBufferSize=L.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(r.toBuffer()),this.setState(L.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return Kn(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(L.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(e){return Kn(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(e)})}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return Kn(this,void 0,void 0,function*(){return e[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(e){return Kn(this,void 0,void 0,function*(){return e[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return Kn(this,void 0,void 0,function*(){this.setState(L.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===L.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===L.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(L.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let e=new It.SmartBuffer;e.writeUInt8(5),e.writeUInt8(L.SocksCommand[this.options.command]),e.writeUInt8(0),Xn.isIPv4(this.options.destination.host)?(e.writeUInt8(L.Socks5HostType.IPv4),e.writeBuffer(Ut.toBuffer(this.options.destination.host))):Xn.isIPv6(this.options.destination.host)?(e.writeUInt8(L.Socks5HostType.IPv6),e.writeBuffer(Ut.toBuffer(this.options.destination.host))):(e.writeUInt8(L.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=L.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(L.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==L.Socks5Response.Granted)this.closeSocket(`${L.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${L.Socks5Response[e[1]]}`);else{let t=e[3],r,n;if(t===L.Socks5HostType.IPv4){let s=L.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}n=It.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),r={host:Ut.fromLong(n.readUInt32BE()),port:n.readUInt16BE()},r.host==="0.0.0.0"&&(r.host=this.options.proxy.ipaddress)}else if(t===L.Socks5HostType.Hostname){let s=e[4],o=L.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(s);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}n=It.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),r={host:n.readString(s),port:n.readUInt16BE()}}else if(t===L.Socks5HostType.IPv6){let s=L.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}n=It.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),r={host:Ut.toString(n.readBuffer(16)),port:n.readUInt16BE()}}this.setState(L.SocksClientState.ReceivedFinalResponse),L.SocksCommand[this.options.command]===L.SocksCommand.connect?(this.setState(L.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})):L.SocksCommand[this.options.command]===L.SocksCommand.bind?(this.setState(L.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=L.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:r,socket:this.socket})):L.SocksCommand[this.options.command]===L.SocksCommand.associate&&(this.setState(L.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==L.Socks5Response.Granted)this.closeSocket(`${L.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${L.Socks5Response[e[1]]}`);else{let t=e[3],r,n;if(t===L.Socks5HostType.IPv4){let s=L.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}n=It.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),r={host:Ut.fromLong(n.readUInt32BE()),port:n.readUInt16BE()},r.host==="0.0.0.0"&&(r.host=this.options.proxy.ipaddress)}else if(t===L.Socks5HostType.Hostname){let s=e[4],o=L.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(s);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}n=It.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),r={host:n.readString(s),port:n.readUInt16BE()}}else if(t===L.Socks5HostType.IPv6){let s=L.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}n=It.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),r={host:Ut.toString(n.readBuffer(16)),port:n.readUInt16BE()}}this.setState(L.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};pr.SocksClient=Ph});var Ug=A($r=>{"use strict";var QS=$r&&$r.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,n)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),eE=$r&&$r.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&QS(e,i,t)};Object.defineProperty($r,"__esModule",{value:!0});eE(Dg(),$r)});var jg=A(Vr=>{"use strict";var tE=Vr&&Vr.__awaiter||function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{h(r.next(f))}catch(u){o(u)}}function l(f){try{h(r.throw(f))}catch(u){o(u)}}function h(f){f.done?s(f.value):n(f.value).then(a,l)}h((r=r.apply(i,e||[])).next())})},Ja=Vr&&Vr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vr,"__esModule",{value:!0});var iE=Ja(require("dns")),rE=Ja(require("tls")),nE=Ja(require("url")),sE=Ja(sn()),oE=Cl(),aE=Ug(),Mh=sE.default("socks-proxy-agent");function lE(i){return new Promise((e,t)=>{iE.default.lookup(i,(r,n)=>{r?t(r):e(n)})})}function cE(i){let e=0,t=!1,r=5,n=i.hostname||i.host;if(!n)throw new TypeError('No "host"');if(typeof i.port=="number"?e=i.port:typeof i.port=="string"&&(e=parseInt(i.port,10)),e||(e=1080),i.protocol)switch(i.protocol.replace(":","")){case"socks4":t=!0;case"socks4a":r=4;break;case"socks5":t=!0;case"socks":case"socks5h":r=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${i.protocol}`)}if(typeof i.type!="undefined")if(i.type===4||i.type===5)r=i.type;else throw new TypeError(`"type" must be 4 or 5, got: ${i.type}`);let s={host:n,port:e,type:r},o=i.userId||i.username,a=i.password;if(i.auth){let l=i.auth.split(":");o=l[0],a=l[1]}return o&&Object.defineProperty(s,"userId",{value:o,enumerable:!1}),a&&Object.defineProperty(s,"password",{value:a,enumerable:!1}),{lookup:t,proxy:s}}var Dh=class extends oE.Agent{constructor(e){let t;if(typeof e=="string"?t=nE.default.parse(e):t=e,!t)throw new TypeError("a SOCKS proxy server `host` and `port` must be specified!");super(t);let r=cE(t);this.lookup=r.lookup,this.proxy=r.proxy,this.tlsConnectionOptions=t.tls||{}}callback(e,t){return tE(this,void 0,void 0,function*(){let{lookup:r,proxy:n}=this,{host:s,port:o,timeout:a}=t;if(!s)throw new Error("No `host` defined!");r&&(s=yield lE(s));let l={proxy:n,destination:{host:s,port:o},command:"connect",timeout:a};Mh("Creating socks proxy connection: %o",l);let{socket:h}=yield aE.SocksClient.createConnection(l);if(Mh("Successfully created socks proxy connection"),t.secureEndpoint){Mh("Upgrading socket connection to TLS");let f=t.servername||t.host;return rE.default.connect(Object.assign(Object.assign(Object.assign({},hE(t,"host","hostname","path","port")),{socket:h,servername:f}),this.tlsConnectionOptions))}return h})}};Vr.default=Dh;function hE(i,...e){let t={},r;for(r in i)e.includes(r)||(t[r]=i[r]);return t}});var Hg=A((qh,qg)=>{"use strict";var fE=qh&&qh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},Uh=fE(jg());function jh(i){return new Uh.default(i)}(function(i){i.SocksProxyAgent=Uh.default,i.prototype=Uh.default.prototype})(jh||(jh={}));qg.exports=jh});var Vg=A((LT,$g)=>{"use strict";var uE=/[|\\{}()[\]^$+*?.-]/g;$g.exports=i=>{if(typeof i!="string")throw new TypeError("Expected a string");return i.replace(uE,"\\$&")}});var Yg=A((NT,zg)=>{"use strict";var pE=Vg(),dE=typeof process=="object"&&process&&typeof process.cwd=="function"?process.cwd():".",Gg=[].concat(require("module").builtinModules,"bootstrap_node","node").map(i=>new RegExp(`(?:\\((?:node:)?${i}(?:\\.js)?:\\d+:\\d+\\)$|^\\s*at (?:node:)?${i}(?:\\.js)?:\\d+:\\d+$)`));Gg.push(/\((?:node:)?internal\/[^:]+:\d+:\d+\)$/,/\s*at (?:node:)?internal\/[^:]+:\d+:\d+$/,/\/\.node-spawn-wrap-\w+-\w+\/node:\d+:\d+\)?$/);var Hh=class i{constructor(e){e={ignoredPackages:[],...e},"internals"in e||(e.internals=i.nodeInternals()),"cwd"in e||(e.cwd=dE),this._cwd=e.cwd.replace(/\\/g,"/"),this._internals=[].concat(e.internals,mE(e.ignoredPackages)),this._wrapCallSite=e.wrapCallSite||!1}static nodeInternals(){return[...Gg]}clean(e,t=0){t=" ".repeat(t),Array.isArray(e)||(e=e.split(`
`)),!/^\s*at /.test(e[0])&&/^\s*at /.test(e[1])&&(e=e.slice(1));let r=!1,n=null,s=[];return e.forEach(o=>{if(o=o.replace(/\\/g,"/"),this._internals.some(l=>l.test(o)))return;let a=/^\s*at /.test(o);r?o=o.trimEnd().replace(/^(\s+)at /,"$1"):(o=o.trim(),a&&(o=o.slice(3))),o=o.replace(`${this._cwd}/`,""),o&&(a?(n&&(s.push(n),n=null),s.push(o)):(r=!0,n=o))}),s.map(o=>`${t}${o}
`).join("")}captureString(e,t=this.captureString){typeof e=="function"&&(t=e,e=1/0);let{stackTraceLimit:r}=Error;e&&(Error.stackTraceLimit=e);let n={};Error.captureStackTrace(n,t);let{stack:s}=n;return Error.stackTraceLimit=r,this.clean(s)}capture(e,t=this.capture){typeof e=="function"&&(t=e,e=1/0);let{prepareStackTrace:r,stackTraceLimit:n}=Error;Error.prepareStackTrace=(a,l)=>this._wrapCallSite?l.map(this._wrapCallSite):l,e&&(Error.stackTraceLimit=e);let s={};Error.captureStackTrace(s,t);let{stack:o}=s;return Object.assign(Error,{prepareStackTrace:r,stackTraceLimit:n}),o}at(e=this.at){let[t]=this.capture(1,e);if(!t)return{};let r={line:t.getLineNumber(),column:t.getColumnNumber()};Wg(r,t.getFileName(),this._cwd),t.isConstructor()&&(r.constructor=!0),t.isEval()&&(r.evalOrigin=t.getEvalOrigin()),t.isNative()&&(r.native=!0);let n;try{n=t.getTypeName()}catch{}n&&n!=="Object"&&n!=="[object Object]"&&(r.type=n);let s=t.getFunctionName();s&&(r.function=s);let o=t.getMethodName();return o&&s!==o&&(r.method=o),r}parseLine(e){let t=e&&e.match(gE);if(!t)return null;let r=t[1]==="new",n=t[2],s=t[3],o=t[4],a=Number(t[5]),l=Number(t[6]),h=t[7],f=t[8],u=t[9],p=t[10]==="native",m=t[11]===")",g,d={};if(f&&(d.line=Number(f)),u&&(d.column=Number(u)),m&&h){let v=0;for(let x=h.length-1;x>0;x--)if(h.charAt(x)===")")v++;else if(h.charAt(x)==="("&&h.charAt(x-1)===" "&&(v--,v===-1&&h.charAt(x-1)===" ")){let C=h.slice(0,x-1);h=h.slice(x+1),n+=` (${C}`;break}}if(n){let v=n.match(vE);v&&(n=v[1],g=v[2])}return Wg(d,h,this._cwd),r&&(d.constructor=!0),s&&(d.evalOrigin=s,d.evalLine=a,d.evalColumn=l,d.evalFile=o&&o.replace(/\\/g,"/")),p&&(d.native=!0),n&&(d.function=n),g&&n!==g&&(d.method=g),d}};function Wg(i,e,t){e&&(e=e.replace(/\\/g,"/"),e.startsWith(`${t}/`)&&(e=e.slice(t.length+1)),i.file=e)}function mE(i){if(i.length===0)return[];let e=i.map(t=>pE(t));return new RegExp(`[/\\\\]node_modules[/\\\\](?:${e.join("|")})[/\\\\][^:]+:\\d+:\\d+`)}var gE=new RegExp("^(?:\\s*at )?(?:(new) )?(?:(.*?) \\()?(?:eval at ([^ ]+) \\((.+?):(\\d+):(\\d+)\\), )?(?:(.+?):(\\d+):(\\d+)|(native))(\\)?)$"),vE=/^(.*?) \[as (.*?)\]$/;zg.exports=Hh});var Jg=A((BT,Zg)=>{"use strict";var{Duplex:xE}=require("stream");function Kg(i){i.emit("close")}function yE(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Xg(i){this.removeListener("error",Xg),this.destroy(),this.listenerCount("error")===0&&this.emit("error",i)}function _E(i,e){let t=!0,r=new xE({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return i.on("message",function(s,o){let a=!o&&r._readableState.objectMode?s.toString():s;r.push(a)||i.pause()}),i.once("error",function(s){r.destroyed||(t=!1,r.destroy(s))}),i.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(n,s){if(i.readyState===i.CLOSED){s(n),process.nextTick(Kg,r);return}let o=!1;i.once("error",function(l){o=!0,s(l)}),i.once("close",function(){o||s(n),process.nextTick(Kg,r)}),t&&i.terminate()},r._final=function(n){if(i.readyState===i.CONNECTING){i.once("open",function(){r._final(n)});return}i._socket!==null&&(i._socket._writableState.finished?(n(),r._readableState.endEmitted&&r.destroy()):(i._socket.once("finish",function(){n()}),i.close()))},r._read=function(){i.isPaused&&i.resume()},r._write=function(n,s,o){if(i.readyState===i.CONNECTING){i.once("open",function(){r._write(n,s,o)});return}i.send(n,o)},r.on("end",yE),r.on("error",Xg),r}Zg.exports=_E});var dr=A((FT,Qg)=>{"use strict";Qg.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Ao=A((PT,$h)=>{"use strict";var{EMPTY_BUFFER:wE}=dr();function e0(i,e){if(i.length===0)return wE;if(i.length===1)return i[0];let t=Buffer.allocUnsafe(e),r=0;for(let n=0;n<i.length;n++){let s=i[n];t.set(s,r),r+=s.length}return r<e?t.slice(0,r):t}function t0(i,e,t,r,n){for(let s=0;s<n;s++)t[r+s]=i[s]^e[s&3]}function i0(i,e){for(let t=0;t<i.length;t++)i[t]^=e[t&3]}function r0(i){return i.byteLength===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}function Qa(i){if(Qa.readOnly=!0,Buffer.isBuffer(i))return i;let e;return i instanceof ArrayBuffer?e=Buffer.from(i):ArrayBuffer.isView(i)?e=Buffer.from(i.buffer,i.byteOffset,i.byteLength):(e=Buffer.from(i),Qa.readOnly=!1),e}try{let i=require("bufferutil");$h.exports={concat:e0,mask(e,t,r,n,s){s<48?t0(e,t,r,n,s):i.mask(e,t,r,n,s)},toArrayBuffer:r0,toBuffer:Qa,unmask(e,t){e.length<32?i0(e,t):i.unmask(e,t)}}}catch{$h.exports={concat:e0,mask:t0,toArrayBuffer:r0,toBuffer:Qa,unmask:i0}}});var o0=A((MT,s0)=>{"use strict";var n0=Symbol("kDone"),Vh=Symbol("kRun"),Wh=class{constructor(e){this[n0]=()=>{this.pending--,this[Vh]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Vh]()}[Vh](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[n0])}}};s0.exports=Wh});var Lo=A((DT,h0)=>{"use strict";var Io=require("zlib"),a0=Ao(),bE=o0(),{kStatusCode:l0}=dr(),SE=Buffer.from([0,0,255,255]),il=Symbol("permessage-deflate"),Wi=Symbol("total-length"),Ro=Symbol("callback"),mr=Symbol("buffers"),tl=Symbol("error"),el,Gh=class{constructor(e,t,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!el){let n=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;el=new bE(n)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Ro];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(n=>!(t.serverNoContextTakeover===!1&&n.server_no_context_takeover||n.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>n.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!n.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(r.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?r.client_max_window_bits=t.clientMaxWindowBits:(r.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(r=>{let n=t[r];if(n.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(n=n[0],r==="client_max_window_bits"){if(n!==!0){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${r}": ${n}`);n=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${n}`)}else if(r==="server_max_window_bits"){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${r}": ${n}`);n=s}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(n!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${n}`)}else throw new Error(`Unknown parameter "${r}"`);t[r]=n})}),e}decompress(e,t,r){el.add(n=>{this._decompress(e,t,(s,o)=>{n(),r(s,o)})})}compress(e,t,r){el.add(n=>{this._compress(e,t,(s,o)=>{n(),r(s,o)})})}_decompress(e,t,r){let n=this._isServer?"client":"server";if(!this._inflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?Io.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=Io.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[il]=this,this._inflate[Wi]=0,this._inflate[mr]=[],this._inflate.on("error",kE),this._inflate.on("data",c0)}this._inflate[Ro]=r,this._inflate.write(e),t&&this._inflate.write(SE),this._inflate.flush(()=>{let s=this._inflate[tl];if(s){this._inflate.close(),this._inflate=null,r(s);return}let o=a0.concat(this._inflate[mr],this._inflate[Wi]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Wi]=0,this._inflate[mr]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,o)})}_compress(e,t,r){let n=this._isServer?"server":"client";if(!this._deflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?Io.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=Io.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[Wi]=0,this._deflate[mr]=[],this._deflate.on("data",EE)}this._deflate[Ro]=r,this._deflate.write(e),this._deflate.flush(Io.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=a0.concat(this._deflate[mr],this._deflate[Wi]);t&&(s=s.slice(0,s.length-4)),this._deflate[Ro]=null,this._deflate[Wi]=0,this._deflate[mr]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,s)})}};h0.exports=Gh;function EE(i){this[mr].push(i),this[Wi]+=i.length}function c0(i){if(this[Wi]+=i.length,this[il]._maxPayload<1||this[Wi]<=this[il]._maxPayload){this[mr].push(i);return}this[tl]=new RangeError("Max payload size exceeded"),this[tl].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[tl][l0]=1009,this.removeListener("data",c0),this.reset()}function kE(i){this[il]._inflate=null,i[l0]=1007,this[Ro](i)}});var No=A((UT,zh)=>{"use strict";var f0=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function u0(i){return i>=1e3&&i<=1014&&i!==1004&&i!==1005&&i!==1006||i>=3e3&&i<=4999}function p0(i){let e=i.length,t=0;for(;t<e;)if(!(i[t]&128))t++;else if((i[t]&224)===192){if(t+1===e||(i[t+1]&192)!==128||(i[t]&254)===192)return!1;t+=2}else if((i[t]&240)===224){if(t+2>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||i[t]===224&&(i[t+1]&224)===128||i[t]===237&&(i[t+1]&224)===160)return!1;t+=3}else if((i[t]&248)===240){if(t+3>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||(i[t+3]&192)!==128||i[t]===240&&(i[t+1]&240)===128||i[t]===244&&i[t+1]>143||i[t]>244)return!1;t+=4}else return!1;return!0}try{let i=require("utf-8-validate");zh.exports={isValidStatusCode:u0,isValidUTF8(e){return e.length<150?p0(e):i(e)},tokenChars:f0}}catch{zh.exports={isValidStatusCode:u0,isValidUTF8:p0,tokenChars:f0}}});var Zh=A((jT,_0)=>{"use strict";var{Writable:CE}=require("stream"),d0=Lo(),{BINARY_TYPES:OE,EMPTY_BUFFER:m0,kStatusCode:TE,kWebSocket:AE}=dr(),{concat:Yh,toArrayBuffer:IE,unmask:RE}=Ao(),{isValidStatusCode:LE,isValidUTF8:g0}=No(),Bo=0,v0=1,x0=2,y0=3,Kh=4,NE=5,Xh=class extends CE{constructor(e={}){super(),this._binaryType=e.binaryType||OE[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[AE]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Bo,this._loop=!1}_write(e,t,r){if(this._opcode===8&&this._state==Bo)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=r.slice(e),r.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case Bo:t=this.getInfo();break;case v0:t=this.getPayloadLength16();break;case x0:t=this.getPayloadLength64();break;case y0:this.getMask();break;case Kh:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,Ke(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(e[0]&64)===64;if(t&&!this._extensions[d0.extensionName])return this._loop=!1,Ke(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(t)return this._loop=!1,Ke(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Ke(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Ke(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Ke(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,Ke(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Ke(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Ke(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Ke(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Ke(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=v0;else if(this._payloadLength===127)this._state=x0;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,53-32)-1?(this._loop=!1,Ke(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Ke(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=y0:this._state=Kh}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Kh}getData(e){let t=m0;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&RE(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=NE,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[d0.extensionName].decompress(e,this._fin,(n,s)=>{if(n)return t(n);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(Ke(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(s)}let o=this.dataMessage();if(o)return t(o);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let r;this._binaryType==="nodebuffer"?r=Yh(t,e):this._binaryType==="arraybuffer"?r=IE(Yh(t,e)):r=t,this.emit("message",r,!0)}else{let r=Yh(t,e);if(!this._skipUTF8Validation&&!g0(r))return this._loop=!1,Ke(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=Bo}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,m0),this.end();else{if(e.length===1)return Ke(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let t=e.readUInt16BE(0);if(!LE(t))return Ke(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=e.slice(2);if(!this._skipUTF8Validation&&!g0(r))return Ke(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=Bo}};_0.exports=Xh;function Ke(i,e,t,r,n){let s=new i(t?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(s,Ke),s.code=n,s[TE]=r,s}});var Qh=A(($T,S0)=>{"use strict";var qT=require("net"),HT=require("tls"),{randomFillSync:BE}=require("crypto"),w0=Lo(),{EMPTY_BUFFER:FE}=dr(),{isValidStatusCode:PE}=No(),{mask:b0,toBuffer:Zn}=Ao(),ui=Symbol("kByteLength"),ME=Buffer.alloc(4),Jh=class i{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,n=!1,s=2,o=!1;t.mask&&(r=t.maskBuffer||ME,t.generateMask?t.generateMask(r):BE(r,0,4),o=(r[0]|r[1]|r[2]|r[3])===0,s=6);let a;typeof e=="string"?(!t.mask||o)&&t[ui]!==void 0?a=t[ui]:(e=Buffer.from(e),a=e.length):(a=e.length,n=t.mask&&t.readOnly&&!o);let l=a;a>=65536?(s+=8,l=127):a>125&&(s+=2,l=126);let h=Buffer.allocUnsafe(n?a+s:s);return h[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(h[0]|=64),h[1]=l,l===126?h.writeUInt16BE(a,2):l===127&&(h[2]=h[3]=0,h.writeUIntBE(a,4,6)),t.mask?(h[1]|=128,h[s-4]=r[0],h[s-3]=r[1],h[s-2]=r[2],h[s-1]=r[3],o?[h,e]:n?(b0(e,r,h,s,a),[h]):(b0(e,r,e,0,a),[h,e])):[h,e]}close(e,t,r,n){let s;if(e===void 0)s=FE;else{if(typeof e!="number"||!PE(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let a=Buffer.byteLength(t);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+a),s.writeUInt16BE(e,0),typeof t=="string"?s.write(t,2):s.set(t,2)}}let o={[ui]:s.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,o,n]):this.sendFrame(i.frame(s,o),n)}ping(e,t,r){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=Zn(e),n=e.length,s=Zn.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[ui]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(i.frame(e,o),r)}pong(e,t,r){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=Zn(e),n=e.length,s=Zn.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[ui]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(i.frame(e,o),r)}send(e,t,r){let n=this._extensions[w0.extensionName],s=t.binary?2:1,o=t.compress,a,l;if(typeof e=="string"?(a=Buffer.byteLength(e),l=!1):(e=Zn(e),a=e.length,l=Zn.readOnly),this._firstFragment?(this._firstFragment=!1,o&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=a>=n._threshold),this._compress=o):(o=!1,s=0),t.fin&&(this._firstFragment=!0),n){let h={[ui]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:l,rsv1:o};this._deflating?this.enqueue([this.dispatch,e,this._compress,h,r]):this.dispatch(e,this._compress,h,r)}else this.sendFrame(i.frame(e,{[ui]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:l,rsv1:!1}),r)}dispatch(e,t,r,n){if(!t){this.sendFrame(i.frame(e,r),n);return}let s=this._extensions[w0.extensionName];this._bufferedBytes+=r[ui],this._deflating=!0,s.compress(e,r.fin,(o,a)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof n=="function"&&n(l);for(let h=0;h<this._queue.length;h++){let f=this._queue[h],u=f[f.length-1];typeof u=="function"&&u(l)}return}this._bufferedBytes-=r[ui],this._deflating=!1,r.readOnly=!1,this.sendFrame(i.frame(a,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][ui],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][ui],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};S0.exports=Jh});var N0=A((VT,L0)=>{"use strict";var{kForOnEventAttribute:ef,kListener:E0}=dr(),k0=Symbol("kCode"),C0=Symbol("kData"),O0=Symbol("kError"),T0=Symbol("kMessage"),A0=Symbol("kReason"),Jn=Symbol("kTarget"),I0=Symbol("kType"),R0=Symbol("kWasClean"),Gi=class{constructor(e){this[Jn]=null,this[I0]=e}get target(){return this[Jn]}get type(){return this[I0]}};Object.defineProperty(Gi.prototype,"target",{enumerable:!0});Object.defineProperty(Gi.prototype,"type",{enumerable:!0});var Wr=class extends Gi{constructor(e,t={}){super(e),this[k0]=t.code===void 0?0:t.code,this[A0]=t.reason===void 0?"":t.reason,this[R0]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[k0]}get reason(){return this[A0]}get wasClean(){return this[R0]}};Object.defineProperty(Wr.prototype,"code",{enumerable:!0});Object.defineProperty(Wr.prototype,"reason",{enumerable:!0});Object.defineProperty(Wr.prototype,"wasClean",{enumerable:!0});var Qn=class extends Gi{constructor(e,t={}){super(e),this[O0]=t.error===void 0?null:t.error,this[T0]=t.message===void 0?"":t.message}get error(){return this[O0]}get message(){return this[T0]}};Object.defineProperty(Qn.prototype,"error",{enumerable:!0});Object.defineProperty(Qn.prototype,"message",{enumerable:!0});var Fo=class extends Gi{constructor(e,t={}){super(e),this[C0]=t.data===void 0?null:t.data}get data(){return this[C0]}};Object.defineProperty(Fo.prototype,"data",{enumerable:!0});var DE={addEventListener(i,e,t={}){let r;if(i==="message")r=function(s,o){let a=new Fo("message",{data:o?s:s.toString()});a[Jn]=this,e.call(this,a)};else if(i==="close")r=function(s,o){let a=new Wr("close",{code:s,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Jn]=this,e.call(this,a)};else if(i==="error")r=function(s){let o=new Qn("error",{error:s,message:s.message});o[Jn]=this,e.call(this,o)};else if(i==="open")r=function(){let s=new Gi("open");s[Jn]=this,e.call(this,s)};else return;r[ef]=!!t[ef],r[E0]=e,t.once?this.once(i,r):this.on(i,r)},removeEventListener(i,e){for(let t of this.listeners(i))if(t[E0]===e&&!t[ef]){this.removeListener(i,t);break}}};L0.exports={CloseEvent:Wr,ErrorEvent:Qn,Event:Gi,EventTarget:DE,MessageEvent:Fo}});var tf=A((WT,B0)=>{"use strict";var{tokenChars:Po}=No();function Ci(i,e,t){i[e]===void 0?i[e]=[t]:i[e].push(t)}function UE(i){let e=Object.create(null),t=Object.create(null),r=!1,n=!1,s=!1,o,a,l=-1,h=-1,f=-1,u=0;for(;u<i.length;u++)if(h=i.charCodeAt(u),o===void 0)if(f===-1&&Po[h]===1)l===-1&&(l=u);else if(u!==0&&(h===32||h===9))f===-1&&l!==-1&&(f=u);else if(h===59||h===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);f===-1&&(f=u);let m=i.slice(l,f);h===44?(Ci(e,m,t),t=Object.create(null)):o=m,l=f=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);else if(a===void 0)if(f===-1&&Po[h]===1)l===-1&&(l=u);else if(h===32||h===9)f===-1&&l!==-1&&(f=u);else if(h===59||h===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);f===-1&&(f=u),Ci(t,i.slice(l,f),!0),h===44&&(Ci(e,o,t),t=Object.create(null),o=void 0),l=f=-1}else if(h===61&&l!==-1&&f===-1)a=i.slice(l,u),l=f=-1;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(n){if(Po[h]!==1)throw new SyntaxError(`Unexpected character at index ${u}`);l===-1?l=u:r||(r=!0),n=!1}else if(s)if(Po[h]===1)l===-1&&(l=u);else if(h===34&&l!==-1)s=!1,f=u;else if(h===92)n=!0;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(h===34&&i.charCodeAt(u-1)===61)s=!0;else if(f===-1&&Po[h]===1)l===-1&&(l=u);else if(l!==-1&&(h===32||h===9))f===-1&&(f=u);else if(h===59||h===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);f===-1&&(f=u);let m=i.slice(l,f);r&&(m=m.replace(/\\/g,""),r=!1),Ci(t,a,m),h===44&&(Ci(e,o,t),t=Object.create(null),o=void 0),a=void 0,l=f=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);if(l===-1||s||h===32||h===9)throw new SyntaxError("Unexpected end of input");f===-1&&(f=u);let p=i.slice(l,f);return o===void 0?Ci(e,p,t):(a===void 0?Ci(t,p,!0):r?Ci(t,a,p.replace(/\\/g,"")):Ci(t,a,p),Ci(e,o,t)),e}function jE(i){return Object.keys(i).map(e=>{let t=i[e];return Array.isArray(t)||(t=[t]),t.map(r=>[e].concat(Object.keys(r).map(n=>{let s=r[n];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?n:`${n}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}B0.exports={format:jE,parse:UE}});var lf=A((zT,V0)=>{"use strict";var qE=require("events"),HE=require("https"),$E=require("http"),M0=require("net"),VE=require("tls"),{randomBytes:WE,createHash:GE}=require("crypto"),{Readable:GT}=require("stream"),{URL:rf}=require("url"),gr=Lo(),zE=Zh(),YE=Qh(),{BINARY_TYPES:F0,EMPTY_BUFFER:rl,GUID:KE,kForOnEventAttribute:nf,kListener:XE,kStatusCode:ZE,kWebSocket:yt,NOOP:D0}=dr(),{EventTarget:{addEventListener:JE,removeEventListener:QE}}=N0(),{format:e1,parse:t1}=tf(),{toBuffer:i1}=Ao(),zi=["CONNECTING","OPEN","CLOSING","CLOSED"],r1=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,sf=[8,13],n1=30*1e3,He=class i extends qE{constructor(e,t,r){super(),this._binaryType=F0[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=rl,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=i.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(r=t,t=[]):t=[t]),U0(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){F0.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let n=new zE({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new YE(e,this._extensions,r.generateMask),this._receiver=n,this._socket=e,n[yt]=this,e[yt]=this,n.on("conclude",a1),n.on("drain",l1),n.on("error",c1),n.on("message",h1),n.on("ping",f1),n.on("pong",u1),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",q0),e.on("data",nl),e.on("end",H0),e.on("error",$0),this._readyState=i.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[gr.extensionName]&&this._extensions[gr.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING){let r="WebSocket was closed before the connection was established";return Yt(this,this._req,r)}if(this.readyState===i.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=i.CLOSING,this._sender.close(e,t,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),n1)}}pause(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){af(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||rl,t,r)}pong(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){af(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||rl,t,r)}resume(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(r=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){af(this,e,r);return}let n={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[gr.extensionName]||(n.compress=!1),this._sender.send(e||rl,n,r)}terminate(){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING){let e="WebSocket was closed before the connection was established";return Yt(this,this._req,e)}this._socket&&(this._readyState=i.CLOSING,this._socket.destroy())}}};Object.defineProperty(He,"CONNECTING",{enumerable:!0,value:zi.indexOf("CONNECTING")});Object.defineProperty(He.prototype,"CONNECTING",{enumerable:!0,value:zi.indexOf("CONNECTING")});Object.defineProperty(He,"OPEN",{enumerable:!0,value:zi.indexOf("OPEN")});Object.defineProperty(He.prototype,"OPEN",{enumerable:!0,value:zi.indexOf("OPEN")});Object.defineProperty(He,"CLOSING",{enumerable:!0,value:zi.indexOf("CLOSING")});Object.defineProperty(He.prototype,"CLOSING",{enumerable:!0,value:zi.indexOf("CLOSING")});Object.defineProperty(He,"CLOSED",{enumerable:!0,value:zi.indexOf("CLOSED")});Object.defineProperty(He.prototype,"CLOSED",{enumerable:!0,value:zi.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(i=>{Object.defineProperty(He.prototype,i,{enumerable:!0})});["open","error","close","message"].forEach(i=>{Object.defineProperty(He.prototype,`on${i}`,{enumerable:!0,get(){for(let e of this.listeners(i))if(e[nf])return e[XE];return null},set(e){for(let t of this.listeners(i))if(t[nf]){this.removeListener(i,t);break}typeof e=="function"&&this.addEventListener(i,e,{[nf]:!0})}})});He.prototype.addEventListener=JE;He.prototype.removeEventListener=QE;V0.exports=He;function U0(i,e,t,r){let n={protocolVersion:sf[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!sf.includes(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${sf.join(", ")})`);let s;if(e instanceof rf)s=e,i._url=e.href;else{try{s=new rf(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i._url=e}let o=s.protocol==="wss:",a=s.protocol==="ws+unix:",l;if(s.protocol!=="ws:"&&!o&&!a?l=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:a&&!s.pathname?l="The URL's pathname is empty":s.hash&&(l="The URL contains a fragment identifier"),l){let d=new SyntaxError(l);if(i._redirects===0)throw d;of(i,d);return}let h=o?443:80,f=WE(16).toString("base64"),u=o?HE.get:$E.get,p=new Set,m;if(n.createConnection=o?o1:s1,n.defaultPort=n.defaultPort||h,n.port=s.port||h,n.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,n.headers={"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":f,Connection:"Upgrade",Upgrade:"websocket",...n.headers},n.path=s.pathname+s.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(m=new gr(n.perMessageDeflate!==!0?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=e1({[gr.extensionName]:m.offer()})),t.length){for(let d of t){if(typeof d!="string"||!r1.test(d)||p.has(d))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(d)}n.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(s.username||s.password)&&(n.auth=`${s.username}:${s.password}`),a){let d=n.path.split(":");n.socketPath=d[0],n.path=d[1]}let g=i._req=u(n);n.timeout&&g.on("timeout",()=>{Yt(i,g,"Opening handshake has timed out")}),g.on("error",d=>{g===null||g.aborted||(g=i._req=null,of(i,d))}),g.on("response",d=>{let v=d.headers.location,x=d.statusCode;if(v&&n.followRedirects&&x>=300&&x<400){if(++i._redirects>n.maxRedirects){Yt(i,g,"Maximum redirects exceeded");return}g.abort();let C;try{C=new rf(v,e)}catch{let O=new SyntaxError(`Invalid URL: ${v}`);of(i,O);return}U0(i,C,t,r)}else i.emit("unexpected-response",g,d)||Yt(i,g,`Unexpected server response: ${d.statusCode}`)}),g.on("upgrade",(d,v,x)=>{if(i.emit("upgrade",d),i.readyState!==He.CONNECTING)return;g=i._req=null;let C=GE("sha1").update(f+KE).digest("base64");if(d.headers["sec-websocket-accept"]!==C){Yt(i,v,"Invalid Sec-WebSocket-Accept header");return}let w=d.headers["sec-websocket-protocol"],O;if(w!==void 0?p.size?p.has(w)||(O="Server sent an invalid subprotocol"):O="Server sent a subprotocol but none was requested":p.size&&(O="Server sent no subprotocol"),O){Yt(i,v,O);return}w&&(i._protocol=w);let b=d.headers["sec-websocket-extensions"];if(b!==void 0){if(!m){Yt(i,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let U;try{U=t1(b)}catch{Yt(i,v,"Invalid Sec-WebSocket-Extensions header");return}let R=Object.keys(U);if(R.length!==1||R[0]!==gr.extensionName){Yt(i,v,"Server indicated an extension that was not requested");return}try{m.accept(U[gr.extensionName])}catch{Yt(i,v,"Invalid Sec-WebSocket-Extensions header");return}i._extensions[gr.extensionName]=m}i.setSocket(v,x,{generateMask:n.generateMask,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation})})}function of(i,e){i._readyState=He.CLOSING,i.emit("error",e),i.emitClose()}function s1(i){return i.path=i.socketPath,M0.connect(i)}function o1(i){return i.path=void 0,!i.servername&&i.servername!==""&&(i.servername=M0.isIP(i.host)?"":i.host),VE.connect(i)}function Yt(i,e,t){i._readyState=He.CLOSING;let r=new Error(t);Error.captureStackTrace(r,Yt),e.setHeader?(e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),e.once("abort",i.emitClose.bind(i)),i.emit("error",r)):(e.destroy(r),e.once("error",i.emit.bind(i,"error")),e.once("close",i.emitClose.bind(i)))}function af(i,e,t){if(e){let r=i1(e).length;i._socket?i._sender._bufferedBytes+=r:i._bufferedAmount+=r}if(t){let r=new Error(`WebSocket is not open: readyState ${i.readyState} (${zi[i.readyState]})`);t(r)}}function a1(i,e){let t=this[yt];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=i,t._socket[yt]!==void 0&&(t._socket.removeListener("data",nl),process.nextTick(j0,t._socket),i===1005?t.close():t.close(i,e))}function l1(){let i=this[yt];i.isPaused||i._socket.resume()}function c1(i){let e=this[yt];e._socket[yt]!==void 0&&(e._socket.removeListener("data",nl),process.nextTick(j0,e._socket),e.close(i[ZE])),e.emit("error",i)}function P0(){this[yt].emitClose()}function h1(i,e){this[yt].emit("message",i,e)}function f1(i){let e=this[yt];e.pong(i,!e._isServer,D0),e.emit("ping",i)}function u1(i){this[yt].emit("pong",i)}function j0(i){i.resume()}function q0(){let i=this[yt];this.removeListener("close",q0),this.removeListener("data",nl),this.removeListener("end",H0),i._readyState=He.CLOSING;let e;!this._readableState.endEmitted&&!i._closeFrameReceived&&!i._receiver._writableState.errorEmitted&&(e=i._socket.read())!==null&&i._receiver.write(e),i._receiver.end(),this[yt]=void 0,clearTimeout(i._closeTimer),i._receiver._writableState.finished||i._receiver._writableState.errorEmitted?i.emitClose():(i._receiver.on("error",P0),i._receiver.on("finish",P0))}function nl(i){this[yt]._receiver.write(i)||this.pause()}function H0(){let i=this[yt];i._readyState=He.CLOSING,i._receiver.end(),this.end()}function $0(){let i=this[yt];this.removeListener("error",$0),this.on("error",D0),i&&(i._readyState=He.CLOSING,this.destroy())}});var G0=A((YT,W0)=>{"use strict";var{tokenChars:p1}=No();function d1(i){let e=new Set,t=-1,r=-1,n=0;for(n;n<i.length;n++){let o=i.charCodeAt(n);if(r===-1&&p1[o]===1)t===-1&&(t=n);else if(n!==0&&(o===32||o===9))r===-1&&t!==-1&&(r=n);else if(o===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${n}`);r===-1&&(r=n);let a=i.slice(t,r);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),t=r=-1}else throw new SyntaxError(`Unexpected character at index ${n}`)}if(t===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let s=i.slice(t,n);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}W0.exports={parse:d1}});var J0=A((JT,Z0)=>{"use strict";var m1=require("events"),sl=require("http"),KT=require("https"),XT=require("net"),ZT=require("tls"),{createHash:g1}=require("crypto"),z0=tf(),Gr=Lo(),v1=G0(),x1=lf(),{GUID:y1,kWebSocket:_1}=dr(),w1=/^[+/0-9A-Za-z]{22}==$/,Y0=0,K0=1,X0=2,cf=class extends m1{constructor(e,t){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=sl.createServer((r,n)=>{let s=sl.STATUS_CODES[426];n.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),n.end(s)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=b1(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(n,s,o)=>{this.handleUpgrade(n,s,o,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=Y0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===X0){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Mo,this);return}if(e&&this.once("close",e),this._state!==K0)if(this._state=K0,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Mo,this):process.nextTick(Mo,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{Mo(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",hf);let s=e.headers["sec-websocket-key"]!==void 0?e.headers["sec-websocket-key"]:!1,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"||e.headers.upgrade.toLowerCase()!=="websocket"||!s||!w1.test(s)||o!==8&&o!==13||!this.shouldHandle(e))return es(t,400);let a=e.headers["sec-websocket-protocol"],l=new Set;if(a!==void 0)try{l=v1.parse(a)}catch{return es(t,400)}let h=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&h!==void 0){let u=new Gr(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let p=z0.parse(h);p[Gr.extensionName]&&(u.accept(p[Gr.extensionName]),f[Gr.extensionName]=u)}catch{return es(t,400)}}if(this.options.verifyClient){let u={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(u,(p,m,g,d)=>{if(!p)return es(t,m||401,g,d);this.completeUpgrade(f,s,l,e,t,r,n)});return}if(!this.options.verifyClient(u))return es(t,401)}this.completeUpgrade(f,s,l,e,t,r,n)}completeUpgrade(e,t,r,n,s,o,a){if(!s.readable||!s.writable)return s.destroy();if(s[_1])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Y0)return es(s,503);let h=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${g1("sha1").update(t+y1).digest("base64")}`],f=new x1(null);if(r.size){let u=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;u&&(h.push(`Sec-WebSocket-Protocol: ${u}`),f._protocol=u)}if(e[Gr.extensionName]){let u=e[Gr.extensionName].params,p=z0.format({[Gr.extensionName]:[u]});h.push(`Sec-WebSocket-Extensions: ${p}`),f._extensions=e}this.emit("headers",h,n),s.write(h.concat(`\r
`).join(`\r
`)),s.removeListener("error",hf),f.setSocket(s,o,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(f),f.on("close",()=>{this.clients.delete(f),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Mo,this)})),a(f,n)}};Z0.exports=cf;function b1(i,e){for(let t of Object.keys(e))i.on(t,e[t]);return function(){for(let r of Object.keys(e))i.removeListener(r,e[r])}}function Mo(i){i._state=X0,i.emit("close")}function hf(){this.destroy()}function es(i,e,t,r){i.writable&&(t=t||sl.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...r},i.write(`HTTP/1.1 ${e} ${sl.STATUS_CODES[e]}\r
`+Object.keys(r).map(n=>`${n}: ${r[n]}`).join(`\r
`)+`\r
\r
`+t)),i.removeListener("error",hf),i.destroy()}});var iv=A((eA,tv)=>{var vr=require("constants"),E1=process.cwd,ol=null,k1=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ol||(ol=E1.call(process)),ol};try{process.cwd()}catch{}typeof process.chdir=="function"&&(df=process.chdir,process.chdir=function(i){ol=null,df.call(process,i)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,df));var df;tv.exports=C1;function C1(i){vr.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(i),i.lutimes||t(i),i.chown=s(i.chown),i.fchown=s(i.fchown),i.lchown=s(i.lchown),i.chmod=r(i.chmod),i.fchmod=r(i.fchmod),i.lchmod=r(i.lchmod),i.chownSync=o(i.chownSync),i.fchownSync=o(i.fchownSync),i.lchownSync=o(i.lchownSync),i.chmodSync=n(i.chmodSync),i.fchmodSync=n(i.fchmodSync),i.lchmodSync=n(i.lchmodSync),i.stat=a(i.stat),i.fstat=a(i.fstat),i.lstat=a(i.lstat),i.statSync=l(i.statSync),i.fstatSync=l(i.fstatSync),i.lstatSync=l(i.lstatSync),i.chmod&&!i.lchmod&&(i.lchmod=function(f,u,p){p&&process.nextTick(p)},i.lchmodSync=function(){}),i.chown&&!i.lchown&&(i.lchown=function(f,u,p,m){m&&process.nextTick(m)},i.lchownSync=function(){}),k1==="win32"&&(i.rename=typeof i.rename!="function"?i.rename:function(f){function u(p,m,g){var d=Date.now(),v=0;f(p,m,function x(C){if(C&&(C.code==="EACCES"||C.code==="EPERM")&&Date.now()-d<6e4){setTimeout(function(){i.stat(m,function(w,O){w&&w.code==="ENOENT"?f(p,m,x):g(C)})},v),v<100&&(v+=10);return}g&&g(C)})}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u}(i.rename)),i.read=typeof i.read!="function"?i.read:function(f){function u(p,m,g,d,v,x){var C;if(x&&typeof x=="function"){var w=0;C=function(O,b,U){if(O&&O.code==="EAGAIN"&&w<10)return w++,f.call(i,p,m,g,d,v,C);x.apply(this,arguments)}}return f.call(i,p,m,g,d,v,C)}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u}(i.read),i.readSync=typeof i.readSync!="function"?i.readSync:function(f){return function(u,p,m,g,d){for(var v=0;;)try{return f.call(i,u,p,m,g,d)}catch(x){if(x.code==="EAGAIN"&&v<10){v++;continue}throw x}}}(i.readSync);function e(f){f.lchmod=function(u,p,m){f.open(u,vr.O_WRONLY|vr.O_SYMLINK,p,function(g,d){if(g){m&&m(g);return}f.fchmod(d,p,function(v){f.close(d,function(x){m&&m(v||x)})})})},f.lchmodSync=function(u,p){var m=f.openSync(u,vr.O_WRONLY|vr.O_SYMLINK,p),g=!0,d;try{d=f.fchmodSync(m,p),g=!1}finally{if(g)try{f.closeSync(m)}catch{}else f.closeSync(m)}return d}}function t(f){vr.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(u,p,m,g){f.open(u,vr.O_SYMLINK,function(d,v){if(d){g&&g(d);return}f.futimes(v,p,m,function(x){f.close(v,function(C){g&&g(x||C)})})})},f.lutimesSync=function(u,p,m){var g=f.openSync(u,vr.O_SYMLINK),d,v=!0;try{d=f.futimesSync(g,p,m),v=!1}finally{if(v)try{f.closeSync(g)}catch{}else f.closeSync(g)}return d}):f.futimes&&(f.lutimes=function(u,p,m,g){g&&process.nextTick(g)},f.lutimesSync=function(){})}function r(f){return f&&function(u,p,m){return f.call(i,u,p,function(g){h(g)&&(g=null),m&&m.apply(this,arguments)})}}function n(f){return f&&function(u,p){try{return f.call(i,u,p)}catch(m){if(!h(m))throw m}}}function s(f){return f&&function(u,p,m,g){return f.call(i,u,p,m,function(d){h(d)&&(d=null),g&&g.apply(this,arguments)})}}function o(f){return f&&function(u,p,m){try{return f.call(i,u,p,m)}catch(g){if(!h(g))throw g}}}function a(f){return f&&function(u,p,m){typeof p=="function"&&(m=p,p=null);function g(d,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),m&&m.apply(this,arguments)}return p?f.call(i,u,p,g):f.call(i,u,g)}}function l(f){return f&&function(u,p){var m=p?f.call(i,u,p):f.call(i,u);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function h(f){if(!f||f.code==="ENOSYS")return!0;var u=!process.getuid||process.getuid()!==0;return!!(u&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var sv=A((tA,nv)=>{var rv=require("stream").Stream;nv.exports=O1;function O1(i){return{ReadStream:e,WriteStream:t};function e(r,n){if(!(this instanceof e))return new e(r,n);rv.call(this);var s=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,n=n||{};for(var o=Object.keys(n),a=0,l=o.length;a<l;a++){var h=o[a];this[h]=n[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}i.open(this.path,this.flags,this.mode,function(f,u){if(f){s.emit("error",f),s.readable=!1;return}s.fd=u,s.emit("open",u),s._read()})}function t(r,n){if(!(this instanceof t))return new t(r,n);rv.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var s=Object.keys(n),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=n[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=i.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var av=A((iA,ov)=>{"use strict";ov.exports=A1;var T1=Object.getPrototypeOf||function(i){return i.__proto__};function A1(i){if(i===null||typeof i!="object")return i;if(i instanceof Object)var e={__proto__:T1(i)};else var e=Object.create(null);return Object.getOwnPropertyNames(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}),e}});var fv=A((rA,vf)=>{var De=require("fs"),I1=iv(),R1=sv(),L1=av(),al=require("util"),ut,cl;typeof Symbol=="function"&&typeof Symbol.for=="function"?(ut=Symbol.for("graceful-fs.queue"),cl=Symbol.for("graceful-fs.previous")):(ut="___graceful-fs.queue",cl="___graceful-fs.previous");function N1(){}function hv(i,e){Object.defineProperty(i,ut,{get:function(){return e}})}var zr=N1;al.debuglog?zr=al.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(zr=function(){var i=al.format.apply(al,arguments);i="GFS4: "+i.split(/\n/).join(`
GFS4: `),console.error(i)});De[ut]||(lv=global[ut]||[],hv(De,lv),De.close=function(i){function e(t,r){return i.call(De,t,function(n){n||cv(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(e,cl,{value:i}),e}(De.close),De.closeSync=function(i){function e(t){i.apply(De,arguments),cv()}return Object.defineProperty(e,cl,{value:i}),e}(De.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){zr(De[ut]),require("assert").equal(De[ut].length,0)}));var lv;global[ut]||hv(global,De[ut]);vf.exports=mf(L1(De));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!De.__patched&&(vf.exports=mf(De),De.__patched=!0);function mf(i){I1(i),i.gracefulify=mf,i.createReadStream=b,i.createWriteStream=U;var e=i.readFile;i.readFile=t;function t(T,B,M){return typeof B=="function"&&(M=B,B=null),X(T,B,M);function X(D,ne,P,$){return e(D,ne,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?ts([X,[D,ne,P],G,$||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var r=i.writeFile;i.writeFile=n;function n(T,B,M,X){return typeof M=="function"&&(X=M,M=null),D(T,B,M,X);function D(ne,P,$,G,Z){return r(ne,P,$,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?ts([D,[ne,P,$,G],j,Z||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var s=i.appendFile;s&&(i.appendFile=o);function o(T,B,M,X){return typeof M=="function"&&(X=M,M=null),D(T,B,M,X);function D(ne,P,$,G,Z){return s(ne,P,$,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?ts([D,[ne,P,$,G],j,Z||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var a=i.copyFile;a&&(i.copyFile=l);function l(T,B,M,X){return typeof M=="function"&&(X=M,M=0),D(T,B,M,X);function D(ne,P,$,G,Z){return a(ne,P,$,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?ts([D,[ne,P,$,G],j,Z||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var h=i.readdir;i.readdir=u;var f=/^v[0-5]\./;function u(T,B,M){typeof B=="function"&&(M=B,B=null);var X=f.test(process.version)?function(P,$,G,Z){return h(P,D(P,$,G,Z))}:function(P,$,G,Z){return h(P,$,D(P,$,G,Z))};return X(T,B,M);function D(ne,P,$,G){return function(Z,j){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?ts([X,[ne,P,$],Z,G||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof $=="function"&&$.call(this,Z,j))}}}if(process.version.substr(0,4)==="v0.8"){var p=R1(i);x=p.ReadStream,w=p.WriteStream}var m=i.ReadStream;m&&(x.prototype=Object.create(m.prototype),x.prototype.open=C);var g=i.WriteStream;g&&(w.prototype=Object.create(g.prototype),w.prototype.open=O),Object.defineProperty(i,"ReadStream",{get:function(){return x},set:function(T){x=T},enumerable:!0,configurable:!0}),Object.defineProperty(i,"WriteStream",{get:function(){return w},set:function(T){w=T},enumerable:!0,configurable:!0});var d=x;Object.defineProperty(i,"FileReadStream",{get:function(){return d},set:function(T){d=T},enumerable:!0,configurable:!0});var v=w;Object.defineProperty(i,"FileWriteStream",{get:function(){return v},set:function(T){v=T},enumerable:!0,configurable:!0});function x(T,B){return this instanceof x?(m.apply(this,arguments),this):x.apply(Object.create(x.prototype),arguments)}function C(){var T=this;H(T.path,T.flags,T.mode,function(B,M){B?(T.autoClose&&T.destroy(),T.emit("error",B)):(T.fd=M,T.emit("open",M),T.read())})}function w(T,B){return this instanceof w?(g.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function O(){var T=this;H(T.path,T.flags,T.mode,function(B,M){B?(T.destroy(),T.emit("error",B)):(T.fd=M,T.emit("open",M))})}function b(T,B){return new i.ReadStream(T,B)}function U(T,B){return new i.WriteStream(T,B)}var R=i.open;i.open=H;function H(T,B,M,X){return typeof M=="function"&&(X=M,M=null),D(T,B,M,X);function D(ne,P,$,G,Z){return R(ne,P,$,function(j,Le){j&&(j.code==="EMFILE"||j.code==="ENFILE")?ts([D,[ne,P,$,G],j,Z||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}return i}function ts(i){zr("ENQUEUE",i[0].name,i[1]),De[ut].push(i),gf()}var ll;function cv(){for(var i=Date.now(),e=0;e<De[ut].length;++e)De[ut][e].length>2&&(De[ut][e][3]=i,De[ut][e][4]=i);gf()}function gf(){if(clearTimeout(ll),ll=void 0,De[ut].length!==0){var i=De[ut].shift(),e=i[0],t=i[1],r=i[2],n=i[3],s=i[4];if(n===void 0)zr("RETRY",e.name,t),e.apply(null,t);else if(Date.now()-n>=6e4){zr("TIMEOUT",e.name,t);var o=t.pop();typeof o=="function"&&o.call(null,r)}else{var a=Date.now()-s,l=Math.max(s-n,1),h=Math.min(l*1.2,100);a>=h?(zr("RETRY",e.name,t),e.apply(null,t.concat([n]))):De[ut].push(i)}ll===void 0&&(ll=setTimeout(gf,0))}}});var pv=A((nA,uv)=>{function Kt(i,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(i)),this._timeouts=i,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}uv.exports=Kt;Kt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};Kt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};Kt.prototype.retry=function(i){if(this._timeout&&clearTimeout(this._timeout),!i)return!1;var e=new Date().getTime();if(i&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(i);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift();else return!1;var r=this,n=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},t);return this._options.unref&&n.unref(),!0};Kt.prototype.attempt=function(i,e){this._fn=i,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Kt.prototype.try=function(i){console.log("Using RetryOperation.try() is deprecated"),this.attempt(i)};Kt.prototype.start=function(i){console.log("Using RetryOperation.start() is deprecated"),this.attempt(i)};Kt.prototype.start=Kt.prototype.try;Kt.prototype.errors=function(){return this._errors};Kt.prototype.attempts=function(){return this._attempts};Kt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var i={},e=null,t=0,r=0;r<this._errors.length;r++){var n=this._errors[r],s=n.message,o=(i[s]||0)+1;i[s]=o,o>=t&&(e=n,t=o)}return e}});var dv=A(Yr=>{var B1=pv();Yr.operation=function(i){var e=Yr.timeouts(i);return new B1(e,{forever:i&&i.forever,unref:i&&i.unref,maxRetryTime:i&&i.maxRetryTime})};Yr.timeouts=function(i){if(i instanceof Array)return[].concat(i);var e={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var t in i)e[t]=i[t];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],n=0;n<e.retries;n++)r.push(this.createTimeout(n,e));return i&&i.forever&&!r.length&&r.push(this.createTimeout(n,e)),r.sort(function(s,o){return s-o}),r};Yr.createTimeout=function(i,e){var t=e.randomize?Math.random()+1:1,r=Math.round(t*e.minTimeout*Math.pow(e.factor,i));return r=Math.min(r,e.maxTimeout),r};Yr.wrap=function(i,e,t){if(e instanceof Array&&(t=e,e=null),!t){t=[];for(var r in i)typeof i[r]=="function"&&t.push(r)}for(var n=0;n<t.length;n++){var s=t[n],o=i[s];i[s]=function(l){var h=Yr.operation(e),f=Array.prototype.slice.call(arguments,1),u=f.pop();f.push(function(p){h.retry(p)||(p&&(arguments[0]=h.mainError()),u.apply(this,arguments))}),h.attempt(function(){l.apply(i,f)})}.bind(i,o),i[s].options=e}}});var gv=A((oA,mv)=>{mv.exports=dv()});var vv=A((aA,hl)=>{hl.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&hl.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&hl.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var bv=A((lA,ns)=>{var Pe=global.process,Kr=function(i){return i&&typeof i=="object"&&typeof i.removeListener=="function"&&typeof i.emit=="function"&&typeof i.reallyExit=="function"&&typeof i.listeners=="function"&&typeof i.kill=="function"&&typeof i.pid=="number"&&typeof i.on=="function"};Kr(Pe)?(xv=require("assert"),is=vv(),yv=/^win/i.test(Pe.platform),Do=require("events"),typeof Do!="function"&&(Do=Do.EventEmitter),Pe.__signal_exit_emitter__?st=Pe.__signal_exit_emitter__:(st=Pe.__signal_exit_emitter__=new Do,st.count=0,st.emitted={}),st.infinite||(st.setMaxListeners(1/0),st.infinite=!0),ns.exports=function(i,e){if(!Kr(global.process))return function(){};xv.equal(typeof i,"function","a callback must be provided for exit handler"),rs===!1&&xf();var t="exit";e&&e.alwaysLast&&(t="afterexit");var r=function(){st.removeListener(t,i),st.listeners("exit").length===0&&st.listeners("afterexit").length===0&&fl()};return st.on(t,i),r},fl=function(){!rs||!Kr(global.process)||(rs=!1,is.forEach(function(e){try{Pe.removeListener(e,ul[e])}catch{}}),Pe.emit=pl,Pe.reallyExit=yf,st.count-=1)},ns.exports.unload=fl,Xr=function(e,t,r){st.emitted[e]||(st.emitted[e]=!0,st.emit(e,t,r))},ul={},is.forEach(function(i){ul[i]=function(){if(Kr(global.process)){var t=Pe.listeners(i);t.length===st.count&&(fl(),Xr("exit",null,i),Xr("afterexit",null,i),yv&&i==="SIGHUP"&&(i="SIGINT"),Pe.kill(Pe.pid,i))}}}),ns.exports.signals=function(){return is},rs=!1,xf=function(){rs||!Kr(global.process)||(rs=!0,st.count+=1,is=is.filter(function(e){try{return Pe.on(e,ul[e]),!0}catch{return!1}}),Pe.emit=wv,Pe.reallyExit=_v)},ns.exports.load=xf,yf=Pe.reallyExit,_v=function(e){Kr(global.process)&&(Pe.exitCode=e||0,Xr("exit",Pe.exitCode,null),Xr("afterexit",Pe.exitCode,null),yf.call(Pe,Pe.exitCode))},pl=Pe.emit,wv=function(e,t){if(e==="exit"&&Kr(global.process)){t!==void 0&&(Pe.exitCode=t);var r=pl.apply(this,arguments);return Xr("exit",Pe.exitCode,null),Xr("afterexit",Pe.exitCode,null),r}else return pl.apply(this,arguments)}):ns.exports=function(){return function(){}};var xv,is,yv,Do,st,fl,Xr,ul,rs,xf,yf,_v,pl,wv});var Iv=A((cA,Av)=>{"use strict";var F1=require("path"),Cv=fv(),P1=gv(),M1=bv(),xr={},Sv=Symbol();function D1(i,e,t){let r=e[Sv];if(r)return e.stat(i,(s,o)=>{if(s)return t(s);t(null,o.mtime,r)});let n=new Date(Math.ceil(Date.now()/1e3)*1e3+5);e.utimes(i,n,n,s=>{if(s)return t(s);e.stat(i,(o,a)=>{if(o)return t(o);let l=a.mtime.getTime()%1e3===0?"s":"ms";Object.defineProperty(e,Sv,{value:l}),t(null,a.mtime,l)})})}function U1(i){let e=Date.now();return i==="s"&&(e=Math.ceil(e/1e3)*1e3),new Date(e)}function ml(i,e){return e.lockfilePath||`${i}.lock`}function Ov(i,e,t){if(!e.realpath)return t(null,F1.resolve(i));e.fs.realpath(i,t)}function wf(i,e,t){let r=ml(i,e);e.fs.mkdir(r,n=>{if(!n)return D1(r,e.fs,(s,o,a)=>{if(s)return e.fs.rmdir(r,()=>{}),t(s);t(null,o,a)});if(n.code!=="EEXIST")return t(n);if(e.stale<=0)return t(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:i}));e.fs.stat(r,(s,o)=>{if(s)return s.code==="ENOENT"?wf(i,{...e,stale:0},t):t(s);if(!j1(o,e))return t(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:i}));Tv(i,e,a=>{if(a)return t(a);wf(i,{...e,stale:0},t)})})})}function j1(i,e){return i.mtime.getTime()<Date.now()-e.stale}function Tv(i,e,t){e.fs.rmdir(ml(i,e),r=>{if(r&&r.code!=="ENOENT")return t(r);t()})}function dl(i,e){let t=xr[i];t.updateTimeout||(t.updateDelay=t.updateDelay||e.update,t.updateTimeout=setTimeout(()=>{t.updateTimeout=null,e.fs.stat(t.lockfilePath,(r,n)=>{let s=t.lastUpdate+e.stale<Date.now();if(r)return r.code==="ENOENT"||s?_f(i,t,Object.assign(r,{code:"ECOMPROMISED"})):(t.updateDelay=1e3,dl(i,e));if(!(t.mtime.getTime()===n.mtime.getTime()))return _f(i,t,Object.assign(new Error("Unable to update lock within the stale threshold"),{code:"ECOMPROMISED"}));let a=U1(t.mtimePrecision);e.fs.utimes(t.lockfilePath,a,a,l=>{let h=t.lastUpdate+e.stale<Date.now();if(!t.released){if(l)return l.code==="ENOENT"||h?_f(i,t,Object.assign(l,{code:"ECOMPROMISED"})):(t.updateDelay=1e3,dl(i,e));t.mtime=a,t.lastUpdate=Date.now(),t.updateDelay=null,dl(i,e)}})})},t.updateDelay),t.updateTimeout.unref&&t.updateTimeout.unref())}function _f(i,e,t){e.released=!0,e.updateTimeout&&clearTimeout(e.updateTimeout),xr[i]===e&&delete xr[i],e.options.onCompromised(t)}function q1(i,e,t){e={stale:1e4,update:null,realpath:!0,retries:0,fs:Cv,onCompromised:r=>{throw r},...e},e.retries=e.retries||0,e.retries=typeof e.retries=="number"?{retries:e.retries}:e.retries,e.stale=Math.max(e.stale||0,2e3),e.update=e.update==null?e.stale/2:e.update||0,e.update=Math.max(Math.min(e.update,e.stale/2),1e3),Ov(i,e,(r,n)=>{if(r)return t(r);let s=P1.operation(e.retries);s.attempt(()=>{wf(n,e,(o,a,l)=>{if(s.retry(o))return;if(o)return t(s.mainError());let h=xr[n]={lockfilePath:ml(n,e),mtime:a,mtimePrecision:l,options:e,lastUpdate:Date.now()};dl(n,e),t(null,f=>{if(h.released)return f&&f(Object.assign(new Error("Lock is already released"),{code:"ERELEASED"}));H1(n,{...e,realpath:!1},f)})})})})}function H1(i,e,t){e={fs:Cv,realpath:!0,...e},Ov(i,e,(r,n)=>{if(r)return t(r);let s=xr[n];if(!s)return t(Object.assign(new Error("Lock is not acquired/owned by you"),{code:"ENOTACQUIRED"}));s.updateTimeout&&clearTimeout(s.updateTimeout),s.released=!0,delete xr[n],Tv(n,e,t)})}function Ev(i){return(...e)=>new Promise((t,r)=>{e.push((n,s)=>{n?r(n):t(s)}),i(...e)})}var kv=!1;function $1(){kv||(kv=!0,M1(()=>{for(let i in xr){let e=xr[i].options;try{e.fs.rmdirSync(ml(i,e))}catch{}}}))}Av.exports.lock=async(i,e)=>{$1();let t=await Ev(q1)(i,e);return Ev(t)}});var sk={};Zv(sk,{HttpsProxyAgent:()=>jv.HttpsProxyAgent,PNG:()=>qv.PNG,SocksProxyAgent:()=>$v.SocksProxyAgent,StackUtils:()=>ek,colors:()=>V1,debug:()=>W1,getProxyForUrl:()=>Uv.getProxyForUrl,jpegjs:()=>G1,lockfile:()=>Y1,mime:()=>K1,minimatch:()=>X1,open:()=>Z1,program:()=>Hv.program,progress:()=>J1,rimraf:()=>Q1,ws:()=>tk,wsReceiver:()=>rk,wsSender:()=>nk,wsServer:()=>ik});module.exports=Jv(sk);var Rv=Ie(cu()),Lv=Ie(sn()),Uv=Ie(wu()),jv=Ie(Iu()),Nv=Ie(Mu()),Bv=Ie(Wu()),Fv=Ie(fp()),Pv=Ie(kp()),qv=Ie(_d()),Hv=Ie(Nd()),Mv=Ie(Dd());var Ud=i=>{Hd(i);let{glob:e,...t}=i;if(!e)return t;let r=e===!0?i.signal?{signal:i.signal}:{}:i.signal?{signal:i.signal,...e}:e;return{...t,glob:{...r,absolute:!0,withFileTypes:!1}}},jd=(i={})=>Ud(i),qd=(i={})=>Ud(i);var _s=require("path"),$d=require("util");var ti=process.env.__TESTING_RIMRAF_PLATFORM__||process.platform;var sw=(i,e={})=>{let t=typeof i;if(t!=="string"){let n=i&&t==="object"&&i.constructor,o=`The "path" argument must be of type string. Received ${n&&n.name?`an instance of ${n.name}`:t==="object"?(0,$d.inspect)(i):`type ${t} ${i}`}`;throw Object.assign(new TypeError(o),{path:i,code:"ERR_INVALID_ARG_TYPE"})}if(/\0/.test(i)){let n="path must be a string without null bytes";throw Object.assign(new TypeError(n),{path:i,code:"ERR_INVALID_ARG_VALUE"})}i=(0,_s.resolve)(i);let{root:r}=(0,_s.parse)(i);if(i===r&&e.preserveRoot!==!1){let n="refusing to remove root directory without preserveRoot:false";throw Object.assign(new Error(n),{path:i,code:"ERR_PRESERVE_ROOT"})}if(ti==="win32"){let n=/[*|"<>?:]/,{root:s}=(0,_s.parse)(i);if(n.test(i.substring(s.length)))throw Object.assign(new Error("Illegal characters in path."),{path:i,code:"EINVAL"})}return i},ws=sw;var am=Ie(Zd(),1);var Ss=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>65536)throw new TypeError("pattern is too long")};var pw={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Es=i=>i.replace(/[[\]\\-]/g,"\\$&"),dw=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Jd=i=>i.join(""),Qd=(i,e)=>{let t=e;if(i.charAt(t)!=="[")throw new Error("not in a brace expression");let r=[],n=[],s=t+1,o=!1,a=!1,l=!1,h=!1,f=t,u="";e:for(;s<i.length;){let d=i.charAt(s);if((d==="!"||d==="^")&&s===t+1){h=!0,s++;continue}if(d==="]"&&o&&!l){f=s+1;break}if(o=!0,d==="\\"&&!l){l=!0,s++;continue}if(d==="["&&!l){for(let[v,[x,C,w]]of Object.entries(pw))if(i.startsWith(v,s)){if(u)return["$.",!1,i.length-t,!0];s+=v.length,w?n.push(x):r.push(x),a=a||C;continue e}}if(l=!1,u){d>u?r.push(Es(u)+"-"+Es(d)):d===u&&r.push(Es(d)),u="",s++;continue}if(i.startsWith("-]",s+1)){r.push(Es(d+"-")),s+=2;continue}if(i.startsWith("-",s+1)){u=d,s+=2;continue}r.push(Es(d)),s++}if(f<s)return["",!1,0,!1];if(!r.length&&!n.length)return["$.",!1,i.length-t,!0];if(n.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!h){let d=r[0].length===2?r[0].slice(-1):r[0];return[dw(d),!1,f-t,!1]}let p="["+(h?"^":"")+Jd(r)+"]",m="["+(h?"":"^")+Jd(n)+"]";return[r.length&&n.length?"("+p+"|"+m+")":r.length?p:m,a,f-t,!0]};var ii=(i,{windowsPathsNoEscape:e=!1}={})=>e?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var mw=new Set(["!","?","+","*","@"]),em=i=>mw.has(i),gw="(?!\\.\\.?(?:$|/))",Sc="(?!\\.)",vw=new Set(["[","."]),xw=new Set(["..","."]),yw=new Set("().*{}+?[]^$\\!"),_w=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ec="[^/]",tm=Ec+"*?",im=Ec+"+?",We,Ze,Oi,Be,$e,Zi,kr,Ji,$t,Cr,ks,sa,rm,dn,na,oa,nm,mt=class mt{constructor(e,t,r={}){E(this,sa);_(this,"type");E(this,We,void 0);E(this,Ze,void 0);E(this,Oi,!1);E(this,Be,[]);E(this,$e,void 0);E(this,Zi,void 0);E(this,kr,void 0);E(this,Ji,!1);E(this,$t,void 0);E(this,Cr,void 0);E(this,ks,!1);this.type=e,e&&y(this,Ze,!0),y(this,$e,t),y(this,We,c(this,$e)?c(c(this,$e),We):this),y(this,$t,c(this,We)===this?r:c(c(this,We),$t)),y(this,kr,c(this,We)===this?[]:c(c(this,We),kr)),e==="!"&&!c(c(this,We),Ji)&&c(this,kr).push(this),y(this,Zi,c(this,$e)?c(c(this,$e),Be).length:0)}get hasMagic(){if(c(this,Ze)!==void 0)return c(this,Ze);for(let e of c(this,Be))if(typeof e!="string"&&(e.type||e.hasMagic))return y(this,Ze,!0);return c(this,Ze)}toString(){return c(this,Cr)!==void 0?c(this,Cr):this.type?y(this,Cr,this.type+"("+c(this,Be).map(e=>String(e)).join("|")+")"):y(this,Cr,c(this,Be).map(e=>String(e)).join(""))}push(...e){for(let t of e)if(t!==""){if(typeof t!="string"&&!(t instanceof mt&&c(t,$e)===this))throw new Error("invalid part: "+t);c(this,Be).push(t)}}toJSON(){var t;let e=this.type===null?c(this,Be).slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...c(this,Be).map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===c(this,We)||c(c(this,We),Ji)&&((t=c(this,$e))==null?void 0:t.type)==="!")&&e.push({}),e}isStart(){var t;if(c(this,We)===this)return!0;if(!((t=c(this,$e))!=null&&t.isStart()))return!1;if(c(this,Zi)===0)return!0;let e=c(this,$e);for(let r=0;r<c(this,Zi);r++){let n=c(e,Be)[r];if(!(n instanceof mt&&n.type==="!"))return!1}return!0}isEnd(){var t,r,n;if(c(this,We)===this||((t=c(this,$e))==null?void 0:t.type)==="!")return!0;if(!((r=c(this,$e))!=null&&r.isEnd()))return!1;if(!this.type)return(n=c(this,$e))==null?void 0:n.isEnd();let e=c(this,$e)?c(c(this,$e),Be).length:0;return c(this,Zi)===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let t=new mt(this.type,e);for(let r of c(this,Be))t.copyIn(r);return t}static fromGlob(e,t={}){var n;let r=new mt(null,void 0,t);return I(n=mt,dn,na).call(n,e,r,0,t),r}toMMPattern(){if(this!==c(this,We))return c(this,We).toMMPattern();let e=this.toString(),[t,r,n,s]=this.toRegExpSource();if(!(n||c(this,Ze)||c(this,$t).nocase&&!c(this,$t).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return r;let a=(c(this,$t).nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${t}$`,a),{_src:t,_glob:e})}toRegExpSource(){var n;if(c(this,We)===this&&I(this,sa,rm).call(this),!this.type){let s=this.isStart()&&this.isEnd(),o=c(this,Be).map(f=>{var d;let[u,p,m,g]=typeof f=="string"?I(d=mt,oa,nm).call(d,f,c(this,Ze),s):f.toRegExpSource();return y(this,Ze,c(this,Ze)||m),y(this,Oi,c(this,Oi)||g),u}).join(""),a="";if(this.isStart()&&typeof c(this,Be)[0]=="string"&&!(c(this,Be).length===1&&xw.has(c(this,Be)[0]))){let u=vw,p=c(this,$t).dot&&u.has(o.charAt(0))||o.startsWith("\\.")&&u.has(o.charAt(2))||o.startsWith("\\.\\.")&&u.has(o.charAt(4)),m=!c(this,$t).dot&&u.has(o.charAt(0));a=p?gw:m?Sc:""}let l="";return this.isEnd()&&c(c(this,We),Ji)&&((n=c(this,$e))==null?void 0:n.type)==="!"&&(l="(?:$|\\/)"),[a+o+l,ii(o),y(this,Ze,!!c(this,Ze)),c(this,Oi)]}let e=this.type==="!"?"(?:(?!(?:":"(?:",t=c(this,Be).map(s=>{if(typeof s=="string")throw new Error("string type in extglob ast??");let[o,a,l,h]=s.toRegExpSource();return y(this,Oi,c(this,Oi)||h),o}).filter(s=>!(this.isStart()&&this.isEnd())||!!s).join("|");if(this.isStart()&&this.isEnd()&&!t&&this.type!=="!"){let s=this.toString();return y(this,Be,[s]),this.type=null,y(this,Ze,void 0),[s,ii(this.toString()),!1,!1]}let r="";if(this.type==="!"&&c(this,ks))r=(this.isStart()&&!c(this,$t).dot?Sc:"")+im;else{let s=this.type==="!"?"))"+(this.isStart()&&!c(this,$t).dot?Sc:"")+tm+")":this.type==="@"?")":`)${this.type}`;r=e+t+s}return[r,ii(t),y(this,Ze,!!c(this,Ze)),c(this,Oi)]}};We=new WeakMap,Ze=new WeakMap,Oi=new WeakMap,Be=new WeakMap,$e=new WeakMap,Zi=new WeakMap,kr=new WeakMap,Ji=new WeakMap,$t=new WeakMap,Cr=new WeakMap,ks=new WeakMap,sa=new WeakSet,rm=function(){if(this!==c(this,We))throw new Error("should only call on root");if(c(this,Ji))return this;this.toString(),y(this,Ji,!0);let e;for(;e=c(this,kr).pop();){if(e.type!=="!")continue;let t=e,r=c(t,$e);for(;r;){for(let n=c(t,Zi)+1;!r.type&&n<c(r,Be).length;n++)for(let s of c(e,Be)){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(c(r,Be)[n])}t=r,r=c(t,$e)}}return this},dn=new WeakSet,na=function(e,t,r,n){var m,g;let s=!1,o=!1,a=-1,l=!1;if(t.type===null){let d=r,v="";for(;d<e.length;){let x=e.charAt(d++);if(s||x==="\\"){s=!s,v+=x;continue}if(o){d===a+1?(x==="^"||x==="!")&&(l=!0):x==="]"&&!(d===a+2&&l)&&(o=!1),v+=x;continue}else if(x==="["){o=!0,a=d,l=!1,v+=x;continue}if(!n.noext&&em(x)&&e.charAt(d)==="("){t.push(v),v="";let C=new mt(x,t);d=I(m=mt,dn,na).call(m,e,C,d,n),t.push(C);continue}v+=x}return t.push(v),d}let h=r+1,f=new mt(null,t),u=[],p="";for(;h<e.length;){let d=e.charAt(h++);if(s||d==="\\"){s=!s,p+=d;continue}if(o){h===a+1?(d==="^"||d==="!")&&(l=!0):d==="]"&&!(h===a+2&&l)&&(o=!1),p+=d;continue}else if(d==="["){o=!0,a=h,l=!1,p+=d;continue}if(em(d)&&e.charAt(h)==="("){f.push(p),p="";let v=new mt(d,f);f.push(v),h=I(g=mt,dn,na).call(g,e,v,h,n);continue}if(d==="|"){f.push(p),p="",u.push(f),f=new mt(null,t);continue}if(d===")")return p===""&&c(t,Be).length===0&&y(t,ks,!0),f.push(p),p="",t.push(...u,f),h;p+=d}return t.type=null,y(t,Ze,void 0),y(t,Be,[e.substring(r-1)]),h},oa=new WeakSet,nm=function(e,t,r=!1){let n=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(n){n=!1,s+=(yw.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":n=!0;continue}if(l==="["){let[h,f,u,p]=Qd(e,a);if(u){s+=h,o=o||f,a+=u-1,t=t||p;continue}}if(l==="*"){r&&e==="*"?s+=im:s+=tm,t=!0;continue}if(l==="?"){s+=Ec,t=!0;continue}s+=_w(l)}return[s,ii(e),!!t,o]},E(mt,dn),E(mt,oa);var mn=mt;var gn=(i,{windowsPathsNoEscape:e=!1}={})=>e?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");var bt=(i,e,t={})=>(Ss(e),!t.nocomment&&e.charAt(0)==="#"?!1:new Nt(e,t).match(i));var ww=/^\*+([^+@!?\*\[\(]*)$/,bw=i=>e=>!e.startsWith(".")&&e.endsWith(i),Sw=i=>e=>e.endsWith(i),Ew=i=>(i=i.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(i)),kw=i=>(i=i.toLowerCase(),e=>e.toLowerCase().endsWith(i)),Cw=/^\*+\.\*+$/,Ow=i=>!i.startsWith(".")&&i.includes("."),Tw=i=>i!=="."&&i!==".."&&i.includes("."),Aw=/^\.\*+$/,Iw=i=>i!=="."&&i!==".."&&i.startsWith("."),Rw=/^\*+$/,Lw=i=>i.length!==0&&!i.startsWith("."),Nw=i=>i.length!==0&&i!=="."&&i!=="..",Bw=/^\?+([^+@!?\*\[\(]*)?$/,Fw=([i,e=""])=>{let t=lm([i]);return e?(e=e.toLowerCase(),r=>t(r)&&r.toLowerCase().endsWith(e)):t},Pw=([i,e=""])=>{let t=cm([i]);return e?(e=e.toLowerCase(),r=>t(r)&&r.toLowerCase().endsWith(e)):t},Mw=([i,e=""])=>{let t=cm([i]);return e?r=>t(r)&&r.endsWith(e):t},Dw=([i,e=""])=>{let t=lm([i]);return e?r=>t(r)&&r.endsWith(e):t},lm=([i])=>{let e=i.length;return t=>t.length===e&&!t.startsWith(".")},cm=([i])=>{let e=i.length;return t=>t.length===e&&t!=="."&&t!==".."},hm=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",sm={win32:{sep:"\\"},posix:{sep:"/"}},Uw=hm==="win32"?sm.win32.sep:sm.posix.sep;bt.sep=Uw;var ct=Symbol("globstar **");bt.GLOBSTAR=ct;var jw="[^/]",qw=jw+"*?",Hw="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",$w="(?:(?!(?:\\/|^)\\.).)*?",Vw=(i,e={})=>t=>bt(t,i,e);bt.filter=Vw;var Vt=(i,e={})=>Object.assign({},i,e),Ww=i=>{if(!i||typeof i!="object"||!Object.keys(i).length)return bt;let e=bt;return Object.assign((r,n,s={})=>e(r,n,Vt(i,s)),{Minimatch:class extends e.Minimatch{constructor(n,s={}){super(n,Vt(i,s))}static defaults(n){return e.defaults(Vt(i,n)).Minimatch}},AST:class extends e.AST{constructor(n,s,o={}){super(n,s,Vt(i,o))}static fromGlob(n,s={}){return e.AST.fromGlob(n,Vt(i,s))}},unescape:(r,n={})=>e.unescape(r,Vt(i,n)),escape:(r,n={})=>e.escape(r,Vt(i,n)),filter:(r,n={})=>e.filter(r,Vt(i,n)),defaults:r=>e.defaults(Vt(i,r)),makeRe:(r,n={})=>e.makeRe(r,Vt(i,n)),braceExpand:(r,n={})=>e.braceExpand(r,Vt(i,n)),match:(r,n,s={})=>e.match(r,n,Vt(i,s)),sep:e.sep,GLOBSTAR:ct})};bt.defaults=Ww;var fm=(i,e={})=>(Ss(i),e.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:(0,am.default)(i));bt.braceExpand=fm;var Gw=(i,e={})=>new Nt(i,e).makeRe();bt.makeRe=Gw;var zw=(i,e,t={})=>{let r=new Nt(e,t);return i=i.filter(n=>r.match(n)),r.options.nonull&&!i.length&&i.push(e),i};bt.match=zw;var om=/[?*]|[+@!]\(.*?\)|\[|\]/,Yw=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Nt=class{constructor(e,t={}){_(this,"options");_(this,"set");_(this,"pattern");_(this,"windowsPathsNoEscape");_(this,"nonegate");_(this,"negate");_(this,"comment");_(this,"empty");_(this,"preserveMultipleSlashes");_(this,"partial");_(this,"globSet");_(this,"globParts");_(this,"nocase");_(this,"isWindows");_(this,"platform");_(this,"windowsNoMagicRoot");_(this,"regexp");Ss(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||hm,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if(typeof t!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let r=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let n=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!om.test(s[2]))&&!om.test(s[3]),h=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(h)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,n),this.set=n.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let r=0;r<e.length;r++)for(let n=0;n<e[r].length;n++)e[r][n]==="**"&&(e[r][n]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):t>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let r=-1;for(;(r=t.indexOf("**",r+1))!==-1;){let n=r;for(;t[n+1]==="**";)n++;n!==r&&t.splice(r,n-r)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((r,n)=>{let s=r[r.length-1];return n==="**"&&s==="**"?r:n===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(r.pop(),r):(r.push(n),r)},[]),t.length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){let s=e[n];n===1&&s===""&&e[0]===""||(s==="."||s==="")&&(t=!0,e.splice(n,1),n--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(t=!0,e.pop())}let r=0;for(;(r=e.indexOf("..",r+1))!==-1;){let n=e[r-1];n&&n!=="."&&n!==".."&&n!=="**"&&(t=!0,e.splice(r-1,2),r-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let r of e){let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let o=n;for(;r[o+1]==="**";)o++;o>n&&r.splice(n+1,o-n);let a=r[n+1],l=r[n+2],h=r[n+3];if(a!==".."||!l||l==="."||l===".."||!h||h==="."||h==="..")continue;t=!0,r.splice(n,1);let f=r.slice(0);f[n]="**",e.push(f),n--}if(!this.preserveMultipleSlashes){for(let o=1;o<r.length-1;o++){let a=r[o];o===1&&a===""&&r[0]===""||(a==="."||a==="")&&(t=!0,r.splice(o,1),o--)}r[0]==="."&&r.length===2&&(r[1]==="."||r[1]==="")&&(t=!0,r.pop())}let s=0;for(;(s=r.indexOf("..",s+1))!==-1;){let o=r[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){t=!0;let l=s===1&&r[s+1]==="**"?["."]:[];r.splice(s-1,2,...l),r.length===0&&r.push(""),s-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let r=t+1;r<e.length;r++){let n=this.partsMatch(e[t],e[r],!this.preserveMultipleSlashes);n&&(e[t]=n,e[r]=[])}return e.filter(t=>t.length)}partsMatch(e,t,r=!1){let n=0,s=0,o=[],a="";for(;n<e.length&&s<t.length;)if(e[n]===t[s])o.push(a==="b"?t[s]:e[n]),n++,s++;else if(r&&e[n]==="**"&&t[s]===e[n+1])o.push(e[n]),n++;else if(r&&t[s]==="**"&&e[n]===t[s+1])o.push(t[s]),s++;else if(e[n]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[n]),n++,s++}else if(t[s]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(a==="a")return!1;a="b",o.push(t[s]),n++,s++}else return!1;return e.length===t.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,r=0;for(let n=0;n<e.length&&e.charAt(n)==="!";n++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t}matchOne(e,t,r=!1){let n=this.options;if(this.isWindows){let d=e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),v=t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]);if(d&&v){let x=e[3],C=t[3];x.toLowerCase()===C.toLowerCase()&&(e[3]=C)}else if(v&&typeof e[0]=="string"){let x=t[3],C=e[0];x.toLowerCase()===C.toLowerCase()&&(t[3]=C,t=t.slice(3))}else if(d&&typeof t[0]=="string"){let x=e[3];x.toLowerCase()===t[0].toLowerCase()&&(t[0]=x,e=e.slice(3))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,a=0,l=e.length,h=t.length;o<l&&a<h;o++,a++){this.debug("matchOne loop");var f=t[a],u=e[o];if(this.debug(t,f,u),f===!1)return!1;if(f===ct){this.debug("GLOBSTAR",[t,f,u]);var p=o,m=a+1;if(m===h){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!n.dot&&e[o].charAt(0)===".")return!1;return!0}for(;p<l;){var g=e[p];if(this.debug(`
globstar while`,e,p,t,m,g),this.matchOne(e.slice(p),t.slice(m),r))return this.debug("globstar found match!",p,l,g),!0;if(g==="."||g===".."||!n.dot&&g.charAt(0)==="."){this.debug("dot detected!",e,p,t,m);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,p,t,m),p===l))}let d;if(typeof f=="string"?(d=u===f,this.debug("string match",f,u,d)):(d=f.test(u),this.debug("pattern match",f,u,d)),!d)return!1}if(o===l&&a===h)return!0;if(o===l)return r;if(a===h)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return fm(this.pattern,this.options)}parse(e){Ss(e);let t=this.options;if(e==="**")return ct;if(e==="")return"";let r,n=null;(r=e.match(Rw))?n=t.dot?Nw:Lw:(r=e.match(ww))?n=(t.nocase?t.dot?kw:Ew:t.dot?Sw:bw)(r[1]):(r=e.match(Bw))?n=(t.nocase?t.dot?Pw:Fw:t.dot?Mw:Dw)(r):(r=e.match(Cw))?n=t.dot?Tw:Ow:(r=e.match(Aw))&&(n=Iw);let s=mn.fromGlob(e,this.options).toMMPattern();return n?Object.assign(s,{test:n}):s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,r=t.noglobstar?qw:t.dot?Hw:$w,n=new Set(t.nocase?["i"]:[]),s=e.map(l=>{let h=l.map(f=>{if(f instanceof RegExp)for(let u of f.flags.split(""))n.add(u);return typeof f=="string"?Yw(f):f===ct?ct:f._src});return h.forEach((f,u)=>{let p=h[u+1],m=h[u-1];f!==ct||m===ct||(m===void 0?p!==void 0&&p!==ct?h[u+1]="(?:\\/|"+r+"\\/)?"+p:h[u]=r:p===void 0?h[u-1]=m+"(?:\\/|"+r+")?":p!==ct&&(h[u-1]=m+"(?:\\/|\\/"+r+"\\/)"+p,h[u+1]=ct))}),h.filter(f=>f!==ct).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...n].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let r=this.options;this.isWindows&&(e=e.split("\\").join("/"));let n=this.slashSplit(e);this.debug(this.pattern,"split",n);let s=this.set;this.debug(this.pattern,"set",s);let o=n[n.length-1];if(!o)for(let a=n.length-2;!o&&a>=0;a--)o=n[a];for(let a=0;a<s.length;a++){let l=s[a],h=n;if(r.matchBase&&l.length===1&&(h=[o]),this.matchOne(h,l,t))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return bt.defaults(e).Minimatch}};bt.AST=mn;bt.Minimatch=Nt;bt.escape=gn;bt.unescape=ii;var Cs=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,dm=new Set,kc=typeof process=="object"&&process?process:{},mm=(i,e,t,r)=>{typeof kc.emitWarning=="function"?kc.emitWarning(i,e,t,r):console.error(`[${t}] ${e}: ${i}`)},ca=globalThis.AbortController,um=globalThis.AbortSignal,pm;if(typeof ca=="undefined"){um=class{constructor(){_(this,"onabort");_(this,"_onabort",[]);_(this,"reason");_(this,"aborted",!1)}addEventListener(r,n){this._onabort.push(n)}},ca=class{constructor(){_(this,"signal",new um);e()}abort(r){var n,s;if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(let o of this.signal._onabort)o(r);(s=(n=this.signal).onabort)==null||s.call(n,r)}}};let i=((pm=kc.env)==null?void 0:pm.LRU_CACHE_IGNORE_AC_WARNING)!=="1",e=()=>{i&&(i=!1,mm("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var Kw=i=>!dm.has(i),VC=Symbol("type"),Qi=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),gm=i=>Qi(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?vn:null:null,vn=class extends Array{constructor(e){super(e),this.fill(0)}},xn,Or=class Or{constructor(e,t){_(this,"heap");_(this,"length");if(!c(Or,xn))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}static create(e){let t=gm(e);if(!t)return[];y(Or,xn,!0);let r=new Or(e,t);return y(Or,xn,!1),r}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};xn=new WeakMap,E(Or,xn,!1);var Cc=Or,ri,Bt,mi,ni,yn,Ge,si,ze,Re,re,St,Ft,gt,Je,oi,ht,Ti,Ai,ai,gi,ir,Ot,As,Oc,Tr,Ii,Is,Pt,ha,vm,Ar,_n,Rs,vi,er,xi,tr,Ls,Tc,wn,aa,bn,la,Oe,Fe,Ns,Ac,Ir,Os,Ic=class Ic{constructor(e){E(this,As);E(this,ha);E(this,vi);E(this,xi);E(this,Ls);E(this,wn);E(this,bn);E(this,Oe);E(this,Ns);E(this,Ir);E(this,ri,void 0);E(this,Bt,void 0);E(this,mi,void 0);E(this,ni,void 0);E(this,yn,void 0);_(this,"ttl");_(this,"ttlResolution");_(this,"ttlAutopurge");_(this,"updateAgeOnGet");_(this,"updateAgeOnHas");_(this,"allowStale");_(this,"noDisposeOnSet");_(this,"noUpdateTTL");_(this,"maxEntrySize");_(this,"sizeCalculation");_(this,"noDeleteOnFetchRejection");_(this,"noDeleteOnStaleGet");_(this,"allowStaleOnFetchAbort");_(this,"allowStaleOnFetchRejection");_(this,"ignoreFetchAbort");E(this,Ge,void 0);E(this,si,void 0);E(this,ze,void 0);E(this,Re,void 0);E(this,re,void 0);E(this,St,void 0);E(this,Ft,void 0);E(this,gt,void 0);E(this,Je,void 0);E(this,oi,void 0);E(this,ht,void 0);E(this,Ti,void 0);E(this,Ai,void 0);E(this,ai,void 0);E(this,gi,void 0);E(this,ir,void 0);E(this,Ot,void 0);E(this,Tr,()=>{});E(this,Ii,()=>{});E(this,Is,()=>{});E(this,Pt,()=>!1);E(this,Ar,e=>{});E(this,_n,(e,t,r)=>{});E(this,Rs,(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:h,disposeAfter:f,noDisposeOnSet:u,noUpdateTTL:p,maxSize:m=0,maxEntrySize:g=0,sizeCalculation:d,fetchMethod:v,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:O,ignoreFetchAbort:b}=e;if(t!==0&&!Qi(t))throw new TypeError("max option must be a nonnegative integer");let U=t?gm(t):Array;if(!U)throw new Error("invalid max value: "+t);if(y(this,ri,t),y(this,Bt,m),this.maxEntrySize=g||c(this,Bt),this.sizeCalculation=d,this.sizeCalculation){if(!c(this,Bt)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("fetchMethod must be a function if specified");if(y(this,yn,v),y(this,ir,!!v),y(this,ze,new Map),y(this,Re,new Array(t).fill(void 0)),y(this,re,new Array(t).fill(void 0)),y(this,St,new U(t)),y(this,Ft,new U(t)),y(this,gt,0),y(this,Je,0),y(this,oi,Cc.create(t)),y(this,Ge,0),y(this,si,0),typeof h=="function"&&y(this,mi,h),typeof f=="function"?(y(this,ni,f),y(this,ht,[])):(y(this,ni,void 0),y(this,ht,void 0)),y(this,gi,!!c(this,mi)),y(this,Ot,!!c(this,ni)),this.noDisposeOnSet=!!u,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!b,this.maxEntrySize!==0){if(c(this,Bt)!==0&&!Qi(c(this,Bt)))throw new TypeError("maxSize must be a positive integer if specified");if(!Qi(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");I(this,ha,vm).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Qi(n)||n===0?n:1,this.ttlAutopurge=!!s,this.ttl=r||0,this.ttl){if(!Qi(this.ttl))throw new TypeError("ttl must be a positive integer if specified");I(this,As,Oc).call(this)}if(c(this,ri)===0&&this.ttl===0&&c(this,Bt)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!c(this,ri)&&!c(this,Bt)){let R="LRU_CACHE_UNBOUNDED";Kw(R)&&(dm.add(R),mm("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",R,Ic))}}static unsafeExposeInternals(e){return{starts:c(e,Ai),ttls:c(e,ai),sizes:c(e,Ti),keyMap:c(e,ze),keyList:c(e,Re),valList:c(e,re),next:c(e,St),prev:c(e,Ft),get head(){return c(e,gt)},get tail(){return c(e,Je)},free:c(e,oi),isBackgroundFetch:t=>{var r;return I(r=e,Oe,Fe).call(r,t)},backgroundFetch:(t,r,n,s)=>{var o;return I(o=e,bn,la).call(o,t,r,n,s)},moveToTail:t=>{var r;return I(r=e,Ir,Os).call(r,t)},indexes:t=>{var r;return I(r=e,vi,er).call(r,t)},rindexes:t=>{var r;return I(r=e,xi,tr).call(r,t)},isStale:t=>{var r;return c(r=e,Pt).call(r,t)}}}get max(){return c(this,ri)}get maxSize(){return c(this,Bt)}get calculatedSize(){return c(this,si)}get size(){return c(this,Ge)}get fetchMethod(){return c(this,yn)}get dispose(){return c(this,mi)}get disposeAfter(){return c(this,ni)}getRemainingTTL(e){return c(this,ze).has(e)?1/0:0}*entries(){for(let e of I(this,vi,er).call(this))c(this,re)[e]!==void 0&&c(this,Re)[e]!==void 0&&!I(this,Oe,Fe).call(this,c(this,re)[e])&&(yield[c(this,Re)[e],c(this,re)[e]])}*rentries(){for(let e of I(this,xi,tr).call(this))c(this,re)[e]!==void 0&&c(this,Re)[e]!==void 0&&!I(this,Oe,Fe).call(this,c(this,re)[e])&&(yield[c(this,Re)[e],c(this,re)[e]])}*keys(){for(let e of I(this,vi,er).call(this)){let t=c(this,Re)[e];t!==void 0&&!I(this,Oe,Fe).call(this,c(this,re)[e])&&(yield t)}}*rkeys(){for(let e of I(this,xi,tr).call(this)){let t=c(this,Re)[e];t!==void 0&&!I(this,Oe,Fe).call(this,c(this,re)[e])&&(yield t)}}*values(){for(let e of I(this,vi,er).call(this))c(this,re)[e]!==void 0&&!I(this,Oe,Fe).call(this,c(this,re)[e])&&(yield c(this,re)[e])}*rvalues(){for(let e of I(this,xi,tr).call(this))c(this,re)[e]!==void 0&&!I(this,Oe,Fe).call(this,c(this,re)[e])&&(yield c(this,re)[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(let r of I(this,vi,er).call(this)){let n=c(this,re)[r],s=I(this,Oe,Fe).call(this,n)?n.__staleWhileFetching:n;if(s!==void 0&&e(s,c(this,Re)[r],this))return this.get(c(this,Re)[r],t)}}forEach(e,t=this){for(let r of I(this,vi,er).call(this)){let n=c(this,re)[r],s=I(this,Oe,Fe).call(this,n)?n.__staleWhileFetching:n;s!==void 0&&e.call(t,s,c(this,Re)[r],this)}}rforEach(e,t=this){for(let r of I(this,xi,tr).call(this)){let n=c(this,re)[r],s=I(this,Oe,Fe).call(this,n)?n.__staleWhileFetching:n;s!==void 0&&e.call(t,s,c(this,Re)[r],this)}}purgeStale(){let e=!1;for(let t of I(this,xi,tr).call(this,{allowStale:!0}))c(this,Pt).call(this,t)&&(this.delete(c(this,Re)[t]),e=!0);return e}dump(){let e=[];for(let t of I(this,vi,er).call(this,{allowStale:!0})){let r=c(this,Re)[t],n=c(this,re)[t],s=I(this,Oe,Fe).call(this,n)?n.__staleWhileFetching:n;if(s===void 0||r===void 0)continue;let o={value:s};if(c(this,ai)&&c(this,Ai)){o.ttl=c(this,ai)[t];let a=Cs.now()-c(this,Ai)[t];o.start=Math.floor(Date.now()-a)}c(this,Ti)&&(o.size=c(this,Ti)[t]),e.unshift([r,o])}return e}load(e){this.clear();for(let[t,r]of e){if(r.start){let n=Date.now()-r.start;r.start=Cs.now()-n}this.set(t,r.value,r)}}set(e,t,r={}){var p,m,g;if(t===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=r,{noUpdateTTL:h=this.noUpdateTTL}=r,f=c(this,Rs).call(this,e,t,r.size||0,a);if(this.maxEntrySize&&f>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let u=c(this,Ge)===0?void 0:c(this,ze).get(e);if(u===void 0)u=c(this,Ge)===0?c(this,Je):c(this,oi).length!==0?c(this,oi).pop():c(this,Ge)===c(this,ri)?I(this,wn,aa).call(this,!1):c(this,Ge),c(this,Re)[u]=e,c(this,re)[u]=t,c(this,ze).set(e,u),c(this,St)[c(this,Je)]=u,c(this,Ft)[u]=c(this,Je),y(this,Je,u),$o(this,Ge)._++,c(this,_n).call(this,u,f,l),l&&(l.set="add"),h=!1;else{I(this,Ir,Os).call(this,u);let d=c(this,re)[u];if(t!==d){if(c(this,ir)&&I(this,Oe,Fe).call(this,d)?d.__abortController.abort(new Error("replaced")):o||(c(this,gi)&&((p=c(this,mi))==null||p.call(this,d,e,"set")),c(this,Ot)&&((m=c(this,ht))==null||m.push([d,e,"set"]))),c(this,Ar).call(this,u),c(this,_n).call(this,u,f,l),c(this,re)[u]=t,l){l.set="replace";let v=d&&I(this,Oe,Fe).call(this,d)?d.__staleWhileFetching:d;v!==void 0&&(l.oldValue=v)}}else l&&(l.set="update")}if(n!==0&&!c(this,ai)&&I(this,As,Oc).call(this),c(this,ai)&&(h||c(this,Is).call(this,u,n,s),l&&c(this,Ii).call(this,l,u)),!o&&c(this,Ot)&&c(this,ht)){let d=c(this,ht),v;for(;v=d==null?void 0:d.shift();)(g=c(this,ni))==null||g.call(this,...v)}return this}pop(){var e;try{for(;c(this,Ge);){let t=c(this,re)[c(this,gt)];if(I(this,wn,aa).call(this,!0),I(this,Oe,Fe).call(this,t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(c(this,Ot)&&c(this,ht)){let t=c(this,ht),r;for(;r=t==null?void 0:t.shift();)(e=c(this,ni))==null||e.call(this,...r)}}}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,s=c(this,ze).get(e);if(s!==void 0){let o=c(this,re)[s];if(I(this,Oe,Fe).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(c(this,Pt).call(this,s))n&&(n.has="stale",c(this,Ii).call(this,n,s));else return r&&c(this,Tr).call(this,s),n&&(n.has="hit",c(this,Ii).call(this,n,s)),!0}else n&&(n.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,n=c(this,ze).get(e);if(n!==void 0&&(r||!c(this,Pt).call(this,n))){let s=c(this,re)[n];return I(this,Oe,Fe).call(this,s)?s.__staleWhileFetching:s}}async fetch(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:d,forceRefresh:v=!1,status:x,signal:C}=t;if(!c(this,ir))return x&&(x.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s,status:x});let w={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:h,noUpdateTTL:f,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:m,status:x,signal:C},O=c(this,ze).get(e);if(O===void 0){x&&(x.fetch="miss");let b=I(this,bn,la).call(this,e,O,w,d);return b.__returned=b}else{let b=c(this,re)[O];if(I(this,Oe,Fe).call(this,b)){let B=r&&b.__staleWhileFetching!==void 0;return x&&(x.fetch="inflight",B&&(x.returnedStale=!0)),B?b.__staleWhileFetching:b.__returned=b}let U=c(this,Pt).call(this,O);if(!v&&!U)return x&&(x.fetch="hit"),I(this,Ir,Os).call(this,O),n&&c(this,Tr).call(this,O),x&&c(this,Ii).call(this,x,O),b;let R=I(this,bn,la).call(this,e,O,w,d),T=R.__staleWhileFetching!==void 0&&r;return x&&(x.fetch=U?"stale":"refresh",T&&U&&(x.returnedStale=!0)),T?R.__staleWhileFetching:R.__returned=R}}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=t,a=c(this,ze).get(e);if(a!==void 0){let l=c(this,re)[a],h=I(this,Oe,Fe).call(this,l);return o&&c(this,Ii).call(this,o,a),c(this,Pt).call(this,a)?(o&&(o.get="stale"),h?(o&&r&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?l.__staleWhileFetching:void 0):(s||this.delete(e),o&&r&&(o.returnedStale=!0),r?l:void 0)):(o&&(o.get="hit"),h?l.__staleWhileFetching:(I(this,Ir,Os).call(this,a),n&&c(this,Tr).call(this,a),l))}else o&&(o.get="miss")}delete(e){var r,n,s,o;let t=!1;if(c(this,Ge)!==0){let a=c(this,ze).get(e);if(a!==void 0)if(t=!0,c(this,Ge)===1)this.clear();else{c(this,Ar).call(this,a);let l=c(this,re)[a];I(this,Oe,Fe).call(this,l)?l.__abortController.abort(new Error("deleted")):(c(this,gi)||c(this,Ot))&&(c(this,gi)&&((r=c(this,mi))==null||r.call(this,l,e,"delete")),c(this,Ot)&&((n=c(this,ht))==null||n.push([l,e,"delete"]))),c(this,ze).delete(e),c(this,Re)[a]=void 0,c(this,re)[a]=void 0,a===c(this,Je)?y(this,Je,c(this,Ft)[a]):a===c(this,gt)?y(this,gt,c(this,St)[a]):(c(this,St)[c(this,Ft)[a]]=c(this,St)[a],c(this,Ft)[c(this,St)[a]]=c(this,Ft)[a]),$o(this,Ge)._--,c(this,oi).push(a)}}if(c(this,Ot)&&((s=c(this,ht))!=null&&s.length)){let a=c(this,ht),l;for(;l=a==null?void 0:a.shift();)(o=c(this,ni))==null||o.call(this,...l)}return t}clear(){var e,t,r;for(let n of I(this,xi,tr).call(this,{allowStale:!0})){let s=c(this,re)[n];if(I(this,Oe,Fe).call(this,s))s.__abortController.abort(new Error("deleted"));else{let o=c(this,Re)[n];c(this,gi)&&((e=c(this,mi))==null||e.call(this,s,o,"delete")),c(this,Ot)&&((t=c(this,ht))==null||t.push([s,o,"delete"]))}}if(c(this,ze).clear(),c(this,re).fill(void 0),c(this,Re).fill(void 0),c(this,ai)&&c(this,Ai)&&(c(this,ai).fill(0),c(this,Ai).fill(0)),c(this,Ti)&&c(this,Ti).fill(0),y(this,gt,0),y(this,Je,0),c(this,oi).length=0,y(this,si,0),y(this,Ge,0),c(this,Ot)&&c(this,ht)){let n=c(this,ht),s;for(;s=n==null?void 0:n.shift();)(r=c(this,ni))==null||r.call(this,...s)}}};ri=new WeakMap,Bt=new WeakMap,mi=new WeakMap,ni=new WeakMap,yn=new WeakMap,Ge=new WeakMap,si=new WeakMap,ze=new WeakMap,Re=new WeakMap,re=new WeakMap,St=new WeakMap,Ft=new WeakMap,gt=new WeakMap,Je=new WeakMap,oi=new WeakMap,ht=new WeakMap,Ti=new WeakMap,Ai=new WeakMap,ai=new WeakMap,gi=new WeakMap,ir=new WeakMap,Ot=new WeakMap,As=new WeakSet,Oc=function(){let e=new vn(c(this,ri)),t=new vn(c(this,ri));y(this,ai,e),y(this,Ai,t),y(this,Is,(s,o,a=Cs.now())=>{if(t[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{c(this,Pt).call(this,s)&&this.delete(c(this,Re)[s])},o+1);l.unref&&l.unref()}}),y(this,Tr,s=>{t[s]=e[s]!==0?Cs.now():0}),y(this,Ii,(s,o)=>{if(e[o]){let a=e[o],l=t[o];s.ttl=a,s.start=l,s.now=r||n();let h=s.now-l;s.remainingTTL=a-h}});let r=0,n=()=>{let s=Cs.now();if(this.ttlResolution>0){r=s;let o=setTimeout(()=>r=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=c(this,ze).get(s);if(o===void 0)return 0;let a=e[o],l=t[o];if(a===0||l===0)return 1/0;let h=(r||n())-l;return a-h},y(this,Pt,s=>e[s]!==0&&t[s]!==0&&(r||n())-t[s]>e[s])},Tr=new WeakMap,Ii=new WeakMap,Is=new WeakMap,Pt=new WeakMap,ha=new WeakSet,vm=function(){let e=new vn(c(this,ri));y(this,si,0),y(this,Ti,e),y(this,Ar,t=>{y(this,si,c(this,si)-e[t]),e[t]=0}),y(this,Rs,(t,r,n,s)=>{if(I(this,Oe,Fe).call(this,r))return 0;if(!Qi(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(r,t),!Qi(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n}),y(this,_n,(t,r,n)=>{if(e[t]=r,c(this,Bt)){let s=c(this,Bt)-e[t];for(;c(this,si)>s;)I(this,wn,aa).call(this,!0)}y(this,si,c(this,si)+e[t]),n&&(n.entrySize=r,n.totalCalculatedSize=c(this,si))})},Ar=new WeakMap,_n=new WeakMap,Rs=new WeakMap,vi=new WeakSet,er=function*({allowStale:e=this.allowStale}={}){if(c(this,Ge))for(let t=c(this,Je);!(!I(this,Ls,Tc).call(this,t)||((e||!c(this,Pt).call(this,t))&&(yield t),t===c(this,gt)));)t=c(this,Ft)[t]},xi=new WeakSet,tr=function*({allowStale:e=this.allowStale}={}){if(c(this,Ge))for(let t=c(this,gt);!(!I(this,Ls,Tc).call(this,t)||((e||!c(this,Pt).call(this,t))&&(yield t),t===c(this,Je)));)t=c(this,St)[t]},Ls=new WeakSet,Tc=function(e){return e!==void 0&&c(this,ze).get(c(this,Re)[e])===e},wn=new WeakSet,aa=function(e){var s,o;let t=c(this,gt),r=c(this,Re)[t],n=c(this,re)[t];return c(this,ir)&&I(this,Oe,Fe).call(this,n)?n.__abortController.abort(new Error("evicted")):(c(this,gi)||c(this,Ot))&&(c(this,gi)&&((s=c(this,mi))==null||s.call(this,n,r,"evict")),c(this,Ot)&&((o=c(this,ht))==null||o.push([n,r,"evict"]))),c(this,Ar).call(this,t),e&&(c(this,Re)[t]=void 0,c(this,re)[t]=void 0,c(this,oi).push(t)),c(this,Ge)===1?(y(this,gt,y(this,Je,0)),c(this,oi).length=0):y(this,gt,c(this,St)[t]),c(this,ze).delete(r),$o(this,Ge)._--,t},bn=new WeakSet,la=function(e,t,r,n){let s=t===void 0?void 0:c(this,re)[t];if(I(this,Oe,Fe).call(this,s))return s;let o=new ca,{signal:a}=r;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:r,context:n},h=(d,v=!1)=>{let{aborted:x}=o.signal,C=r.ignoreFetchAbort&&d!==void 0;if(r.status&&(x&&!v?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,C&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),x&&!C&&!v)return u(o.signal.reason);let w=m;return c(this,re)[t]===m&&(d===void 0?w.__staleWhileFetching?c(this,re)[t]=w.__staleWhileFetching:this.delete(e):(r.status&&(r.status.fetchUpdated=!0),this.set(e,d,l.options))),d},f=d=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=d),u(d)),u=d=>{let{aborted:v}=o.signal,x=v&&r.allowStaleOnFetchAbort,C=x||r.allowStaleOnFetchRejection,w=C||r.noDeleteOnFetchRejection,O=m;if(c(this,re)[t]===m&&(!w||O.__staleWhileFetching===void 0?this.delete(e):x||(c(this,re)[t]=O.__staleWhileFetching)),C)return r.status&&O.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),O.__staleWhileFetching;if(O.__returned===O)throw d},p=(d,v)=>{var C;let x=(C=c(this,yn))==null?void 0:C.call(this,e,s,l);x&&x instanceof Promise&&x.then(w=>d(w===void 0?void 0:w),v),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(d(void 0),r.allowStaleOnFetchAbort&&(d=w=>h(w,!0)))})};r.status&&(r.status.fetchDispatched=!0);let m=new Promise(p).then(h,f),g=Object.assign(m,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return t===void 0?(this.set(e,g,{...l.options,status:void 0}),t=c(this,ze).get(e)):c(this,re)[t]=g,g},Oe=new WeakSet,Fe=function(e){if(!c(this,ir))return!1;let t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof ca},Ns=new WeakSet,Ac=function(e,t){c(this,Ft)[t]=e,c(this,St)[e]=t},Ir=new WeakSet,Os=function(e){e!==c(this,Je)&&(e===c(this,gt)?y(this,gt,c(this,St)[e]):I(this,Ns,Ac).call(this,c(this,Ft)[e],c(this,St)[e]),I(this,Ns,Ac).call(this,c(this,Je),e),y(this,Je,e))};var Ts=Ic;var Nn=require("path"),Om=require("url"),Eb=Ie(require("fs"),1),Si=require("fs"),sr=require("fs/promises");var va=require("events"),Mc=Ie(require("stream"),1),bm=require("string_decoder");var xm=typeof process=="object"&&process?process:{stdout:null,stderr:null},Xw=i=>!!i&&typeof i=="object"&&(i instanceof kn||i instanceof Mc.default||Zw(i)||Jw(i)),Zw=i=>!!i&&typeof i=="object"&&i instanceof va.EventEmitter&&typeof i.pipe=="function"&&i.pipe!==Mc.default.Writable.prototype.pipe,Jw=i=>!!i&&typeof i=="object"&&i instanceof va.EventEmitter&&typeof i.write=="function"&&typeof i.end=="function",Ri=Symbol("EOF"),Li=Symbol("maybeEmitEnd"),rr=Symbol("emittedEnd"),fa=Symbol("emittingEnd"),Bs=Symbol("emittedError"),ua=Symbol("closed"),ym=Symbol("read"),pa=Symbol("flush"),_m=Symbol("flushChunk"),li=Symbol("encoding"),Sn=Symbol("decoder"),Qe=Symbol("flowing"),Fs=Symbol("paused"),En=Symbol("resume"),et=Symbol("buffer"),Et=Symbol("pipes"),tt=Symbol("bufferLength"),Rc=Symbol("bufferPush"),da=Symbol("bufferShift"),vt=Symbol("objectMode"),Ue=Symbol("destroyed"),Lc=Symbol("error"),Nc=Symbol("emitData"),wm=Symbol("emitEnd"),Bc=Symbol("emitEnd2"),yi=Symbol("async"),Fc=Symbol("abort"),ma=Symbol("aborted"),Ps=Symbol("signal"),Rr=Symbol("dataListeners"),Mt=Symbol("discarded"),Ms=i=>Promise.resolve().then(i),Qw=i=>i(),eb=i=>i==="end"||i==="finish"||i==="prefinish",tb=i=>i instanceof ArrayBuffer||!!i&&typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,ib=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i),ga=class{constructor(e,t,r){_(this,"src");_(this,"dest");_(this,"opts");_(this,"ondrain");this.src=e,this.dest=t,this.opts=r,this.ondrain=()=>e[En](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Pc=class extends ga{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,r){super(e,t,r),this.proxyErrors=n=>t.emit("error",n),e.on("error",this.proxyErrors)}},rb=i=>!!i.objectMode,nb=i=>!i.objectMode&&!!i.encoding&&i.encoding!=="buffer",sb,ob,ab,lb,cb,hb,fb,ub,pb,db,mb,gb,vb,xb,yb,_b,wb,bb,Sb,kn=class extends va.EventEmitter{constructor(...t){let r=t[0]||{};super();_(this,sb,!1);_(this,ob,!1);_(this,ab,[]);_(this,lb,[]);_(this,cb);_(this,hb);_(this,fb);_(this,ub);_(this,pb,!1);_(this,db,!1);_(this,mb,!1);_(this,gb,!1);_(this,vb,null);_(this,xb,0);_(this,yb,!1);_(this,_b);_(this,wb,!1);_(this,bb,0);_(this,Sb,!1);_(this,"writable",!0);_(this,"readable",!0);if(r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");rb(r)?(this[vt]=!0,this[li]=null):nb(r)?(this[li]=r.encoding,this[vt]=!1):(this[vt]=!1,this[li]=null),this[yi]=!!r.async,this[Sn]=this[li]?new bm.StringDecoder(this[li]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[et]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Et]});let{signal:n}=r;n&&(this[Ps]=n,n.aborted?this[Fc]():n.addEventListener("abort",()=>this[Fc]()))}get bufferLength(){return this[tt]}get encoding(){return this[li]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[vt]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[yi]}set async(t){this[yi]=this[yi]||!!t}[(sb=Qe,ob=Fs,ab=Et,lb=et,cb=vt,hb=li,fb=yi,ub=Sn,pb=Ri,db=rr,mb=fa,gb=ua,vb=Bs,xb=tt,yb=Ue,_b=Ps,wb=ma,bb=Rr,Sb=Mt,Fc)](){var t,r;this[ma]=!0,this.emit("abort",(t=this[Ps])==null?void 0:t.reason),this.destroy((r=this[Ps])==null?void 0:r.reason)}get aborted(){return this[ma]}set aborted(t){}write(t,r,n){var o;if(this[ma])return!1;if(this[Ri])throw new Error("write after end");if(this[Ue])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[yi]?Ms:Qw;if(!this[vt]&&!Buffer.isBuffer(t)){if(ib(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(tb(t))t=Buffer.from(t);else if(typeof t!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[vt]?(this[Qe]&&this[tt]!==0&&this[pa](!0),this[Qe]?this.emit("data",t):this[Rc](t),this[tt]!==0&&this.emit("readable"),n&&s(n),this[Qe]):t.length?(typeof t=="string"&&!(r===this[li]&&!((o=this[Sn])!=null&&o.lastNeed))&&(t=Buffer.from(t,r)),Buffer.isBuffer(t)&&this[li]&&(t=this[Sn].write(t)),this[Qe]&&this[tt]!==0&&this[pa](!0),this[Qe]?this.emit("data",t):this[Rc](t),this[tt]!==0&&this.emit("readable"),n&&s(n),this[Qe]):(this[tt]!==0&&this.emit("readable"),n&&s(n),this[Qe])}read(t){if(this[Ue])return null;if(this[Mt]=!1,this[tt]===0||t===0||t&&t>this[tt])return this[Li](),null;this[vt]&&(t=null),this[et].length>1&&!this[vt]&&(this[et]=[this[li]?this[et].join(""):Buffer.concat(this[et],this[tt])]);let r=this[ym](t||null,this[et][0]);return this[Li](),r}[ym](t,r){if(this[vt])this[da]();else{let n=r;t===n.length||t===null?this[da]():typeof n=="string"?(this[et][0]=n.slice(t),r=n.slice(0,t),this[tt]-=t):(this[et][0]=n.subarray(t),r=n.subarray(0,t),this[tt]-=t)}return this.emit("data",r),!this[et].length&&!this[Ri]&&this.emit("drain"),r}end(t,r,n){return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r="utf8"),t!==void 0&&this.write(t,r),n&&this.once("end",n),this[Ri]=!0,this.writable=!1,(this[Qe]||!this[Fs])&&this[Li](),this}[En](){this[Ue]||(!this[Rr]&&!this[Et].length&&(this[Mt]=!0),this[Fs]=!1,this[Qe]=!0,this.emit("resume"),this[et].length?this[pa]():this[Ri]?this[Li]():this.emit("drain"))}resume(){return this[En]()}pause(){this[Qe]=!1,this[Fs]=!0,this[Mt]=!1}get destroyed(){return this[Ue]}get flowing(){return this[Qe]}get paused(){return this[Fs]}[Rc](t){this[vt]?this[tt]+=1:this[tt]+=t.length,this[et].push(t)}[da](){return this[vt]?this[tt]-=1:this[tt]-=this[et][0].length,this[et].shift()}[pa](t=!1){do;while(this[_m](this[da]())&&this[et].length);!t&&!this[et].length&&!this[Ri]&&this.emit("drain")}[_m](t){return this.emit("data",t),this[Qe]}pipe(t,r){if(this[Ue])return t;this[Mt]=!1;let n=this[rr];return r=r||{},t===xm.stdout||t===xm.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&t.end():(this[Et].push(r.proxyErrors?new Pc(this,t,r):new ga(this,t,r)),this[yi]?Ms(()=>this[En]()):this[En]()),t}unpipe(t){let r=this[Et].find(n=>n.dest===t);r&&(this[Et].length===1?(this[Qe]&&this[Rr]===0&&(this[Qe]=!1),this[Et]=[]):this[Et].splice(this[Et].indexOf(r),1),r.unpipe())}addListener(t,r){return this.on(t,r)}on(t,r){let n=super.on(t,r);if(t==="data")this[Mt]=!1,this[Rr]++,!this[Et].length&&!this[Qe]&&this[En]();else if(t==="readable"&&this[tt]!==0)super.emit("readable");else if(eb(t)&&this[rr])super.emit(t),this.removeAllListeners(t);else if(t==="error"&&this[Bs]){let s=r;this[yi]?Ms(()=>s.call(this,this[Bs])):s.call(this,this[Bs])}return n}removeListener(t,r){return this.off(t,r)}off(t,r){let n=super.off(t,r);return t==="data"&&(this[Rr]=this.listeners("data").length,this[Rr]===0&&!this[Mt]&&!this[Et].length&&(this[Qe]=!1)),n}removeAllListeners(t){let r=super.removeAllListeners(t);return(t==="data"||t===void 0)&&(this[Rr]=0,!this[Mt]&&!this[Et].length&&(this[Qe]=!1)),r}get emittedEnd(){return this[rr]}[Li](){!this[fa]&&!this[rr]&&!this[Ue]&&this[et].length===0&&this[Ri]&&(this[fa]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ua]&&this.emit("close"),this[fa]=!1)}emit(t,...r){let n=r[0];if(t!=="error"&&t!=="close"&&t!==Ue&&this[Ue])return!1;if(t==="data")return!this[vt]&&!n?!1:this[yi]?(Ms(()=>this[Nc](n)),!0):this[Nc](n);if(t==="end")return this[wm]();if(t==="close"){if(this[ua]=!0,!this[rr]&&!this[Ue])return!1;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[Bs]=n,super.emit(Lc,n);let o=!this[Ps]||this.listeners("error").length?super.emit("error",n):!1;return this[Li](),o}else if(t==="resume"){let o=super.emit("resume");return this[Li](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let s=super.emit(t,...r);return this[Li](),s}[Nc](t){for(let n of this[Et])n.dest.write(t)===!1&&this.pause();let r=this[Mt]?!1:super.emit("data",t);return this[Li](),r}[wm](){return this[rr]?!1:(this[rr]=!0,this.readable=!1,this[yi]?(Ms(()=>this[Bc]()),!0):this[Bc]())}[Bc](){if(this[Sn]){let r=this[Sn].end();if(r){for(let n of this[Et])n.dest.write(r);this[Mt]||super.emit("data",r)}}for(let r of this[Et])r.end();let t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){let t=Object.assign([],{dataLength:0});this[vt]||(t.dataLength=0);let r=this.promise();return this.on("data",n=>{t.push(n),this[vt]||(t.dataLength+=n.length)}),await r,t}async concat(){if(this[vt])throw new Error("cannot concat in objectMode");let t=await this.collect();return this[li]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,r)=>{this.on(Ue,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[Mt]=!1;let t=!1,r=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return r();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[Ri])return r();let o,a,l=p=>{this.off("data",h),this.off("end",f),this.off(Ue,u),r(),a(p)},h=p=>{this.off("error",l),this.off("end",f),this.off(Ue,u),this.pause(),o({value:p,done:!!this[Ri]})},f=()=>{this.off("error",l),this.off("data",h),this.off(Ue,u),r(),o({done:!0,value:void 0})},u=()=>l(new Error("stream destroyed"));return new Promise((p,m)=>{a=m,o=p,this.once(Ue,u),this.once("error",l),this.once("end",f),this.once("data",h)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Mt]=!1;let t=!1,r=()=>(this.pause(),this.off(Lc,r),this.off(Ue,r),this.off("end",r),t=!0,{done:!0,value:void 0}),n=()=>{if(t)return r();let s=this.read();return s===null?r():{done:!1,value:s}};return this.once("end",r),this.once(Lc,r),this.once(Ue,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(t){if(this[Ue])return t?this.emit("error",t):this.emit(Ue),this;this[Ue]=!0,this[Mt]=!0,this[et].length=0,this[tt]=0;let r=this;return typeof r.close=="function"&&!this[ua]&&r.close(),t?this.emit("error",t):this.emit(Ue),this}static get isStream(){return Xw}};var kb=Si.realpathSync.native,Us={lstatSync:Si.lstatSync,readdir:Si.readdir,readdirSync:Si.readdirSync,readlinkSync:Si.readlinkSync,realpathSync:kb,promises:{lstat:sr.lstat,readdir:sr.readdir,readlink:sr.readlink,realpath:sr.realpath}},Tm=i=>!i||i===Us||i===Eb?Us:{...Us,...i,promises:{...Us.promises,...i.promises||{}}},Am=/^\\\\\?\\([a-z]:)\\?$/i,Cb=i=>i.replace(/\//g,"\\").replace(Am,"$1\\"),Ob=/[\\\/]/,Gt=0,Im=1,Rm=2,_i=4,Lm=6,Nm=8,Lr=10,Bm=12,Wt=15,Ds=~Wt,Dc=16,Sm=32,js=64,ci=128,xa=256,_a=512,Em=js|ci|_a,Tb=1023,Uc=i=>i.isFile()?Nm:i.isDirectory()?_i:i.isSymbolicLink()?Lr:i.isCharacterDevice()?Rm:i.isBlockDevice()?Lm:i.isSocket()?Bm:i.isFIFO()?Im:Gt,km=new Map,qs=i=>{let e=km.get(i);if(e)return e;let t=i.normalize("NFKD");return km.set(i,t),t},Cm=new Map,ya=i=>{let e=Cm.get(i);if(e)return e;let t=qs(i.toLowerCase());return Cm.set(i,t),t},Ea=class extends Ts{constructor(){super({max:256})}},jc=class extends Ts{constructor(e=16*1024){super({maxSize:e,sizeCalculation:t=>t.length+1})}},Fm=Symbol("PathScurry setAsCwd"),kt,Ws,Gs,zs,Ys,Ks,Xs,Zs,Js,Qs,eo,to,io,ro,no,so,oo,ao,lo,nr,Nr,wi,Ni,Bi,Fi,ee,Br,Pi,bi,co,qc,Cn,wa,Fr,Hs,ho,Hc,fo,$c,Pr,$s,On,ba,uo,Vc,po,Wc,Tn,Sa,Ta,Pm,Aa,Mm,Ia,Dm,mo,Gc,An,In,Ra,Um,Mr,xt=class{constructor(e,t=Gt,r,n,s,o,a){E(this,co);E(this,Cn);E(this,Fr);E(this,ho);E(this,fo);E(this,Pr);E(this,On);E(this,uo);E(this,po);E(this,Tn);E(this,Ta);E(this,Aa);E(this,Ia);E(this,mo);E(this,Ra);_(this,"name");_(this,"root");_(this,"roots");_(this,"parent");_(this,"nocase");E(this,kt,void 0);E(this,Ws,void 0);E(this,Gs,void 0);E(this,zs,void 0);E(this,Ys,void 0);E(this,Ks,void 0);E(this,Xs,void 0);E(this,Zs,void 0);E(this,Js,void 0);E(this,Qs,void 0);E(this,eo,void 0);E(this,to,void 0);E(this,io,void 0);E(this,ro,void 0);E(this,no,void 0);E(this,so,void 0);E(this,oo,void 0);E(this,ao,void 0);E(this,lo,void 0);E(this,nr,void 0);E(this,Nr,void 0);E(this,wi,void 0);E(this,Ni,void 0);E(this,Bi,void 0);E(this,Fi,void 0);E(this,ee,void 0);E(this,Br,void 0);E(this,Pi,void 0);E(this,bi,void 0);E(this,An,[]);E(this,In,!1);E(this,Mr,void 0);this.name=e,y(this,nr,s?ya(e):qs(e)),y(this,ee,t&Tb),this.nocase=s,this.roots=n,this.root=r||this,y(this,Br,o),y(this,wi,a.fullpath),y(this,Bi,a.relative),y(this,Fi,a.relativePosix),this.parent=a.parent,this.parent?y(this,kt,c(this.parent,kt)):y(this,kt,Tm(a.fs))}get dev(){return c(this,Ws)}get mode(){return c(this,Gs)}get nlink(){return c(this,zs)}get uid(){return c(this,Ys)}get gid(){return c(this,Ks)}get rdev(){return c(this,Xs)}get blksize(){return c(this,Zs)}get ino(){return c(this,Js)}get size(){return c(this,Qs)}get blocks(){return c(this,eo)}get atimeMs(){return c(this,to)}get mtimeMs(){return c(this,io)}get ctimeMs(){return c(this,ro)}get birthtimeMs(){return c(this,no)}get atime(){return c(this,so)}get mtime(){return c(this,oo)}get ctime(){return c(this,ao)}get birthtime(){return c(this,lo)}get path(){return(this.parent||this).fullpath()}depth(){return c(this,Nr)!==void 0?c(this,Nr):this.parent?y(this,Nr,this.parent.depth()+1):y(this,Nr,0)}childrenCache(){return c(this,Br)}resolve(e){var o;if(!e)return this;let t=this.getRootString(e),n=e.substring(t.length).split(this.splitSep);return t?I(o=this.getRoot(t),co,qc).call(o,n):I(this,co,qc).call(this,n)}children(){let e=c(this,Br).get(this);if(e)return e;let t=Object.assign([],{provisional:0});return c(this,Br).set(this,t),y(this,ee,c(this,ee)&~Dc),t}child(e,t){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let r=this.children(),n=this.nocase?ya(e):qs(e);for(let l of r)if(c(l,nr)===n)return l;let s=this.parent?this.sep:"",o=c(this,wi)?c(this,wi)+s+e:void 0,a=this.newChild(e,Gt,{...t,parent:this,fullpath:o});return this.canReaddir()||y(a,ee,c(a,ee)|ci),r.push(a),a}relative(){if(c(this,Bi)!==void 0)return c(this,Bi);let e=this.name,t=this.parent;if(!t)return y(this,Bi,this.name);let r=t.relative();return r+(!r||!t.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(c(this,Fi)!==void 0)return c(this,Fi);let e=this.name,t=this.parent;if(!t)return y(this,Fi,this.fullpathPosix());let r=t.relativePosix();return r+(!r||!t.parent?"":"/")+e}fullpath(){if(c(this,wi)!==void 0)return c(this,wi);let e=this.name,t=this.parent;if(!t)return y(this,wi,this.name);let n=t.fullpath()+(t.parent?this.sep:"")+e;return y(this,wi,n)}fullpathPosix(){if(c(this,Ni)!==void 0)return c(this,Ni);if(this.sep==="/")return y(this,Ni,this.fullpath());if(!this.parent){let n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?y(this,Ni,`//?/${n}`):y(this,Ni,n)}let e=this.parent,t=e.fullpathPosix(),r=t+(!t||!e.parent?"":"/")+this.name;return y(this,Ni,r)}isUnknown(){return(c(this,ee)&Wt)===Gt}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(c(this,ee)&Wt)===Nm}isDirectory(){return(c(this,ee)&Wt)===_i}isCharacterDevice(){return(c(this,ee)&Wt)===Rm}isBlockDevice(){return(c(this,ee)&Wt)===Lm}isFIFO(){return(c(this,ee)&Wt)===Im}isSocket(){return(c(this,ee)&Wt)===Bm}isSymbolicLink(){return(c(this,ee)&Lr)===Lr}lstatCached(){return c(this,ee)&Sm?this:void 0}readlinkCached(){return c(this,Pi)}realpathCached(){return c(this,bi)}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(c(this,Pi))return!0;if(!this.parent)return!1;let e=c(this,ee)&Wt;return!(e!==Gt&&e!==Lr||c(this,ee)&xa||c(this,ee)&ci)}calledReaddir(){return!!(c(this,ee)&Dc)}isENOENT(){return!!(c(this,ee)&ci)}isNamed(e){return this.nocase?c(this,nr)===ya(e):c(this,nr)===qs(e)}async readlink(){let e=c(this,Pi);if(e)return e;if(this.canReadlink()&&this.parent)try{let t=await c(this,kt).promises.readlink(this.fullpath()),r=this.parent.resolve(t);if(r)return y(this,Pi,r)}catch(t){I(this,po,Wc).call(this,t.code);return}}readlinkSync(){let e=c(this,Pi);if(e)return e;if(this.canReadlink()&&this.parent)try{let t=c(this,kt).readlinkSync(this.fullpath()),r=this.parent.resolve(t);if(r)return y(this,Pi,r)}catch(t){I(this,po,Wc).call(this,t.code);return}}async lstat(){if(!(c(this,ee)&ci))try{return I(this,mo,Gc).call(this,await c(this,kt).promises.lstat(this.fullpath())),this}catch(e){I(this,uo,Vc).call(this,e.code)}}lstatSync(){if(!(c(this,ee)&ci))try{return I(this,mo,Gc).call(this,c(this,kt).lstatSync(this.fullpath())),this}catch(e){I(this,uo,Vc).call(this,e.code)}}readdirCB(e,t=!1){if(!this.canReaddir()){t?e(null,[]):queueMicrotask(()=>e(null,[]));return}let r=this.children();if(this.calledReaddir()){let s=r.slice(0,r.provisional);t?e(null,s):queueMicrotask(()=>e(null,s));return}if(c(this,An).push(e),c(this,In))return;y(this,In,!0);let n=this.fullpath();c(this,kt).readdir(n,{withFileTypes:!0},(s,o)=>{if(s)I(this,On,ba).call(this,s.code),r.provisional=0;else{for(let a of o)I(this,Tn,Sa).call(this,a,r);I(this,Cn,wa).call(this,r)}I(this,Ra,Um).call(this,r.slice(0,r.provisional))})}async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let t=this.fullpath();if(c(this,Mr))await c(this,Mr);else{let r=()=>{};y(this,Mr,new Promise(n=>r=n));try{for(let n of await c(this,kt).promises.readdir(t,{withFileTypes:!0}))I(this,Tn,Sa).call(this,n,e);I(this,Cn,wa).call(this,e)}catch(n){I(this,On,ba).call(this,n.code),e.provisional=0}y(this,Mr,void 0),r()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let t=this.fullpath();try{for(let r of c(this,kt).readdirSync(t,{withFileTypes:!0}))I(this,Tn,Sa).call(this,r,e);I(this,Cn,wa).call(this,e)}catch(r){I(this,On,ba).call(this,r.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(c(this,ee)&Em)return!1;let e=Wt&c(this,ee);return e===Gt||e===_i||e===Lr}shouldWalk(e,t){return(c(this,ee)&_i)===_i&&!(c(this,ee)&Em)&&!e.has(this)&&(!t||t(this))}async realpath(){if(c(this,bi))return c(this,bi);if(!((_a|xa|ci)&c(this,ee)))try{let e=await c(this,kt).promises.realpath(this.fullpath());return y(this,bi,this.resolve(e))}catch{I(this,fo,$c).call(this)}}realpathSync(){if(c(this,bi))return c(this,bi);if(!((_a|xa|ci)&c(this,ee)))try{let e=c(this,kt).realpathSync(this.fullpath());return y(this,bi,this.resolve(e))}catch{I(this,fo,$c).call(this)}}[Fm](e){if(e===this)return;let t=new Set([]),r=[],n=this;for(;n&&n.parent;)t.add(n),y(n,Bi,r.join(this.sep)),y(n,Fi,r.join("/")),n=n.parent,r.push("..");for(n=e;n&&n.parent&&!t.has(n);)y(n,Bi,void 0),y(n,Fi,void 0),n=n.parent}};kt=new WeakMap,Ws=new WeakMap,Gs=new WeakMap,zs=new WeakMap,Ys=new WeakMap,Ks=new WeakMap,Xs=new WeakMap,Zs=new WeakMap,Js=new WeakMap,Qs=new WeakMap,eo=new WeakMap,to=new WeakMap,io=new WeakMap,ro=new WeakMap,no=new WeakMap,so=new WeakMap,oo=new WeakMap,ao=new WeakMap,lo=new WeakMap,nr=new WeakMap,Nr=new WeakMap,wi=new WeakMap,Ni=new WeakMap,Bi=new WeakMap,Fi=new WeakMap,ee=new WeakMap,Br=new WeakMap,Pi=new WeakMap,bi=new WeakMap,co=new WeakSet,qc=function(e){let t=this;for(let r of e)t=t.child(r);return t},Cn=new WeakSet,wa=function(e){var t;y(this,ee,c(this,ee)|Dc);for(let r=e.provisional;r<e.length;r++)I(t=e[r],Fr,Hs).call(t)},Fr=new WeakSet,Hs=function(){c(this,ee)&ci||(y(this,ee,(c(this,ee)|ci)&Ds),I(this,ho,Hc).call(this))},ho=new WeakSet,Hc=function(){var t;let e=this.children();e.provisional=0;for(let r of e)I(t=r,Fr,Hs).call(t)},fo=new WeakSet,$c=function(){y(this,ee,c(this,ee)|_a),I(this,Pr,$s).call(this)},Pr=new WeakSet,$s=function(){if(c(this,ee)&js)return;let e=c(this,ee);(e&Wt)===_i&&(e&=Ds),y(this,ee,e|js),I(this,ho,Hc).call(this)},On=new WeakSet,ba=function(e=""){e==="ENOTDIR"||e==="EPERM"?I(this,Pr,$s).call(this):e==="ENOENT"?I(this,Fr,Hs).call(this):this.children().provisional=0},uo=new WeakSet,Vc=function(e=""){var t;if(e==="ENOTDIR"){let r=this.parent;I(t=r,Pr,$s).call(t)}else e==="ENOENT"&&I(this,Fr,Hs).call(this)},po=new WeakSet,Wc=function(e=""){var r;let t=c(this,ee);t|=xa,e==="ENOENT"&&(t|=ci),(e==="EINVAL"||e==="UNKNOWN")&&(t&=Ds),y(this,ee,t),e==="ENOTDIR"&&this.parent&&I(r=this.parent,Pr,$s).call(r)},Tn=new WeakSet,Sa=function(e,t){return I(this,Aa,Mm).call(this,e,t)||I(this,Ta,Pm).call(this,e,t)},Ta=new WeakSet,Pm=function(e,t){let r=Uc(e),n=this.newChild(e.name,r,{parent:this}),s=c(n,ee)&Wt;return s!==_i&&s!==Lr&&s!==Gt&&y(n,ee,c(n,ee)|js),t.unshift(n),t.provisional++,n},Aa=new WeakSet,Mm=function(e,t){for(let r=t.provisional;r<t.length;r++){let n=t[r];if((this.nocase?ya(e.name):qs(e.name))===c(n,nr))return I(this,Ia,Dm).call(this,e,n,r,t)}},Ia=new WeakSet,Dm=function(e,t,r,n){let s=t.name;return y(t,ee,c(t,ee)&Ds|Uc(e)),s!==e.name&&(t.name=e.name),r!==n.provisional&&(r===n.length-1?n.pop():n.splice(r,1),n.unshift(t)),n.provisional++,t},mo=new WeakSet,Gc=function(e){let{atime:t,atimeMs:r,birthtime:n,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:h,dev:f,gid:u,ino:p,mode:m,mtime:g,mtimeMs:d,nlink:v,rdev:x,size:C,uid:w}=e;y(this,so,t),y(this,to,r),y(this,lo,n),y(this,no,s),y(this,Zs,o),y(this,eo,a),y(this,ao,l),y(this,ro,h),y(this,Ws,f),y(this,Ks,u),y(this,Js,p),y(this,Gs,m),y(this,oo,g),y(this,io,d),y(this,zs,v),y(this,Xs,x),y(this,Qs,C),y(this,Ys,w);let O=Uc(e);y(this,ee,c(this,ee)&Ds|O|Sm),O!==Gt&&O!==_i&&O!==Lr&&y(this,ee,c(this,ee)|js)},An=new WeakMap,In=new WeakMap,Ra=new WeakSet,Um=function(e){y(this,In,!1);let t=c(this,An).slice();c(this,An).length=0,t.forEach(r=>r(null,e))},Mr=new WeakMap;var ka=class i extends xt{constructor(t,r=Gt,n,s,o,a,l){super(t,r,n,s,o,a,l);_(this,"sep","\\");_(this,"splitSep",Ob)}newChild(t,r=Gt,n={}){return new i(t,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(t){return Nn.win32.parse(t).root}getRoot(t){if(t=Cb(t.toUpperCase()),t===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(t,r))return this.roots[t]=n;return this.roots[t]=new Bn(t,this).root}sameRoot(t,r=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Am,"$1\\"),t===r}},Ca=class i extends xt{constructor(t,r=Gt,n,s,o,a,l){super(t,r,n,s,o,a,l);_(this,"splitSep","/");_(this,"sep","/")}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,r=Gt,n={}){return new i(t,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}},Rn,Ln,go,vo,Oa=class{constructor(e=process.cwd(),t,r,{nocase:n,childrenCacheSize:s=16*1024,fs:o=Us}={}){_(this,"root");_(this,"rootPath");_(this,"roots");_(this,"cwd");E(this,Rn,void 0);E(this,Ln,void 0);E(this,go,void 0);_(this,"nocase");E(this,vo,void 0);y(this,vo,Tm(o)),(e instanceof URL||e.startsWith("file://"))&&(e=(0,Om.fileURLToPath)(e));let a=t.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),y(this,Rn,new Ea),y(this,Ln,new Ea),y(this,go,new jc(s));let l=a.substring(this.rootPath.length).split(r);if(l.length===1&&!l[0]&&l.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(c(this,vo)),this.roots[this.rootPath]=this.root;let h=this.root,f=l.length-1,u=t.sep,p=this.rootPath,m=!1;for(let g of l){let d=f--;h=h.child(g,{relative:new Array(d).fill("..").join(u),relativePosix:new Array(d).fill("..").join("/"),fullpath:p+=(m?"":u)+g}),m=!0}this.cwd=h}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return c(this,go)}resolve(...e){let t="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(t=t?`${o}/${t}`:o,this.isAbsolute(o)))break}let r=c(this,Rn).get(t);if(r!==void 0)return r;let n=this.cwd.resolve(t).fullpath();return c(this,Rn).set(t,n),n}resolvePosix(...e){let t="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(t=t?`${o}/${t}`:o,this.isAbsolute(o)))break}let r=c(this,Ln).get(t);if(r!==void 0)return r;let n=this.cwd.resolve(t).fullpathPosix();return c(this,Ln).set(t,n),n}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,t={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e,e=this.cwd);let{withFileTypes:r}=t;if(e.canReaddir()){let n=await e.readdir();return r?n:n.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,t={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e,e=this.cwd);let{withFileTypes:r=!0}=t;return e.canReaddir()?r?e.readdirSync():e.readdirSync().map(n=>n.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e.withFileTypes,e=this.cwd);let r=await e.readlink();return t?r:r==null?void 0:r.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e.withFileTypes,e=this.cwd);let r=e.readlinkSync();return t?r:r==null?void 0:r.fullpath()}async realpath(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e.withFileTypes,e=this.cwd);let r=await e.realpath();return t?r:r==null?void 0:r.fullpath()}realpathSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e.withFileTypes,e=this.cwd);let r=e.realpathSync();return t?r:r==null?void 0:r.fullpath()}async walk(e=this.cwd,t={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e,e=this.cwd);let{withFileTypes:r=!0,follow:n=!1,filter:s,walkFilter:o}=t,a=[];(!s||s(e))&&a.push(r?e:e.fullpath());let l=new Set,h=(u,p)=>{l.add(u),u.readdirCB((m,g)=>{if(m)return p(m);let d=g.length;if(!d)return p();let v=()=>{--d===0&&p()};for(let x of g)(!s||s(x))&&a.push(r?x:x.fullpath()),n&&x.isSymbolicLink()?x.realpath().then(C=>C!=null&&C.isUnknown()?C.lstat():C).then(C=>C!=null&&C.shouldWalk(l,o)?h(C,v):v()):x.shouldWalk(l,o)?h(x,v):v()},!0)},f=e;return new Promise((u,p)=>{h(f,m=>{if(m)return p(m);u(a)})})}walkSync(e=this.cwd,t={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e,e=this.cwd);let{withFileTypes:r=!0,follow:n=!1,filter:s,walkFilter:o}=t,a=[];(!s||s(e))&&a.push(r?e:e.fullpath());let l=new Set([e]);for(let h of l){let f=h.readdirSync();for(let u of f){(!s||s(u))&&a.push(r?u:u.fullpath());let p=u;if(u.isSymbolicLink()){if(!(n&&(p=u.realpathSync())))continue;p.isUnknown()&&p.lstatSync()}p.shouldWalk(l,o)&&l.add(p)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,t={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e,e=this.cwd),this.stream(e,t)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,t={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e,e=this.cwd);let{withFileTypes:r=!0,follow:n=!1,filter:s,walkFilter:o}=t;(!s||s(e))&&(yield r?e:e.fullpath());let a=new Set([e]);for(let l of a){let h=l.readdirSync();for(let f of h){(!s||s(f))&&(yield r?f:f.fullpath());let u=f;if(f.isSymbolicLink()){if(!(n&&(u=f.realpathSync())))continue;u.isUnknown()&&u.lstatSync()}u.shouldWalk(a,o)&&a.add(u)}}}stream(e=this.cwd,t={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e,e=this.cwd);let{withFileTypes:r=!0,follow:n=!1,filter:s,walkFilter:o}=t,a=new kn({objectMode:!0});(!s||s(e))&&a.write(r?e:e.fullpath());let l=new Set,h=[e],f=0,u=()=>{let p=!1;for(;!p;){let m=h.shift();if(!m){f===0&&a.end();return}f++,l.add(m);let g=(v,x,C=!1)=>{if(v)return a.emit("error",v);if(n&&!C){let w=[];for(let O of x)O.isSymbolicLink()&&w.push(O.realpath().then(b=>b!=null&&b.isUnknown()?b.lstat():b));if(w.length){Promise.all(w).then(()=>g(null,x,!0));return}}for(let w of x)w&&(!s||s(w))&&(a.write(r?w:w.fullpath())||(p=!0));f--;for(let w of x){let O=w.realpathCached()||w;O.shouldWalk(l,o)&&h.push(O)}p&&!a.flowing?a.once("drain",u):d||u()},d=!0;m.readdirCB(g,!0),d=!1}};return u(),a}streamSync(e=this.cwd,t={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof xt||(t=e,e=this.cwd);let{withFileTypes:r=!0,follow:n=!1,filter:s,walkFilter:o}=t,a=new kn({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(r?e:e.fullpath());let h=[e],f=0,u=()=>{let p=!1;for(;!p;){let m=h.shift();if(!m){f===0&&a.end();return}f++,l.add(m);let g=m.readdirSync();for(let d of g)(!s||s(d))&&(a.write(r?d:d.fullpath())||(p=!0));f--;for(let d of g){let v=d;if(d.isSymbolicLink()){if(!(n&&(v=d.realpathSync())))continue;v.isUnknown()&&v.lstatSync()}v.shouldWalk(l,o)&&h.push(v)}}p&&!a.flowing&&a.once("drain",u)};return u(),a}chdir(e=this.cwd){let t=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[Fm](t)}};Rn=new WeakMap,Ln=new WeakMap,go=new WeakMap,vo=new WeakMap;var Bn=class extends Oa{constructor(t=process.cwd(),r={}){let{nocase:n=!0}=r;super(t,Nn.win32,"\\",{...r,nocase:n});_(this,"sep","\\");this.nocase=n;for(let s=this.cwd;s;s=s.parent)s.nocase=this.nocase}parseRootPath(t){return Nn.win32.parse(t).root.toUpperCase()}newRoot(t){return new ka(this.rootPath,_i,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}},Fn=class extends Oa{constructor(t=process.cwd(),r={}){let{nocase:n=!1}=r;super(t,Nn.posix,"/",{...r,nocase:n});_(this,"sep","/");this.nocase=n}parseRootPath(t){return"/"}newRoot(t){return new Ca(this.rootPath,_i,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}},Vs=class extends Fn{constructor(e=process.cwd(),t={}){let{nocase:r=!0}=t;super(e,{...t,nocase:r})}},ZC=process.platform==="win32"?ka:Ca,jm=process.platform==="win32"?Bn:process.platform==="darwin"?Vs:Fn;var Jm=require("url");var Ab=i=>i.length>=1,Ib=i=>i.length>=1,Ye,Dt,it,Dr,hi,xo,or,ar,lr,Pn,zc=class zc{constructor(e,t,r,n){E(this,Ye,void 0);E(this,Dt,void 0);E(this,it,void 0);_(this,"length");E(this,Dr,void 0);E(this,hi,void 0);E(this,xo,void 0);E(this,or,void 0);E(this,ar,void 0);E(this,lr,void 0);E(this,Pn,!0);if(!Ab(e))throw new TypeError("empty pattern list");if(!Ib(t))throw new TypeError("empty glob list");if(t.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,r<0||r>=this.length)throw new TypeError("index out of range");if(y(this,Ye,e),y(this,Dt,t),y(this,it,r),y(this,Dr,n),c(this,it)===0){if(this.isUNC()){let[s,o,a,l,...h]=c(this,Ye),[f,u,p,m,...g]=c(this,Dt);h[0]===""&&(h.shift(),g.shift());let d=[s,o,a,l,""].join("/"),v=[f,u,p,m,""].join("/");y(this,Ye,[d,...h]),y(this,Dt,[v,...g]),this.length=c(this,Ye).length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=c(this,Ye),[a,...l]=c(this,Dt);o[0]===""&&(o.shift(),l.shift());let h=s+"/",f=a+"/";y(this,Ye,[h,...o]),y(this,Dt,[f,...l]),this.length=c(this,Ye).length}}}pattern(){return c(this,Ye)[c(this,it)]}isString(){return typeof c(this,Ye)[c(this,it)]=="string"}isGlobstar(){return c(this,Ye)[c(this,it)]===ct}isRegExp(){return c(this,Ye)[c(this,it)]instanceof RegExp}globString(){return y(this,xo,c(this,xo)||(c(this,it)===0?this.isAbsolute()?c(this,Dt)[0]+c(this,Dt).slice(1).join("/"):c(this,Dt).join("/"):c(this,Dt).slice(c(this,it)).join("/")))}hasMore(){return this.length>c(this,it)+1}rest(){return c(this,hi)!==void 0?c(this,hi):this.hasMore()?(y(this,hi,new zc(c(this,Ye),c(this,Dt),c(this,it)+1,c(this,Dr))),y(c(this,hi),lr,c(this,lr)),y(c(this,hi),ar,c(this,ar)),y(c(this,hi),or,c(this,or)),c(this,hi)):y(this,hi,null)}isUNC(){let e=c(this,Ye);return c(this,ar)!==void 0?c(this,ar):y(this,ar,c(this,Dr)==="win32"&&c(this,it)===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3])}isDrive(){let e=c(this,Ye);return c(this,or)!==void 0?c(this,or):y(this,or,c(this,Dr)==="win32"&&c(this,it)===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]))}isAbsolute(){let e=c(this,Ye);return c(this,lr)!==void 0?c(this,lr):y(this,lr,e[0]===""&&e.length>1||this.isDrive()||this.isUNC())}root(){let e=c(this,Ye)[0];return typeof e=="string"&&this.isAbsolute()&&c(this,it)===0?e:""}checkFollowGlobstar(){return!(c(this,it)===0||!this.isGlobstar()||!c(this,Pn))}markFollowGlobstar(){return c(this,it)===0||!this.isGlobstar()||!c(this,Pn)?!1:(y(this,Pn,!1),!0)}};Ye=new WeakMap,Dt=new WeakMap,it=new WeakMap,Dr=new WeakMap,hi=new WeakMap,xo=new WeakMap,or=new WeakMap,ar=new WeakMap,lr=new WeakMap,Pn=new WeakMap;var Mn=zc;var Ym=Ie(require("events"),1),eh=Ie(require("stream"),1),Km=Ie(require("string_decoder"),1),qm=typeof process=="object"&&process?process:{stdout:null,stderr:null},Hm=Km.default.StringDecoder,Mi=Symbol("EOF"),Di=Symbol("maybeEmitEnd"),cr=Symbol("emittedEnd"),La=Symbol("emittingEnd"),yo=Symbol("emittedError"),Na=Symbol("closed"),$m=Symbol("read"),Ba=Symbol("flush"),Vm=Symbol("flushChunk"),Tt=Symbol("encoding"),Ui=Symbol("decoder"),Fa=Symbol("flowing"),_o=Symbol("paused"),Dn=Symbol("resume"),je=Symbol("buffer"),Ei=Symbol("pipes"),rt=Symbol("bufferLength"),Yc=Symbol("bufferPush"),Kc=Symbol("bufferShift"),ft=Symbol("objectMode"),qe=Symbol("destroyed"),Xc=Symbol("error"),Zc=Symbol("emitData"),Wm=Symbol("emitEnd"),Jc=Symbol("emitEnd2"),ji=Symbol("async"),Qc=Symbol("abort"),Pa=Symbol("aborted"),Ur=Symbol("signal"),wo=i=>Promise.resolve().then(i),Xm=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Gm=Xm&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),zm=Xm&&Symbol.iterator||Symbol("iterator not implemented"),Rb=i=>i==="end"||i==="finish"||i==="prefinish",Lb=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,Nb=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i),Ma=class{constructor(e,t,r){this.src=e,this.dest=t,this.opts=r,this.ondrain=()=>e[Dn](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},th=class extends Ma{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,r){super(e,t,r),this.proxyErrors=n=>t.emit("error",n),e.on("error",this.proxyErrors)}},ih=class i extends eh.default{constructor(e){super(),this[Fa]=!1,this[_o]=!1,this[Ei]=[],this[je]=[],this[ft]=e&&e.objectMode||!1,this[ft]?this[Tt]=null:this[Tt]=e&&e.encoding||null,this[Tt]==="buffer"&&(this[Tt]=null),this[ji]=e&&!!e.async||!1,this[Ui]=this[Tt]?new Hm(this[Tt]):null,this[Mi]=!1,this[cr]=!1,this[La]=!1,this[Na]=!1,this[yo]=null,this.writable=!0,this.readable=!0,this[rt]=0,this[qe]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[je]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Ei]}),this[Ur]=e&&e.signal,this[Pa]=!1,this[Ur]&&(this[Ur].addEventListener("abort",()=>this[Qc]()),this[Ur].aborted&&this[Qc]())}get bufferLength(){return this[rt]}get encoding(){return this[Tt]}set encoding(e){if(this[ft])throw new Error("cannot set encoding in objectMode");if(this[Tt]&&e!==this[Tt]&&(this[Ui]&&this[Ui].lastNeed||this[rt]))throw new Error("cannot change encoding");this[Tt]!==e&&(this[Ui]=e?new Hm(e):null,this[je].length&&(this[je]=this[je].map(t=>this[Ui].write(t)))),this[Tt]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ft]}set objectMode(e){this[ft]=this[ft]||!!e}get async(){return this[ji]}set async(e){this[ji]=this[ji]||!!e}[Qc](){this[Pa]=!0,this.emit("abort",this[Ur].reason),this.destroy(this[Ur].reason)}get aborted(){return this[Pa]}set aborted(e){}write(e,t,r){if(this[Pa])return!1;if(this[Mi])throw new Error("write after end");if(this[qe])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(r=t,t="utf8"),t||(t="utf8");let n=this[ji]?wo:s=>s();return!this[ft]&&!Buffer.isBuffer(e)&&(Nb(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Lb(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ft]?(this.flowing&&this[rt]!==0&&this[Ba](!0),this.flowing?this.emit("data",e):this[Yc](e),this[rt]!==0&&this.emit("readable"),r&&n(r),this.flowing):e.length?(typeof e=="string"&&!(t===this[Tt]&&!this[Ui].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[Tt]&&(e=this[Ui].write(e)),this.flowing&&this[rt]!==0&&this[Ba](!0),this.flowing?this.emit("data",e):this[Yc](e),this[rt]!==0&&this.emit("readable"),r&&n(r),this.flowing):(this[rt]!==0&&this.emit("readable"),r&&n(r),this.flowing)}read(e){if(this[qe])return null;if(this[rt]===0||e===0||e>this[rt])return this[Di](),null;this[ft]&&(e=null),this[je].length>1&&!this[ft]&&(this.encoding?this[je]=[this[je].join("")]:this[je]=[Buffer.concat(this[je],this[rt])]);let t=this[$m](e||null,this[je][0]);return this[Di](),t}[$m](e,t){return e===t.length||e===null?this[Kc]():(this[je][0]=t.slice(e),t=t.slice(0,e),this[rt]-=e),this.emit("data",t),!this[je].length&&!this[Mi]&&this.emit("drain"),t}end(e,t,r){return typeof e=="function"&&(r=e,e=null),typeof t=="function"&&(r=t,t="utf8"),e&&this.write(e,t),r&&this.once("end",r),this[Mi]=!0,this.writable=!1,(this.flowing||!this[_o])&&this[Di](),this}[Dn](){this[qe]||(this[_o]=!1,this[Fa]=!0,this.emit("resume"),this[je].length?this[Ba]():this[Mi]?this[Di]():this.emit("drain"))}resume(){return this[Dn]()}pause(){this[Fa]=!1,this[_o]=!0}get destroyed(){return this[qe]}get flowing(){return this[Fa]}get paused(){return this[_o]}[Yc](e){this[ft]?this[rt]+=1:this[rt]+=e.length,this[je].push(e)}[Kc](){return this[ft]?this[rt]-=1:this[rt]-=this[je][0].length,this[je].shift()}[Ba](e){do;while(this[Vm](this[Kc]())&&this[je].length);!e&&!this[je].length&&!this[Mi]&&this.emit("drain")}[Vm](e){return this.emit("data",e),this.flowing}pipe(e,t){if(this[qe])return;let r=this[cr];return t=t||{},e===qm.stdout||e===qm.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,r?t.end&&e.end():(this[Ei].push(t.proxyErrors?new th(this,e,t):new Ma(this,e,t)),this[ji]?wo(()=>this[Dn]()):this[Dn]()),e}unpipe(e){let t=this[Ei].find(r=>r.dest===e);t&&(this[Ei].splice(this[Ei].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let r=super.on(e,t);return e==="data"&&!this[Ei].length&&!this.flowing?this[Dn]():e==="readable"&&this[rt]!==0?super.emit("readable"):Rb(e)&&this[cr]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[yo]&&(this[ji]?wo(()=>t.call(this,this[yo])):t.call(this,this[yo])),r}get emittedEnd(){return this[cr]}[Di](){!this[La]&&!this[cr]&&!this[qe]&&this[je].length===0&&this[Mi]&&(this[La]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Na]&&this.emit("close"),this[La]=!1)}emit(e,t,...r){if(e!=="error"&&e!=="close"&&e!==qe&&this[qe])return;if(e==="data")return!this[ft]&&!t?!1:this[ji]?wo(()=>this[Zc](t)):this[Zc](t);if(e==="end")return this[Wm]();if(e==="close"){if(this[Na]=!0,!this[cr]&&!this[qe])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[yo]=t,super.emit(Xc,t);let s=!this[Ur]||this.listeners("error").length?super.emit("error",t):!1;return this[Di](),s}else if(e==="resume"){let s=super.emit("resume");return this[Di](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let n=super.emit(e,t,...r);return this[Di](),n}[Zc](e){for(let r of this[Ei])r.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[Di](),t}[Wm](){this[cr]||(this[cr]=!0,this.readable=!1,this[ji]?wo(()=>this[Jc]()):this[Jc]())}[Jc](){if(this[Ui]){let t=this[Ui].end();if(t){for(let r of this[Ei])r.dest.write(t);super.emit("data",t)}}for(let t of this[Ei])t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ft]||(e.dataLength=0);let t=this.promise();return this.on("data",r=>{e.push(r),this[ft]||(e.dataLength+=r.length)}),t.then(()=>e)}concat(){return this[ft]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ft]?Promise.reject(new Error("cannot concat in objectMode")):this[Tt]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(qe,()=>t(new Error("stream destroyed"))),this.on("error",r=>t(r)),this.on("end",()=>e())})}[Gm](){let e=!1,t=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return t();let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[Mi])return t();let s=null,o=null,a=u=>{this.removeListener("data",l),this.removeListener("end",h),this.removeListener(qe,f),t(),o(u)},l=u=>{this.removeListener("error",a),this.removeListener("end",h),this.removeListener(qe,f),this.pause(),s({value:u,done:!!this[Mi]})},h=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(qe,f),t(),s({done:!0})},f=()=>a(new Error("stream destroyed"));return new Promise((u,p)=>{o=p,s=u,this.once(qe,f),this.once("error",a),this.once("end",h),this.once("data",l)})},throw:t,return:t,[Gm](){return this}}}[zm](){let e=!1,t=()=>(this.pause(),this.removeListener(Xc,t),this.removeListener(qe,t),this.removeListener("end",t),e=!0,{done:!0}),r=()=>{if(e)return t();let n=this.read();return n===null?t():{value:n}};return this.once("end",t),this.once(Xc,t),this.once(qe,t),{next:r,throw:t,return:t,[zm](){return this}}}destroy(e){return this[qe]?(e?this.emit("error",e):this.emit(qe),this):(this[qe]=!0,this[je].length=0,this[rt]=0,typeof this.close=="function"&&!this[Na]&&this.close(),e?this.emit("error",e):this.emit(qe),this)}static isStream(e){return!!e&&(e instanceof i||e instanceof eh.default||e instanceof Ym.default&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}},Zm=ih;var Bb=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",bo=class{constructor(e,{nobrace:t,nocase:r,noext:n,noglobstar:s,platform:o=Bb}){_(this,"relative");_(this,"relativeChildren");_(this,"absolute");_(this,"absoluteChildren");this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];let a={dot:!0,nobrace:t,nocase:r,noext:n,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let l of e){let h=new Nt(l,a);for(let f=0;f<h.set.length;f++){let u=h.set[f],p=h.globParts[f],m=new Mn(u,p,0,o),g=new Nt(m.globString(),a),d=p[p.length-1]==="**",v=m.isAbsolute();v?this.absolute.push(g):this.relative.push(g),d&&(v?this.absoluteChildren.push(g):this.relativeChildren.push(g))}}}ignored(e){let t=e.fullpath(),r=`${t}/`,n=e.relative()||".",s=`${n}/`;for(let o of this.relative)if(o.match(n)||o.match(s))return!0;for(let o of this.absolute)if(o.match(t)||o.match(r))return!0;return!1}childrenIgnored(e){let t=e.fullpath()+"/",r=(e.relative()||".")+"/";for(let n of this.relativeChildren)if(n.match(r))return!0;for(let n of this.absoluteChildren)n.match(t);return!1}};var rh=class i{constructor(e=new Map){_(this,"store");this.store=e}copy(){return new i(new Map(this.store))}hasWalked(e,t){var r;return(r=this.store.get(e.fullpath()))==null?void 0:r.has(t.globString())}storeWalked(e,t){let r=e.fullpath(),n=this.store.get(r);n?n.add(t.globString()):this.store.set(r,new Set([t.globString()]))}},nh=class{constructor(){_(this,"store",new Map)}add(e,t,r){let n=(t?2:0)|(r?1:0),s=this.store.get(e);this.store.set(e,s===void 0?n:n&s)}entries(){return[...this.store.entries()].map(([e,t])=>[e,!!(t&2),!!(t&1)])}},sh=class{constructor(){_(this,"store",new Map)}add(e,t){if(!e.canReaddir())return;let r=this.store.get(e);r?r.find(n=>n.globString()===t.globString())||r.push(t):this.store.set(e,[t])}get(e){let t=this.store.get(e);if(!t)throw new Error("attempting to walk unknown path");return t}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}},So=class i{constructor(e,t){_(this,"hasWalkedCache");_(this,"matches",new nh);_(this,"subwalks",new sh);_(this,"patterns");_(this,"follow");_(this,"dot");_(this,"opts");this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=t?t.copy():new rh}processPatterns(e,t){this.patterns=t;let r=t.map(n=>[e,n]);for(let[n,s]of r){this.hasWalkedCache.storeWalked(n,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){n=n.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let u=s.rest();if(u)s=u;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let l,h,f=!1;for(;typeof(l=s.pattern())=="string"&&(h=s.rest());){let u=n.resolve(l);if(u.isUnknown()&&l!=="..")break;n=u,s=h,f=!0}if(l=s.pattern(),h=s.rest(),f){if(this.hasWalkedCache.hasWalked(n,s))continue;this.hasWalkedCache.storeWalked(n,s)}if(typeof l=="string"){if(h)this.subwalks.add(n,s);else{let u=l===".."||l===""||l===".";this.matches.add(n.resolve(l),a,u)}continue}else if(l===ct){(!n.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(n,s);let u=h==null?void 0:h.pattern(),p=h==null?void 0:h.rest();if(!h||(u===""||u===".")&&!p)this.matches.add(n,a,u===""||u===".");else if(u===".."){let m=n.parent||n;p?this.hasWalkedCache.hasWalked(m,p)||this.subwalks.add(m,p):this.matches.add(m,a,!0)}}else l instanceof RegExp&&this.subwalks.add(n,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new i(this.opts,this.hasWalkedCache)}filterEntries(e,t){let r=this.subwalks.get(e),n=this.child();for(let s of t)for(let o of r){let a=o.isAbsolute(),l=o.pattern(),h=o.rest();l===ct?n.testGlobstar(s,o,h,a):l instanceof RegExp?n.testRegExp(s,l,h,a):n.testString(s,l,h,a)}return n}testGlobstar(e,t,r,n){if((this.dot||!e.name.startsWith("."))&&(t.hasMore()||this.matches.add(e,n,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,t):e.isSymbolicLink()&&(r&&t.checkFollowGlobstar()?this.subwalks.add(e,r):t.markFollowGlobstar()&&this.subwalks.add(e,t)))),r){let s=r.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,r.rest(),n);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,r)}else s instanceof RegExp&&this.testRegExp(e,s,r.rest(),n)}}testRegExp(e,t,r,n){t.test(e.name)&&(r?this.subwalks.add(e,r):this.matches.add(e,n,!1))}testString(e,t,r,n){e.isNamed(t)&&(r?this.subwalks.add(e,r):this.matches.add(e,n,!1))}};var Fb=(i,e)=>typeof i=="string"?new bo([i],e):Array.isArray(i)?new bo(i,e):i,Un,jn,qr,qi,jr,Co,oh,Da=class{constructor(e,t,r){E(this,qi);E(this,Co);_(this,"path");_(this,"patterns");_(this,"opts");_(this,"seen",new Set);_(this,"paused",!1);_(this,"aborted",!1);E(this,Un,[]);E(this,jn,void 0);E(this,qr,void 0);_(this,"signal");_(this,"maxDepth");this.patterns=e,this.path=t,this.opts=r,y(this,qr,r.platform==="win32"?"\\":"/"),r.ignore&&y(this,jn,Fb(r.ignore,r)),this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",()=>{c(this,Un).length=0}))}pause(){this.paused=!0}resume(){var t;if((t=this.signal)!=null&&t.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=c(this,Un).shift());)e()}onResume(e){var t;(t=this.signal)!=null&&t.aborted||(this.paused?c(this,Un).push(e):e())}async matchCheck(e,t){if(t&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=e.realpathCached()||await e.realpath(),!r)return;e=r}let n=e.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await e.lstat():e,t)}matchCheckTest(e,t){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!t||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&!I(this,qi,jr).call(this,e)?e:void 0}matchCheckSync(e,t){if(t&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=e.realpathCached()||e.realpathSync(),!r)return;e=r}let n=e.isUnknown()||this.opts.stat;return this.matchCheckTest(n?e.lstatSync():e,t)}matchFinish(e,t){if(I(this,qi,jr).call(this,e))return;let r=this.opts.absolute===void 0?t:this.opts.absolute;this.seen.add(e);let n=this.opts.mark&&e.isDirectory()?c(this,qr):"";if(this.opts.withFileTypes)this.matchEmit(e);else if(r)this.matchEmit(e.fullpath()+n);else{let s=e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+c(this,qr))?"."+c(this,qr):"";this.matchEmit(!s&&n?"."+n:o+s+n)}}async match(e,t,r){let n=await this.matchCheck(e,r);n&&this.matchFinish(n,t)}matchSync(e,t,r){let n=this.matchCheckSync(e,r);n&&this.matchFinish(n,t)}walkCB(e,t,r){var n;(n=this.signal)!=null&&n.aborted&&r(),this.walkCB2(e,t,new So(this.opts),r)}walkCB2(e,t,r,n){var a;if(I(this,Co,oh).call(this,e))return n();if((a=this.signal)!=null&&a.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(e,t,r,n));return}r.processPatterns(e,t);let s=1,o=()=>{--s===0&&n()};for(let[l,h,f]of r.matches.entries())I(this,qi,jr).call(this,l)||(s++,this.match(l,h,f).then(()=>o()));for(let l of r.subwalkTargets()){if(this.maxDepth!==1/0&&l.depth()>=this.maxDepth)continue;s++;let h=l.readdirCached();l.calledReaddir()?this.walkCB3(l,h,r,o):l.readdirCB((f,u)=>this.walkCB3(l,u,r,o),!0)}o()}walkCB3(e,t,r,n){r=r.filterEntries(e,t);let s=1,o=()=>{--s===0&&n()};for(let[a,l,h]of r.matches.entries())I(this,qi,jr).call(this,a)||(s++,this.match(a,l,h).then(()=>o()));for(let[a,l]of r.subwalks.entries())s++,this.walkCB2(a,l,r.child(),o);o()}walkCBSync(e,t,r){var n;(n=this.signal)!=null&&n.aborted&&r(),this.walkCB2Sync(e,t,new So(this.opts),r)}walkCB2Sync(e,t,r,n){var a;if(I(this,Co,oh).call(this,e))return n();if((a=this.signal)!=null&&a.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(e,t,r,n));return}r.processPatterns(e,t);let s=1,o=()=>{--s===0&&n()};for(let[l,h,f]of r.matches.entries())I(this,qi,jr).call(this,l)||this.matchSync(l,h,f);for(let l of r.subwalkTargets()){if(this.maxDepth!==1/0&&l.depth()>=this.maxDepth)continue;s++;let h=l.readdirSync();this.walkCB3Sync(l,h,r,o)}o()}walkCB3Sync(e,t,r,n){r=r.filterEntries(e,t);let s=1,o=()=>{--s===0&&n()};for(let[a,l,h]of r.matches.entries())I(this,qi,jr).call(this,a)||this.matchSync(a,l,h);for(let[a,l]of r.subwalks.entries())s++,this.walkCB2Sync(a,l,r.child(),o);o()}};Un=new WeakMap,jn=new WeakMap,qr=new WeakMap,qi=new WeakSet,jr=function(e){var t,r;return this.seen.has(e)||!!((r=(t=c(this,jn))==null?void 0:t.ignored)!=null&&r.call(t,e))},Co=new WeakSet,oh=function(e){var t,r;return!!((r=(t=c(this,jn))==null?void 0:t.childrenIgnored)!=null&&r.call(t,e))};var Eo=class extends Da{constructor(t,r,n){super(t,r,n);_(this,"matches");this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){var t;if((t=this.signal)!=null&&t.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((r,n)=>{this.walkCB(this.path,this.patterns,()=>{var s;(s=this.signal)!=null&&s.aborted?n(this.signal.reason):r(this.matches)})}),this.matches}walkSync(){var t;if((t=this.signal)!=null&&t.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{var r;if((r=this.signal)!=null&&r.aborted)throw this.signal.reason}),this.matches}},ko=class extends Da{constructor(t,r,n){super(t,r,n);_(this,"results");this.results=new Zm({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};var Pb=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",fi=class{constructor(e,t){_(this,"absolute");_(this,"cwd");_(this,"root");_(this,"dot");_(this,"dotRelative");_(this,"follow");_(this,"ignore");_(this,"magicalBraces");_(this,"mark");_(this,"matchBase");_(this,"maxDepth");_(this,"nobrace");_(this,"nocase");_(this,"nodir");_(this,"noext");_(this,"noglobstar");_(this,"pattern");_(this,"platform");_(this,"realpath");_(this,"scurry");_(this,"stat");_(this,"signal");_(this,"windowsPathsNoEscape");_(this,"withFileTypes");_(this,"opts");_(this,"patterns");if(this.withFileTypes=!!t.withFileTypes,this.signal=t.signal,this.follow=!!t.follow,this.dot=!!t.dot,this.dotRelative=!!t.dotRelative,this.nodir=!!t.nodir,this.mark=!!t.mark,t.cwd?(t.cwd instanceof URL||t.cwd.startsWith("file://"))&&(t.cwd=(0,Jm.fileURLToPath)(t.cwd)):this.cwd="",this.cwd=t.cwd||"",this.root=t.root,this.magicalBraces=!!t.magicalBraces,this.nobrace=!!t.nobrace,this.noext=!!t.noext,this.realpath=!!t.realpath,this.absolute=t.absolute,this.noglobstar=!!t.noglobstar,this.matchBase=!!t.matchBase,this.maxDepth=typeof t.maxDepth=="number"?t.maxDepth:1/0,this.stat=!!t.stat,this.ignore=t.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(a=>a.replace(/\\/g,"/"))),this.matchBase){if(t.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(a=>a.includes("/")?a:`./**/${a}`)}if(this.pattern=e,this.platform=t.platform||Pb,this.opts={...t,platform:this.platform},t.scurry){if(this.scurry=t.scurry,t.nocase!==void 0&&t.nocase!==t.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let a=t.platform==="win32"?Bn:t.platform==="darwin"?Vs:t.platform?Fn:jm;this.scurry=new a(this.cwd,{nocase:t.nocase,fs:t.fs})}this.nocase=this.scurry.nocase;let r={...t,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:!0,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(a=>new Nt(a,r)),[s,o]=n.reduce((a,l)=>(a[0].push(...l.set),a[1].push(...l.globParts),a),[[],[]]);this.patterns=s.map((a,l)=>new Mn(a,o[l],0,this.platform))}async walk(){return[...await new Eo(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Eo(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new ko(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new ko(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};var ah=(i,e={})=>{Array.isArray(i)||(i=[i]);for(let t of i)if(new Nt(t,e).hasMagic())return!0;return!1};function ja(i,e={}){return new fi(i,e).streamSync()}function Qm(i,e={}){return new fi(i,e).stream()}function qa(i,e={}){return new fi(i,e).walkSync()}async function Ua(i,e={}){return new fi(i,e).walk()}function Ha(i,e={}){return new fi(i,e).iterateSync()}function eg(i,e={}){return new fi(i,e).iterate()}var Mb=ja,Db=Object.assign(Qm,{sync:ja}),Ub=Ha,jb=Object.assign(eg,{sync:Ha}),qb=Object.assign(qa,{stream:ja,iterate:Ha}),OO=Object.assign(Ua,{glob:Ua,globSync:qa,sync:qb,globStream:Qm,stream:Db,globStreamSync:ja,streamSync:Mb,globIterate:eg,iterate:jb,globIterateSync:Ha,iterateSync:Ub,Glob:fi,hasMagic:ah,escape:gn,unescape:ii});var ki=Ie(require("fs"),1),me=require("fs"),tg=require("fs"),ig=i=>(0,tg.readdirSync)(i,{withFileTypes:!0}),Hb=(i,e)=>new Promise((t,r)=>ki.default.chmod(i,e,(n,...s)=>n?r(n):t(...s))),$b=(i,e)=>new Promise((t,r)=>ki.default.mkdir(i,e,(n,s)=>n?r(n):t(s))),Vb=i=>new Promise((e,t)=>ki.default.readdir(i,{withFileTypes:!0},(r,n)=>r?t(r):e(n))),Wb=(i,e)=>new Promise((t,r)=>ki.default.rename(i,e,(n,...s)=>n?r(n):t(...s))),Gb=(i,e)=>new Promise((t,r)=>ki.default.rm(i,e,(n,...s)=>n?r(n):t(...s))),zb=i=>new Promise((e,t)=>ki.default.rmdir(i,(r,...n)=>r?t(r):e(...n))),Yb=i=>new Promise((e,t)=>ki.default.stat(i,(r,n)=>r?t(r):e(n))),Kb=i=>new Promise((e,t)=>ki.default.lstat(i,(r,n)=>r?t(r):e(n))),Xb=i=>new Promise((e,t)=>ki.default.unlink(i,(r,...n)=>r?t(r):e(...n))),At={chmod:Hb,mkdir:$b,readdir:Vb,rename:Wb,rm:Gb,rmdir:zb,stat:Yb,lstat:Kb,unlink:Xb};var $n=require("path");var{readdir:Zb}=At,qn=i=>Zb(i).catch(e=>e),Hn=i=>{try{return ig(i)}catch(e){return e}};var Hi=async i=>i.catch(e=>{if(e.code!=="ENOENT")throw e}),$i=i=>{try{return i()}catch(e){if((e==null?void 0:e.code)!=="ENOENT")throw e}};var{lstat:Jb,rmdir:Qb,unlink:eS}=At,$a=async(i,e)=>{var t;if((t=e==null?void 0:e.signal)!=null&&t.aborted)throw e.signal.reason;try{return await rg(i,e,await Jb(i))}catch(r){if((r==null?void 0:r.code)==="ENOENT")return!0;throw r}},Va=(i,e)=>{var t;if((t=e==null?void 0:e.signal)!=null&&t.aborted)throw e.signal.reason;try{return ng(i,e,(0,me.lstatSync)(i))}catch(r){if((r==null?void 0:r.code)==="ENOENT")return!0;throw r}},rg=async(i,e,t)=>{var s;if((s=e==null?void 0:e.signal)!=null&&s.aborted)throw e.signal.reason;let r=t.isDirectory()?await qn(i):null;if(!Array.isArray(r)){if(r){if(r.code==="ENOENT")return!0;if(r.code!=="ENOTDIR")throw r}return e.filter&&!await e.filter(i,t)?!1:(await Hi(eS(i)),!0)}return!(await Promise.all(r.map(o=>rg((0,$n.resolve)(i,o.name),e,o)))).reduce((o,a)=>o&&a,!0)||e.preserveRoot===!1&&i===(0,$n.parse)(i).root||e.filter&&!await e.filter(i,t)?!1:(await Hi(Qb(i)),!0)},ng=(i,e,t)=>{var s;if((s=e==null?void 0:e.signal)!=null&&s.aborted)throw e.signal.reason;let r=t.isDirectory()?Hn(i):null;if(!Array.isArray(r)){if(r){if(r.code==="ENOENT")return!0;if(r.code!=="ENOTDIR")throw r}return e.filter&&!e.filter(i,t)?!1:($i(()=>(0,me.unlinkSync)(i)),!0)}let n=!0;for(let o of r){let a=(0,$n.resolve)(i,o.name);n=ng(a,e,o)&&n}return e.preserveRoot===!1&&i===(0,$n.parse)(i).root||!n||e.filter&&!e.filter(i,t)?!1:($i(()=>(0,me.rmdirSync)(i)),!0)};var Vn=require("path");var{chmod:tS}=At,lh=i=>async e=>{try{return await i(e)}catch(t){let r=t;if((r==null?void 0:r.code)==="ENOENT")return;if((r==null?void 0:r.code)==="EPERM"){try{await tS(e,438)}catch(n){let s=n;if((s==null?void 0:s.code)==="ENOENT")return;throw t}return await i(e)}throw t}},ch=i=>e=>{try{return i(e)}catch(t){let r=t;if((r==null?void 0:r.code)==="ENOENT")return;if((r==null?void 0:r.code)==="EPERM"){try{(0,me.chmodSync)(e,438)}catch(n){let s=n;if((s==null?void 0:s.code)==="ENOENT")return;throw t}return i(e)}throw t}};var sg=new Set(["EMFILE","ENFILE","EBUSY"]),hh=i=>{let e=async(t,r,n=1,s=0)=>{let o=r.maxBackoff||200,a=r.backoff||1.2,l=r.maxRetries||10,h=0;for(;;)try{return await i(t)}catch(f){let u=f;if((u==null?void 0:u.path)===t&&(u!=null&&u.code)&&sg.has(u.code)){if(n=Math.ceil(n*a),s=n+s,s<o)return new Promise((p,m)=>{setTimeout(()=>{e(t,r,n,s).then(p,m)},n)});if(h<l){h++;continue}}throw f}};return e},fh=i=>(t,r)=>{let n=r.maxRetries||10,s=0;for(;;)try{return i(t)}catch(o){let a=o;if((a==null?void 0:a.path)===t&&(a!=null&&a.code)&&sg.has(a.code)&&s<n){s++;continue}throw o}};var zt=require("path");var Oo=require("os"),hr=require("path");var{stat:iS}=At,rS=i=>{try{return(0,me.statSync)(i).isDirectory()}catch{return!1}},nS=i=>iS(i).then(e=>e.isDirectory(),()=>!1),sS=async i=>{let{root:e}=(0,hr.parse)(i),t=(0,Oo.tmpdir)(),{root:r}=(0,hr.parse)(t);if(e.toLowerCase()===r.toLowerCase())return t;let n=(0,hr.resolve)(e,"/temp");return await nS(n)?n:e},oS=i=>{let{root:e}=(0,hr.parse)(i),t=(0,Oo.tmpdir)(),{root:r}=(0,hr.parse)(t);if(e.toLowerCase()===r.toLowerCase())return t;let n=(0,hr.resolve)(e,"/temp");return rS(n)?n:e},aS=async()=>(0,Oo.tmpdir)(),lS=()=>(0,Oo.tmpdir)(),og=ti==="win32"?sS:aS,ag=ti==="win32"?oS:lS;var{lstat:cS,rename:hS,unlink:lg,rmdir:fS,chmod:uS}=At,fg=i=>`.${(0,zt.basename)(i)}.${Math.random()}`,pS=async i=>lg(i).catch(e=>{if(e.code==="EPERM")return uS(i,438).then(()=>lg(i),t=>{if(t.code!=="ENOENT")throw e});if(e.code==="ENOENT")return;throw e}),dS=i=>{try{(0,me.unlinkSync)(i)}catch(e){if((e==null?void 0:e.code)==="EPERM")try{return(0,me.chmodSync)(i,438)}catch(t){if((t==null?void 0:t.code)==="ENOENT")return;throw e}else if((e==null?void 0:e.code)==="ENOENT")return;throw e}},Wa=async(i,e)=>{var t;if((t=e==null?void 0:e.signal)!=null&&t.aborted)throw e.signal.reason;try{return await uh(i,e,await cS(i))}catch(r){if((r==null?void 0:r.code)==="ENOENT")return!0;throw r}},uh=async(i,e,t)=>{var s;if((s=e==null?void 0:e.signal)!=null&&s.aborted)throw e.signal.reason;if(!e.tmp)return uh(i,{...e,tmp:await og(i)},t);if(i===e.tmp&&(0,zt.parse)(i).root!==i)throw new Error("cannot delete temp directory used for deletion");let r=t.isDirectory()?await qn(i):null;if(!Array.isArray(r)){if(r){if(r.code==="ENOENT")return!0;if(r.code!=="ENOTDIR")throw r}return e.filter&&!await e.filter(i,t)?!1:(await Hi(cg(i,e.tmp,pS)),!0)}return!(await Promise.all(r.map(o=>uh((0,zt.resolve)(i,o.name),e,o)))).reduce((o,a)=>o&&a,!0)||e.preserveRoot===!1&&i===(0,zt.parse)(i).root||e.filter&&!await e.filter(i,t)?!1:(await Hi(cg(i,e.tmp,fS)),!0)},cg=async(i,e,t)=>{let r=(0,zt.resolve)(e,fg(i));return await hS(i,r),await t(r)},Ga=(i,e)=>{var t;if((t=e==null?void 0:e.signal)!=null&&t.aborted)throw e.signal.reason;try{return ph(i,e,(0,me.lstatSync)(i))}catch(r){if((r==null?void 0:r.code)==="ENOENT")return!0;throw r}},ph=(i,e,t)=>{var o;if((o=e==null?void 0:e.signal)!=null&&o.aborted)throw e.signal.reason;if(!e.tmp)return ph(i,{...e,tmp:ag(i)},t);let r=e.tmp;if(i===e.tmp&&(0,zt.parse)(i).root!==i)throw new Error("cannot delete temp directory used for deletion");let n=t.isDirectory()?Hn(i):null;if(!Array.isArray(n)){if(n){if(n.code==="ENOENT")return!0;if(n.code!=="ENOTDIR")throw n}return e.filter&&!e.filter(i,t)?!1:($i(()=>hg(i,r,dS)),!0)}let s=!0;for(let a of n){let l=(0,zt.resolve)(i,a.name);s=ph(l,e,a)&&s}return!s||e.preserveRoot===!1&&i===(0,zt.parse)(i).root||e.filter&&!e.filter(i,t)?!1:($i(()=>hg(i,r,me.rmdirSync)),!0)},hg=(i,e,t)=>{let r=(0,zt.resolve)(e,fg(i));return(0,me.renameSync)(i,r),t(r)};var{unlink:mS,rmdir:gS,lstat:vS}=At,xS=hh(lh(mS)),yS=fh(ch(me.unlinkSync)),_S=hh(lh(gS)),wS=fh(ch(me.rmdirSync)),bS=async(i,e)=>{var n;if((n=e==null?void 0:e.signal)!=null&&n.aborted)throw e.signal.reason;let{filter:t,...r}=e;try{return await _S(i,r)}catch(s){if((s==null?void 0:s.code)==="ENOTEMPTY")return await Wa(i,r);throw s}},SS=(i,e)=>{var n;if((n=e==null?void 0:e.signal)!=null&&n.aborted)throw e.signal.reason;let{filter:t,...r}=e;try{return wS(i,r)}catch(s){let o=s;if((o==null?void 0:o.code)==="ENOTEMPTY")return Ga(i,r);throw s}},fr=Symbol("start"),ug=Symbol("child"),za=Symbol("finish"),Ya=async(i,e)=>{var t;if((t=e==null?void 0:e.signal)!=null&&t.aborted)throw e.signal.reason;try{return await dh(i,e,await vS(i),fr)}catch(r){if((r==null?void 0:r.code)==="ENOENT")return!0;throw r}},Ka=(i,e)=>{var t;if((t=e==null?void 0:e.signal)!=null&&t.aborted)throw e.signal.reason;try{return mh(i,e,(0,me.lstatSync)(i),fr)}catch(r){if((r==null?void 0:r.code)==="ENOENT")return!0;throw r}},dh=async(i,e,t,r=fr)=>{var a;if((a=e==null?void 0:e.signal)!=null&&a.aborted)throw e.signal.reason;let n=t.isDirectory()?await qn(i):null;if(!Array.isArray(n)){if(n){if(n.code==="ENOENT")return!0;if(n.code!=="ENOTDIR")throw n}return e.filter&&!await e.filter(i,t)?!1:(await Hi(xS(i,e)),!0)}let s=r===fr?ug:r,o=(await Promise.all(n.map(l=>dh((0,Vn.resolve)(i,l.name),e,l,s)))).reduce((l,h)=>l&&h,!0);if(r===fr)return dh(i,e,t,za);if(r===za){if(e.preserveRoot===!1&&i===(0,Vn.parse)(i).root||!o||e.filter&&!await e.filter(i,t))return!1;await Hi(bS(i,e))}return!0},mh=(i,e,t,r=fr)=>{let n=t.isDirectory()?Hn(i):null;if(!Array.isArray(n)){if(n){if(n.code==="ENOENT")return!0;if(n.code!=="ENOTDIR")throw n}return e.filter&&!e.filter(i,t)?!1:($i(()=>yS(i,e)),!0)}let s=!0;for(let o of n){let a=r===fr?ug:r,l=(0,Vn.resolve)(i,o.name);s=mh(l,e,o,a)&&s}if(r===fr)return mh(i,e,t,za);if(r===za){if(e.preserveRoot===!1&&i===(0,Vn.parse)(i).root||!s||e.filter&&!e.filter(i,t))return!1;$i(()=>{SS(i,e)})}return!0};var gh=ti==="win32"?Ya:$a,vh=ti==="win32"?Ka:Va;var{rm:ES}=At,xh=async(i,e)=>(await ES(i,{...e,force:!0,recursive:!0}),!0),yh=(i,e)=>((0,me.rmSync)(i,{...e,force:!0,recursive:!0}),!0);var kS=process.env.__TESTING_RIMRAF_NODE_VERSION__||process.version,_h=kS.replace(/^v/,"").split("."),pg=+_h[0]>14||+_h[0]==14&&+_h[1]>=14,dg=!pg||ti==="win32"?()=>!1:i=>!(i!=null&&i.signal)&&!(i!=null&&i.filter),mg=!pg||ti==="win32"?()=>!1:i=>!(i!=null&&i.signal)&&!(i!=null&&i.filter);var ur=(i,e)=>typeof i=="undefined"||typeof i===e,CS=i=>!!i&&typeof i=="object"&&ur(i.preserveRoot,"boolean")&&ur(i.tmp,"string")&&ur(i.maxRetries,"number")&&ur(i.retryDelay,"number")&&ur(i.backoff,"number")&&ur(i.maxBackoff,"number")&&(ur(i.glob,"boolean")||i.glob&&typeof i.glob=="object")&&ur(i.filter,"function"),Hd=i=>{if(!CS(i))throw new Error("invalid rimraf options")},Wn=i=>async(e,t)=>{let r=jd(t);return r.glob&&(e=await Ua(e,r.glob)),Array.isArray(e)?!!(await Promise.all(e.map(n=>i(ws(n,r),r)))).reduce((n,s)=>n&&s,!0):!!await i(ws(e,r),r)},Gn=i=>(e,t)=>{let r=qd(t);return r.glob&&(e=qa(e,r.glob)),Array.isArray(e)?!!e.map(n=>i(ws(n,r),r)).reduce((n,s)=>n&&s,!0):!!i(ws(e,r),r)},xg=Gn(yh),OS=Object.assign(Wn(xh),{sync:xg}),yg=Gn(vh),gg=Object.assign(Wn(gh),{sync:yg}),_g=Gn(Ka),TS=Object.assign(Wn(Ya),{sync:_g}),wg=Gn(Va),AS=Object.assign(Wn($a),{sync:wg}),bg=Gn(Ga),IS=Object.assign(Wn(Wa),{sync:bg}),vg=Gn((i,e)=>mg(e)?yh(i,e):vh(i,e));var wh=Object.assign(Wn((i,e)=>dg(e)?xh(i,e):gh(i,e)),{rimraf:gg,sync:vg,rimrafSync:vg,manual:gg,manualSync:yg,native:OS,nativeSync:xg,posix:AS,posixSync:wg,windows:TS,windowsSync:_g,moveRemove:IS,moveRemoveSync:bg});wh.rimraf=wh;var Sg=wh;var $v=Ie(Hg()),Dv=Ie(Yg());var S1=Ie(Jg(),1),ff=Ie(Zh(),1),uf=Ie(Qh(),1),Q0=Ie(lf(),1),pf=Ie(J0(),1);var ev=Q0.default;var V1=Rv.default,W1=Lv.default,G1=Nv.default,z1=Iv(),Y1=z1,K1=Bv.default,X1=Fv.default,Z1=Pv.default,J1=Mv.default,Q1=Sg,ek=Dv.default,tk=ev,ik=pf.default,rk=ff.default,nk=uf.default;0&&(module.exports={HttpsProxyAgent,PNG,SocksProxyAgent,StackUtils,colors,debug,getProxyForUrl,jpegjs,lockfile,mime,minimatch,open,program,progress,rimraf,ws,wsReceiver,wsSender,wsServer});
/*! Bundled license information:

progress/lib/node-progress.js:
  (*!
   * node-progress
   * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
   * MIT Licensed
   *)
*/
